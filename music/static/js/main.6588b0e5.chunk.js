(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(n,t,e){n.exports=e(57)},57:function(n,t,e){"use strict";e.r(t);var r={};e.r(r),e.d(r,"Library",function(){return vt}),e.d(r,"Artists",function(){return Tt}),e.d(r,"Artist",function(){return Mt}),e.d(r,"Albums",function(){return qt}),e.d(r,"Album",function(){return ge}),e.d(r,"Playlists",function(){return Se}),e.d(r,"Playlist",function(){return Xe});var a=e(0),i=e.n(a),o=e(19),u=e.n(o),c=e(3),l=e(4),s=e(6),p=e(5),f=e(7),d=e(1),h=e(2);function m(){var n=Object(d.a)(["\n      100% {\n         transform: translateX(100vw);\n      }\n   "]);return m=function(){return n},n}function b(){var n=Object(d.a)(["\n      0% {\n         transform: translateX(100vw);\n      }\n   "]);return b=function(){return n},n}function g(){var n=Object(d.a)(["\n      100% {\n         transform: translateY(100vh);\n      }\n      "]);return g=function(){return n},n}function v(){var n=Object(d.a)(["\n      0% {\n         transform: translateY(100vh);\n      }\n   "]);return v=function(){return n},n}function y(){var n=Object(d.a)(["\n      100% {\n         transform: scale(0);\n         opacity: 0;\n      }\n   "]);return y=function(){return n},n}function O(){var n=Object(d.a)(["\n      0% {\n         transform: scale(0);\n         opacity: 0;\n      }\n   "]);return O=function(){return n},n}function x(){var n=Object(d.a)(["\n      100% {\n         opacity: 0;\n      }\n   "]);return x=function(){return n},n}function j(){var n=Object(d.a)(["\n      0% {\n         opacity: 0;\n      }\n   "]);return j=function(){return n},n}var E={color:{blue:["#EBF4FB","#D6E8F7","#ADD2EF","#5CA4E0","#0071CE","#005091","#00325C"],blueAlpha:["rgba(0, 113, 206, 0.08)","rgba(0, 113, 206, 0.16)","rgba(0, 113, 206, 0.32)","rgba(0, 113, 206, 0.64)"],green:["#F2F9ED","#E4F3DC","#C9E7B9","#93D073","#57B524","#35820F","#195103"],greenAlpha:["rgba(87, 181, 36, 0.08)","rgba(87, 181, 36, 0.16)","rgba(87, 181, 36, 0.32)","rgba(87, 181, 36, 0.64)"],red:["#FDEEEC","#FBDED9","#F8BDB4","#F07B69","#f62a54","#A11601","#610B00"],redAlpha:["rgba(232, 48, 20, 0.08)","rgba(232, 48, 20, 0.16)","rgba(232, 48, 20, 0.32)","rgba(232, 48, 20, 0.64)"],yellow:["#FFFAEC","#FEF5D9","#FDECB3","#FBD966","#F9C310","#C27E00","#914400"],yellowAlpha:["rgba(249, 195, 16, 0.08)","rgba(249, 195, 16, 0.16)","rgba(249, 195, 16, 0.32)","rgba(249, 195, 16, 0.64)"],gray:["#FAFAFA","#F5F5F5","#EEEEEE","#E1E1E2","#BDBEBF","#9E9FA0","#757778","#636567","#424446","#212426"],grayAlpha:["rgba(0, 3, 6, 0.02)","rgba(0, 3, 6, 0.04)","rgba(0, 3, 6, 0.07)","rgba(0, 3, 6, 0.12)","rgba(0, 3, 6, 0.26)","rgba(0, 3, 6, 0.38)","rgba(0, 3, 6, 0.54)","rgba(0, 3, 6, 0.61)","rgba(0, 3, 6, 0.74)","rgba(0, 3, 6, 0.87)"],whiteAlpha:["rgba(255, 255, 255, 0.25)","rgba(255, 255, 255, 0.5)","rgba(255, 255, 255, 0.75)","rgba(255, 255, 255, 0.97)"],white:"#FFFFFF",black:"#000000"},animation:{fadeIn:Object(h.d)(j()),fadeOut:Object(h.d)(x()),scale:Object(h.d)(O()),scaleOut:Object(h.d)(y()),slideInFromBottom:Object(h.d)(v()),slideOutToBottom:Object(h.d)(g()),slideInFromRight:Object(h.d)(b()),slideOutToRight:Object(h.d)(m())}},S=e(28),w=e.n(S);function k(){var n=Object(d.a)(["\n   display: inline-block;\n   width: ","px;\n   height: ","px;\n   color: ",";\n   stroke-width: ",";\n"]);return k=function(){return n},n}var C=h.b.span(k(),function(n){return n.size},function(n){return n.size},function(n){return n.color},function(n){return n.strokeWidth}),P=function(n){return i.a.createElement(C,{className:n.className,size:n.size,onClick:n.onClick,color:n.color,strokeWidth:n.strokeWidth,dangerouslySetInnerHTML:{__html:w.a.icons[n.name].toSvg({width:"100%",height:"100%","stroke-width":"inherit"})}})};P.defaultProps={className:"",color:"currentColor",size:24,strokeWidth:2};var A=P;function T(){var n=Object(d.a)(["\n   height: 3em;\n   width: 3em;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n\n   svg {\n      color: ",";\n      height: 20px;\n      width: 20px;\n   }\n"]);return T=function(){return n},n}function F(){var n=Object(d.a)(["\n   height: 3em;\n   width: 3em;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n"]);return F=function(){return n},n}function _(){var n=Object(d.a)(["\n   margin: 0;\n"]);return _=function(){return n},n}function I(){var n=Object(d.a)(["\n   margin: 0;\n   font-size: 1.3rem;\n"]);return I=function(){return n},n}function D(){var n=Object(d.a)(["\n   display: flex;\n   flex: 1;\n   flex-direction: column;\n   justify-content: center;\n   white-space: nowrap;\n   overflow: hidden;\n   text-overflow: ellipsis;\n\n   h2,\n   h4 {\n      font-weight: normal;\n      color: ",";\n      color: ",";\n      user-select: none;\n   }\n"]);return D=function(){return n},n}function U(){var n=Object(d.a)(["\n   display: flex;\n   min-height: 48px;\n   border-bottom: 1px solid ",";\n   cursor: pointer;\n\n   :first-of-type {\n      border-top: 1px solid ",";\n   }\n\n   &:active {\n      background: ",";\n   }\n"]);return U=function(){return n},n}var L=E.color,M=h.b.div(U(),L.gray[3],L.gray[3],L.gray[2]),B=h.b.div(D(),function(n){return n.theme&&n.theme.length?L[n.theme][4]:L.black},function(n){return n.isPlaying&&L.red[4]}),N=h.b.h2(I()),z=h.b.h4(_()),V=h.b.div(F()),R=h.b.div(T(),L.gray[4]),H=function(n){n.index;var t=n.theme,e=n.label,r=n.sublabel,a=(n.showIndex,n.isPlaying),o=n.OptionsMenu,u=n.onClick,c=n.chevron,l=n.onOptionsClick;return i.a.createElement(M,{onClick:u},i.a.createElement(B,{isPlaying:a,theme:t},i.a.createElement(N,null,e),i.a.createElement(z,null,r)),o&&i.a.createElement(V,{onClick:function(n){n.stopPropagation(),l()}},i.a.createElement(A,{name:"more-horizontal"})),c&&i.a.createElement(R,null,i.a.createElement(A,{name:"chevron-right"})))},q=e(29),G=e.n(q);function Q(){var n=Object(d.a)(["\n   color: ",";\n   font-weight: normal;\n   margin: 0;\n   user-select: none;\n"]);return Q=function(){return n},n}function J(){var n=Object(d.a)(["\n   font-weight: normal;\n   margin: 0 0 4px 0;\n   user-select: none;\n"]);return J=function(){return n},n}function W(){var n=Object(d.a)(["\n   margin: 4px 0;\n"]);return W=function(){return n},n}function Y(){var n=Object(d.a)(["\n   position: absolute;\n   top: 0;\n   border-radius: 4px;\n   max-width: 100%;\n   pointer-events: none;\n   user-select: none;\n   animation: {animation.fadeIn} 0.15s;\n"]);return Y=function(){return n},n}function X(){var n=Object(d.a)(["\n   z-index: 1;\n   position: absolute;\n   top: 0;\n   max-width: 100%;\n   transition: all 0.3s;\n   opacity: ",";\n"]);return X=function(){return n},n}function $(){var n=Object(d.a)(["\n   position: relative;\n   min-height: 185px;\n   margin-bottom: 16px;\n\n   "," {\n      height: 42vw;\n      width: 42vw;\n      margin-bottom: 0;\n   }\n"]);return $=function(){return n},n}function K(){var n=Object(d.a)(["\n   margin: 0 16px 16px;\n   width: 185px;\n   cursor: pointer;\n\n   "," {\n      margin: 16px 16px 0 0;\n      width: auto;\n      flex: 0 44%;\n   }\n\n   &:active {\n      img {\n         filter: brightness(65%);\n      }\n   }\n"]);return K=function(){return n},n}var Z=E.color,nn=h.b.div(K(),"@media screen and (max-width: 750px)"),tn=h.b.div($(),"@media screen and (max-width: 750px)"),en=h.b.img(X(),function(n){return n.isHidden?0:1}),rn=h.b.img(Y()),an=h.b.div(W()),on=h.b.h4(J()),un=h.b.h4(Q(),Z.gray[5]),cn=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).state={loaded:!1},e.onLoad=function(){e.setState({loaded:!0})},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){var n=this.props,t=n.label,e=n.sublabel,r=n.artwork,a=n.onClick,o=this.state.loaded;return i.a.createElement(nn,{onClick:a},i.a.createElement(tn,null,i.a.createElement(en,{src:"images/default_artwork.svg",isHidden:o}),i.a.createElement(G.a,null,i.a.createElement(rn,{src:r,onLoad:this.onLoad}))),i.a.createElement(an,null,i.a.createElement(on,null,t),i.a.createElement(un,null,e)))}}]),t}(a.Component);function ln(){var n=Object(d.a)(["\n   height: 100%;\n   width: 3em;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n\n   svg {\n      color: ",";\n      height: 20px;\n      width: 20px;\n   }\n"]);return ln=function(){return n},n}function sn(){var n=Object(d.a)(["\n   font-weight: normal;\n   margin: 0;\n   user-select: none;\n   color: ",";\n"]);return sn=function(){return n},n}function pn(){var n=Object(d.a)(["\n   display: flex;\n   align-items: center;\n   flex: 1;\n   margin: 8px 0 4px 16px;\n   border-bottom: 1px solid ",";\n"]);return pn=function(){return n},n}function fn(){var n=Object(d.a)(["\n   height: 100%;\n   width: 100%;\n   pointer-events: none;\n   user-select: none;\n"]);return fn=function(){return n},n}function dn(){var n=Object(d.a)(["\n   position: relative;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n   height: 104px;\n   width: 104px;\n   border-radius: 4px;\n   overflow: hidden;\n"]);return dn=function(){return n},n}function hn(){var n=Object(d.a)(["\n   display: flex;\n   height: 112px;\n   cursor: pointer;\n\n   &:active {\n      background: ",";\n   }\n"]);return hn=function(){return n},n}var mn=E.color,bn=h.b.div(hn(),mn.gray[2]),gn=h.b.div(dn()),vn=h.b.img(fn()),yn=h.b.div(pn(),mn.gray[2]),On=h.b.h3(sn(),function(n){return n.color?mn[n.color][4]:"black"}),xn=h.b.div(ln(),mn.gray[4]),jn=function(n){var t=n.title,e=n.img,r=n.color,a=n.chevron,o=n.onClick;return i.a.createElement(bn,{onClick:o},i.a.createElement(gn,null,i.a.createElement(vn,{src:e})),i.a.createElement(yn,null,i.a.createElement(On,{color:r},t)),a&&i.a.createElement(xn,null,i.a.createElement(A,{name:"chevron-right"})))};function En(){var n=Object(d.a)(["\n   margin: 0;\n   font-size: 1.3rem;\n   color: ",";\n   font-weight: ",";\n"]);return En=function(){return n},n}function Sn(){var n=Object(d.a)(["\n   height: 30px;\n   width: 40px;\n   margin: auto 0;\n"]);return Sn=function(){return n},n}function wn(){var n=Object(d.a)(["\n   display: flex;\n   align-items: center;\n"]);return wn=function(){return n},n}function kn(){var n=Object(d.a)(["\n   display: flex;\n   justify-content: ",";\n   justify-content: ",";\n   min-height: 64px;\n   border-bottom: 1px solid ",";\n   padding: 0 16px;\n   cursor: pointer;\n\n   &:active {\n      background: ",";\n   }\n"]);return kn=function(){return n},n}var Cn=E.color,Pn=h.b.div(kn(),function(n){return n.center&&"center"},function(n){return n.hasImage&&"space-between"},Cn.gray[3],Cn.gray[2]),An=h.b.div(wn()),Tn=h.b.img(Sn()),Fn=h.b.h2(En(),Cn.red[4],function(n){return n.bold?"bold":"normal"}),_n=function(n){var t=n.label,e=(n.icon,n.image),r=n.center,a=n.bold,o=n.onClick;return i.a.createElement(Pn,{hasImage:e,center:r,onClick:o},i.a.createElement(An,null,i.a.createElement(Fn,{bold:a},t)),e&&i.a.createElement(Tn,{src:"images/".concat(e)}))};function In(){var n=Object(d.a)(["\n   font-size: 32px;\n   margin: 8px 0;\n"]);return In=function(){return n},n}h.b.h1(In());var Dn=new function n(){var t=this;Object(c.a)(this,n),this.makeRequest=function(n){var t=n.url,e=n.data;return new Promise(function(n,r){fetch(t,e).then(function(t){t.json().then(function(e){t.status>=300&&r(e.message),n(e)})}).catch(function(n){r(Error(n))})})},this.fetchArtists=function(){return t.makeRequest({url:"".concat(t.url,"/artists"),data:{method:"GET"}})},this.fetchArtist=function(n){return t.makeRequest({url:"".concat(t.url,"/artist/").concat(n),data:{method:"GET"}})},this.fetchAlbums=function(){return t.makeRequest({url:"".concat(t.url,"/albums"),data:{method:"GET"}})},this.fetchAlbum=function(n){var e=n.album;return t.makeRequest({url:"".concat(t.url,"/album/").concat(e),data:{method:"GET"}})},this.url="https://05aacd63.ngrok.io/api"};function Un(){var n=Object(d.a)(["\n   height: 100%;\n   width: 100%;\n   position: relative;\n   cursor: pointer;\n\n   img {\n      max-height: 100%;\n   }\n\n   &:active {\n      filter: brightness(0.95);\n   }\n"]);return Un=function(){return n},n}function Ln(){var n=Object(d.a)(["\n   display: none;\n"]);return Ln=function(){return n},n}function Mn(){var n=Object(d.a)(["\n   display: flex;\n   height: 150px;\n   width: 150px;\n   justify-content: center;\n   align-items: center;\n   overflow: hidden;\n   border-radius: 4px;\n"]);return Mn=function(){return n},n}var Bn=h.b.div(Mn()),Nn=h.b.input(Ln()),zn=h.b.label(Un()),Vn=function(n){function t(n){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this,n))).base64Encode=function(n){var t=new FileReader;t.readAsDataURL(n),t.onload=function(){return e.props.onUpload(t.result)},t.onerror=function(n){console.log("Error: ",n)}},e.sendImage=function(n){e.base64Encode(n),e.setState({img:window.URL.createObjectURL(n)})},e.state={img:n.img},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){var n=this,t=this.state.img;return i.a.createElement(Bn,null,i.a.createElement(zn,{htmlFor:"media-uploader"},i.a.createElement("img",{alt:"Upload",draggable:"false",src:t})),i.a.createElement(Nn,{id:"media-uploader",accept:"image/x-png,image/gif,image/jpeg",type:"file",onChange:function(t){return n.sendImage(t.target.files[0])}}))}}]),t}(a.Component);function Rn(){var n=Object(d.a)(["\n   position: absolute;\n   width: 2.25rem;\n   top: 20px;\n   animation: "," 0.3s ease;\n\n   "," {\n      width: 1.5rem;\n      top: 10px;\n   }\n"]);return Rn=function(){return n},n}function Hn(){var n=Object(d.a)(["\n   width: 11rem;\n   margin-left: 20px;\n\n   "," {\n      width: 6rem;\n      margin-left: 10px;\n   }\n"]);return Hn=function(){return n},n}function qn(){var n=Object(d.a)(["\n   height: 100%;\n"]);return qn=function(){return n},n}function Gn(){var n=Object(d.a)(["\n   position: relative;\n   display: ",";\n   align-items: flex-end;\n   height: 100%;\n   background: white;\n"]);return Gn=function(){return n},n}function Qn(){var n=Object(d.a)(["\n   position: relative;\n   display: flex;\n   width: ",";\n   height: 3.5rem;\n   padding-bottom: 1vh;\n   overflow: hidden;\n   transition: all 0.5s;\n   animation: "," 0.3s ease;\n\n   "," {\n      height: 2rem;\n      width: ",";\n   }\n"]);return Qn=function(){return n},n}function Jn(){var n=Object(d.a)(["\n   z-index: 200;\n   position: fixed;\n   display: ",";\n   justify-content: center;\n   align-items: center;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   background: white;\n   animation: "," 0.3s;\n"]);return Jn=function(){return n},n}var Wn=E.animation,Yn=h.b.div(Jn(),function(n){return n.isOpen?"flex":"none"},function(n){return n.isClosing?Wn.fadeOut:null}),Xn=h.b.div(Qn(),function(n){return n.width},function(n){return n.isClosing?Wn.scaleOut:Wn.scale},"@media screen and (max-width: 700px)",function(n){return"18rem"===n.width&&"10rem"}),$n=h.b.div(Gn(),function(n){return n.hidden?"none":"flex"}),Kn=h.b.img(qn()),Zn=h.b.img(Hn(),"@media screen and (max-width: 700px)"),nt=h.b.img(Rn(),Wn.scale,"@media screen and (max-width: 700px)"),tt=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).state={isOpen:!0,isClosing:!1,width:"4rem",showMusic:!1,showExtension:!1},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"componentDidMount",value:function(){var n=this;setTimeout(function(){n.setState({showMusic:!0,width:"18rem"})},300),setTimeout(function(){n.setState({showExtension:!0})},800),setTimeout(function(){n.setState({isClosing:!0})},1700),setTimeout(function(){n.setState({isClosing:!1,isOpen:!1})},2e3)}},{key:"render",value:function(){var n=this.state,t=n.isOpen,e=n.isClosing;return i.a.createElement(Yn,{isOpen:t||e,isClosing:e},i.a.createElement(Xn,{width:this.state.width,isClosing:e},i.a.createElement($n,null,i.a.createElement(Kn,{src:"images/logo_apple.svg"})),i.a.createElement($n,{hidden:!this.state.showMusic},i.a.createElement(Zn,{src:"images/logo_music.svg"})),i.a.createElement($n,{hidden:!this.state.showExtension},i.a.createElement(nt,{src:"images/logo_js.svg"}))))}}]),t}(a.Component),et=e(8),rt=function(n){return{type:"PUSH_VIEW",view:n}},at=function(n){return{type:"PUSH_POPUP",popup:n}};function it(){var n=Object(d.a)(["\n   display: flex;\n   flex-wrap: wrap;\n   margin-top: 16px;\n\n   div {\n      margin-left: 0;\n   }\n"]);return it=function(){return n},n}function ot(){var n=Object(d.a)(["\n   margin: 8px 0;\n   font-size: 21px;\n"]);return ot=function(){return n},n}function ut(){var n=Object(d.a)(["\n   margin-top: 24px;\n"]);return ut=function(){return n},n}var ct=h.b.div(ut()),lt=h.b.h3(ot()),st=h.b.div(it()),pt=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).viewAlbum=function(n){var t=n.artist,r=n.album;e.props.pushView({name:"Album",title:r,props:{hideTitle:!0,artist:t,album:r}})},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){var n=this,t=this.props.audioState.recents;return i.a.createElement(ct,null,i.a.createElement(lt,null,"Recently Played"),i.a.createElement(st,null,t&&t.map(function(t,e){var r=t.album,a=t.artist,o=t.artwork,u="https://tannerv.ddns.net/SpotiFree/".concat(o);return i.a.createElement(cn,{key:r,label:r,sublabel:a,artwork:u,onClick:function(){return n.viewAlbum({artist:a,album:r})}})})))}}]),t}(a.Component),ft=Object(et.b)(function(n){return{audioState:n.audioState}},function(n){return{pushView:function(t){return n(rt(t))}}})(pt);function dt(){var n=Object(d.a)([""]);return dt=function(){return n},n}function ht(){var n=Object(d.a)(["\n   margin-top: 48px;\n"]);return ht=function(){return n},n}var mt=h.b.div(ht()),bt=h.b.div(dt()),gt=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).changeView=function(n){e.props.pushView({name:n,props:{}})},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){var n=this;return i.a.createElement(mt,null,i.a.createElement(bt,null,i.a.createElement(H,{label:"Artists",theme:"red",chevron:!0,onClick:function(){return n.changeView("Artists")}}),i.a.createElement(H,{label:"Albums",theme:"red",chevron:!0,onClick:function(){return n.changeView("Albums")}}),i.a.createElement(H,{label:"Playlists",theme:"red",chevron:!0,onClick:function(){return n.changeView("Playlists")}})),i.a.createElement(ft,null))}}]),t}(a.Component),vt=Object(et.b)(function(n){return{viewState:n.viewState}},function(n){return{pushView:function(t){return n(rt(t))}}})(gt),yt=e(12),Ot=e(11),xt=e(9),jt=function(){return function(n){return Dn.fetchAlbums().then(function(t){var e={},r=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){e[o.value.album]=[]}}catch(c){a=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}n({type:"FETCH_ALBUM_LIST_SUCCESS",albumData:e,albums:t})}).catch(function(n){console.log(n)})}},Et=function(){return function(n){var t=localStorage.appleMusicPlaylists;n({type:"FETCH_PLAYLIST_LIST_SUCCESS",playlists:t?JSON.parse(t):[]})}},St=function(n,t){return function(e){var r=localStorage.appleMusicPlaylists;r=r?JSON.parse(r):r,t=Object(xt.a)({},t,{tracks:[].concat(Object(Ot.a)(t.tracks),[n])}),r=Object(xt.a)({},r,Object(yt.a)({},t.title,t)),localStorage.appleMusicPlaylists=JSON.stringify(r),e({type:"UPDATE_PLAYLIST",playlists:r})}};function wt(){var n=Object(d.a)([""]);return wt=function(){return n},n}function kt(){var n=Object(d.a)(["\n   margin-top: 48px;\n"]);return kt=function(){return n},n}var Ct=h.b.div(kt()),Pt=h.b.div(wt()),At=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).viewArtist=function(n){e.props.pushView({name:"Artist",title:n,props:{artist:n}})},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.apiState.data.artists.length||this.props.fetchArtists()}},{key:"render",value:function(){var n=this,t=this.props.apiState.data.artists;return i.a.createElement(Ct,null,i.a.createElement(Pt,null,t&&t.map(function(t,e){return i.a.createElement(H,{key:t.artist,label:t.artist,chevron:!0,onClick:function(){return n.viewArtist(t.artist)}})})))}}]),t}(a.Component),Tt=Object(et.b)(function(n){return{viewState:n.viewState,apiState:n.apiState}},function(n){return{pushView:function(t){return n(rt(t))},fetchArtists:function(){return n(function(n){return Dn.fetchArtists().then(function(t){var e={};for(var r in t)e[t[r].artist]=[];n({type:"FETCH_ARTIST_LIST_SUCCESS",artists:t,artistData:e})}).catch(function(n){console.log(n)})})}}})(At);function Ft(){var n=Object(d.a)(["\n   display: flex;\n   flex-wrap: wrap;\n   margin-top: 16px;\n"]);return Ft=function(){return n},n}function _t(){var n=Object(d.a)(["\n   margin-top: 48px;\n   border-top: 1px solid ",";\n"]);return _t=function(){return n},n}var It=E.color,Dt=h.b.div(_t(),It.gray[2]),Ut=h.b.div(Ft()),Lt=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).viewAlbum=function(n){var t=n.artist,r=n.album;e.props.pushView({name:"Album",title:r,props:{hideTitle:!0,artist:t,album:r}})},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"componentDidMount",value:function(){var n=this.props,t=n.artist;0===n.apiState.data.artistData[t].length&&this.props.fetchArtist(t)}},{key:"render",value:function(){var n=this,t=this.props,e=t.artist,r=t.apiState.data.artistData[e];return i.a.createElement(Dt,null,i.a.createElement(Ut,null,r&&r.map(function(t,e){var r=t.album,a=t.artist,o=t.artwork,u="https://tannerv.ddns.net/SpotiFree/".concat(o);return i.a.createElement(cn,{key:r,label:r,sublabel:a,artwork:u,onClick:function(){return n.viewAlbum({artist:a,album:r})}})})))}}]),t}(a.Component),Mt=Object(et.b)(function(n){return{viewState:n.viewState,apiState:n.apiState}},function(n){return{pushView:function(t){return n(rt(t))},fetchArtist:function(t){return n(function(n){return function(t){return Dn.fetchArtist(n).then(function(e){var r={};for(var a in e)r[e[a].album]=[];t({type:"FETCH_ARTIST_SUCCESS",name:n,albums:e,albumData:r})}).catch(function(n){console.log(n)})}}(t))}}})(Lt);function Bt(){var n=Object(d.a)(["\n   display: flex;\n   flex-wrap: wrap;\n   margin-top: 16px;\n"]);return Bt=function(){return n},n}function Nt(){var n=Object(d.a)(["\n   margin-top: 48px;\n   border-top: 1px solid ",";\n"]);return Nt=function(){return n},n}var zt=E.color,Vt=h.b.div(Nt(),zt.gray[2]),Rt=h.b.div(Bt()),Ht=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).viewAlbum=function(n){var t=n.artist,r=n.album;e.props.pushView({name:"Album",title:r,props:{hideTitle:!0,artist:t,album:r}})},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"componentDidMount",value:function(){0===this.props.apiState.data.albums.length&&this.props.fetchAlbums()}},{key:"render",value:function(){var n=this,t=this.props.apiState.data.albums;return i.a.createElement(Vt,null,i.a.createElement(Rt,null,t&&t.map(function(t,e){var r=t.album,a=t.artist,o=t.artwork,u="https://tannerv.ddns.net/SpotiFree/".concat(o);return i.a.createElement(cn,{key:r,label:r,sublabel:a,artwork:u,onClick:function(){return n.viewAlbum({artist:a,album:r})}})})))}}]),t}(a.Component),qt=Object(et.b)(function(n){return{viewState:n.viewState,apiState:n.apiState}},function(n){return{pushView:function(t){return n(rt(t))},fetchAlbums:function(){return n(jt())}}})(Ht),Gt=function(n){var t=n.playlist,e=n.index;return function(n){n({type:"PLAY_SONG",playlist:t,index:e})}},Qt=function(n){return{type:"ADD_TO_QUEUE",track:n}},Jt=function(n){return{type:"UPDATE_TIME",info:n}};function Wt(){var n=Object(d.a)(["\n   @media screen and (max-width: 750px) {\n      display: none;\n   }\n"]);return Wt=function(){return n},n}function Yt(){var n=Object(d.a)(["\n   color: ",";\n   font-weight: normal;\n   margin: 0 0 16px 0;\n\n   "," {\n      font-size: 3vh;\n   }\n"]);return Yt=function(){return n},n}function Xt(){var n=Object(d.a)(["\n   margin: 0 0 8px;\n\n   "," {\n      font-size: 3.5vh;\n   }\n"]);return Xt=function(){return n},n}function $t(){var n=Object(d.a)(["\n   display: flex;\n   flex-direction: column;\n"]);return $t=function(){return n},n}function Kt(){var n=Object(d.a)(["\n   position: relative;\n   display: flex;\n   height: 20vh;\n   margin-bottom: 16px;\n\n   @media screen and (min-width: 750px) {\n      display: none;\n   }\n"]);return Kt=function(){return n},n}function Zt(){var n=Object(d.a)(["\n   flex: 1;\n"]);return Zt=function(){return n},n}function ne(){var n=Object(d.a)(["\n   z-index: 1;\n   position: absolute;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   background: url('images/default_artwork.svg');\n   background-size: cover;\n   transition: all 0.3s;\n   opacity: ",";\n"]);return ne=function(){return n},n}function te(){var n=Object(d.a)(["\n   border: 1px solid ",";\n   box-sizing: border-box;\n   border-radius: 6px;\n   pointer-events: none;\n   user-select: none;\n   max-height: 100%;\n"]);return te=function(){return n},n}function ee(){var n=Object(d.a)(["\n   position: relative;\n   height: 300px;\n   width: 300px;\n   margin-right: 32px;\n\n   "," {\n      height: 36vw;\n      width: 36vw;\n      display: block;\n      margin-right: 8px;\n      max-height: 100%;\n   }\n"]);return ee=function(){return n},n}function re(){var n=Object(d.a)(["\n   display: flex;\n\n   "," {\n      display: block;\n   }\n"]);return re=function(){return n},n}var ae=E.color,ie="@media screen and (max-width: 750px)",oe=h.b.div(re(),ie),ue=h.b.div(ee(),ie),ce=h.b.img(te(),ae.gray[2]),le=h.b.div(ne(),function(n){return n.isHidden?0:1}),se=h.b.div(Zt()),pe=h.b.div(Kt()),fe=h.b.div($t()),de=h.b.h1(Xt(),ie),he=h.b.h2(Yt(),ae.red[4],ie),me=h.b.div(Wt()),be=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).state={isLoaded:!1},e.playSong=function(n){var t=n.playlist,r=n.index;e.props.playSong({playlist:t,index:r})},e.setupOptionsMenu=function(n){e.props.pushPopup({name:"Options",props:{options:[{label:"Play Next",image:"play_next.svg",onClick:function(){return e.props.addToQueue(n)}},{label:"Add to a Playlist",image:"add_to_playlist.svg",onClick:function(){return e.props.pushPopup({name:"Playlist Selector",props:{onSelect:function(t){return e.props.addToPlaylist(n,t)}}})}}]}})},e.onArtworkLoaded=function(){e.setState({isLoaded:!0})},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"componentDidMount",value:function(){var n=this.props,t=n.album,e=n.apiState.data,r=e.albums,a=e.albumData;0===r.length&&(this.props.fetchAlbums(),this.props.fetchAlbum({album:t})),a[t]&&a[t].length||this.props.fetchAlbum({album:t})}},{key:"render",value:function(){var n=this,t=this.props,e=t.album,r=t.apiState,a=t.audioState,o=a.playlist,u=a.currentIndex,c=r.data.albumData,l=this.state.isLoaded,s=c[e],p=s?s[0]&&s[0].artwork:null,f=s?s[0]&&s[0].artist:"Loading",d=o.length&&o[u],h="https://tannerv.ddns.net/SpotiFree/".concat(p);return i.a.createElement(oe,null,i.a.createElement(pe,null,i.a.createElement(ue,null,i.a.createElement(le,{isHidden:l}),p&&i.a.createElement(ce,{src:h})),i.a.createElement(fe,null,i.a.createElement(de,null,e),i.a.createElement(he,null,f))),i.a.createElement(me,null,i.a.createElement(ue,null,i.a.createElement(le,{isHidden:l}),p&&i.a.createElement(ce,{src:h,onLoad:this.onArtworkLoaded}))),i.a.createElement(se,null,i.a.createElement(me,null,i.a.createElement(de,null,e),i.a.createElement(he,null,f)),s&&s.map(function(t,e){return i.a.createElement(H,{key:t.name,label:t.name,isPlaying:d&&t.name===d.name&&t.album===d.album&&t.artist===d.artist,OptionsMenu:!0,onOptionsClick:function(){return n.setupOptionsMenu(t)},onClick:function(){return n.playSong({playlist:s,index:e})}})})))}}]),t}(a.Component),ge=Object(et.b)(function(n){return{viewState:n.viewState,apiState:n.apiState,audioState:n.audioState}},function(n){return{pushView:function(t){return n(rt(t))},pushPopup:function(t){return n(at(t))},playSong:function(t){var e=t.playlist,r=t.index;return n(Gt({playlist:e,index:r}))},addToQueue:function(t){return n(Qt(t))},addToPlaylist:function(t,e){return n(St(t,e))},fetchAlbums:function(){return n(jt())},fetchAlbum:function(t){var e=t.album;return n(function(n){var t=n.artist,e=n.album;return function(n){return Dn.fetchAlbum({artist:t,album:e}).then(function(t){n({type:"FETCH_ALBUM_SUCCESS",album:e,tracks:t})}).catch(function(n){console.log(n)})}}({album:e}))}}})(be),ve=e(17);function ye(){var n=Object(d.a)([""]);return ye=function(){return n},n}function Oe(){var n=Object(d.a)(["\n   margin-top: 48px;\n"]);return Oe=function(){return n},n}var xe=h.b.div(Oe()),je=h.b.div(ye()),Ee=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).viewPlaylist=function(n){var t=n.playlist,r=n.index;e.props.pushView({name:"Playlist",title:t.title,props:{hideTitle:!0,index:r,playlist:t}})},e.newPlaylist=function(){e.props.pushPopup({name:"Playlist Creator",props:{}})},e.getPlaylistButtons=function(){for(var n=localStorage.appleMusicPlaylists?JSON.parse(localStorage.appleMusicPlaylists):{},t=[],r=function(){var n=o[a],r=(u=Object(ve.a)(n,2))[0],c=u[1];t.push(i.a.createElement(jn,{key:"".concat(r,"-").concat(c.title,"-").concat(c.description),title:c.title,img:c.img||"images/music.jpg",chevron:!0,onClick:function(){return e.viewPlaylist({playlist:c})}}))},a=0,o=Object.entries(n);a<o.length;a++){var u;r()}return t},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPlaylists()}},{key:"render",value:function(){return i.a.createElement(xe,null,i.a.createElement(je,null,i.a.createElement(jn,{key:"new-playlist-button",title:"New Playlist...",img:"images/playlist_add.jpg",color:"red",onClick:this.newPlaylist}),this.getPlaylistButtons()))}}]),t}(a.Component),Se=Object(et.b)(function(n){return{viewState:n.viewState,apiState:n.apiState}},function(n){return{pushView:function(t){return n(rt(t))},pushPopup:function(t){return n(at(t))},fetchPlaylists:function(){return n(Et())}}})(Ee);function we(){var n=Object(d.a)(["\n   @media screen and (max-width: 750px) {\n      display: none;\n   }\n"]);return we=function(){return n},n}function ke(){var n=Object(d.a)(["\n   height: ","px;\n   width: ","px;\n"]);return ke=function(){return n},n}function Ce(){var n=Object(d.a)(["\n   flex: 1;\n   display: flex;\n   flex-direction: column;\n   justify-content: center;\n   align-items: flex-end;\n   padding: 0 9px;\n\n   svg, img {\n      cursor: pointer;\n   }\n"]);return Ce=function(){return n},n}function Pe(){var n=Object(d.a)(["\n   color: ",";\n   font-weight: normal;\n   margin: 0 0 16px 0;\n\n   "," {\n      font-size: 1.25rem;\n   }\n"]);return Pe=function(){return n},n}function Ae(){var n=Object(d.a)(["\n   margin: 0 0 8px;\n\n   "," {\n      font-size: 1.5rem;\n   }\n"]);return Ae=function(){return n},n}function Te(){var n=Object(d.a)(["\n   display: flex;\n   flex-direction: column;\n   flex: 1;\n   margin-bottom: 16px;\n"]);return Te=function(){return n},n}function Fe(){var n=Object(d.a)(["\n   position: relative;\n   display: flex;\n   height: 20vh;\n   margin-bottom: 16px;\n\n   @media screen and (min-width: 750px) {\n      display: none;\n   }\n"]);return Fe=function(){return n},n}function _e(){var n=Object(d.a)(["\n   flex: 1;\n   margin-top: 16px;\n"]);return _e=function(){return n},n}function Ie(){var n=Object(d.a)(["\n   border: 1px solid ",";\n   border-radius: 6px;\n   pointer-events: none;\n   user-select: none;\n   max-height: 100%;\n"]);return Ie=function(){return n},n}function De(){var n=Object(d.a)(["\n   margin-right: 32px;\n\n   "," {\n      display: block;\n      margin-right: 8px;\n      height: 100%;\n   }\n"]);return De=function(){return n},n}function Ue(){var n=Object(d.a)(["\n   display: flex;\n\n   "," {\n      display: block;\n   }\n"]);return Ue=function(){return n},n}var Le=E.color,Me="@media screen and (max-width: 750px)",Be=h.b.div(Ue(),Me),Ne=h.b.div(De(),Me),ze=h.b.img(Ie(),Le.gray[2]),Ve=h.b.div(_e()),Re=h.b.div(Fe()),He=h.b.div(Te()),qe=h.b.h1(Ae(),Me),Ge=h.b.h2(Pe(),Le.red[4],Me),Qe=h.b.div(Ce()),Je=h.b.img(ke(),function(n){return n.size||30},function(n){return n.size||30}),We=h.b.div(we()),Ye=function(n){function t(n){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this,n))).playSong=function(n){var t=n.playlist,r=n.index;e.props.playSong({playlist:t,index:r})},e.deletePlaylist=function(){var n=e.props.playlist;e.props.popView(),setTimeout(function(){e.props.deletePlaylist(n)},300)},e.setupTrackOptionsMenu=function(n,t){var r=e.props.playlist;e.props.pushPopup({name:"Options",props:{options:[{label:"Play Next",image:"play_next.svg",onClick:function(){return e.props.addToQueue(n)}},{label:"Add to a Playlist",image:"add_to_playlist.svg",onClick:function(){return e.props.pushPopup({name:"Playlist Selector",props:{onSelect:function(t){return e.props.addToPlaylist(n,t)}}})}},{label:"Delete from Playlist",image:"trash.svg",onClick:function(){return e.props.removeFromPlaylist(t,r)}}]}})},e.setupPlaylistOptionsMenu=function(){e.props.pushPopup({name:"Options",props:{options:[{label:"Delete from Library",image:"trash.svg",onClick:e.deletePlaylist}]}})},e.state={playlists:n.apiState.data.playlists},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPlaylists()}},{key:"render",value:function(){var n=this,t=this.props,e=t.playlist,r=t.apiState,a=JSON.parse(localStorage.appleMusicPlaylists);if(!a)return null;var o=a[e.title],u=o.tracks,c=o.img,l=o.description,s=o.title,p=r.data.currentTrack;return c=c||"images/music.jpg",i.a.createElement(Be,null,i.a.createElement(Re,null,i.a.createElement(Ne,null,i.a.createElement(ze,{src:c})),i.a.createElement(He,null,i.a.createElement(qe,null,s),i.a.createElement(Ge,null,l),i.a.createElement(Qe,null,i.a.createElement(Je,{src:"images/more_circle.svg",onClick:this.setupPlaylistOptionsMenu})))),i.a.createElement(We,null,i.a.createElement(Ne,null,i.a.createElement(ze,{src:c}))),i.a.createElement(Ve,null,i.a.createElement(We,null,i.a.createElement(He,null,i.a.createElement(qe,null,s),i.a.createElement(Ge,null,l),i.a.createElement(Qe,null,i.a.createElement(Je,{src:"images/more_circle.svg",onClick:this.setupPlaylistOptionsMenu})))),u&&u.map(function(t,e){return i.a.createElement(H,{key:"playlist-".concat(t.name,"-").concat(e),label:t.name,sublabel:t.artist,isPlaying:p&&t.name===p.name&&t.artist===p.artist,OptionsMenu:!0,onOptionsClick:function(){return n.setupTrackOptionsMenu(t,e)},onClick:function(){return n.playSong({playlist:u,index:e})}})})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{playlists:n.apiState.data.playlists}}}]),t}(a.Component),Xe=Object(et.b)(function(n){return{viewState:n.viewState,apiState:n.apiState,audioState:n.audioState}},function(n){return{pushView:function(t){return n(rt(t))},popView:function(){return n({type:"POP_VIEW"})},playSong:function(t){var e=t.playlist,r=t.index;return n(Gt({playlist:e,index:r}))},addToPlaylist:function(t,e){return n(St(t,e))},addToQueue:function(t){return n(Qt(t))},pushPopup:function(t){return n(at(t))},removeFromPlaylist:function(t,e){return n(function(n,t){return function(e){var r=localStorage.appleMusicPlaylists;r=r?JSON.parse(r):r,t=Object(xt.a)({},t,{tracks:[].concat(Object(Ot.a)(t.tracks.slice(0,n)),Object(Ot.a)(t.tracks.slice(n+1)))}),r=Object(xt.a)({},r,Object(yt.a)({},t.title,t)),localStorage.appleMusicPlaylists=JSON.stringify(r),e({type:"UPDATE_PLAYLIST",playlists:r})}}(t,e))},deletePlaylist:function(t){return n(function(n){return function(t){var e=localStorage.appleMusicPlaylists;delete(e=e?JSON.parse(e):e)[n.title],localStorage.appleMusicPlaylists=JSON.stringify(e),t({type:"UPDATE_PLAYLIST",playlists:e})}}(t))},fetchPlaylists:function(){return n(Et())}}})(Ye);function $e(){var n=Object(d.a)(["\n   z-index: ",";\n   position: absolute;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   padding: 0 24px;\n   background: white;\n   transform: ",";\n   overflow: ",";\n   animation: "," 0.3s ease-in-out;\n   transition: all 0.3s ease-in-out;\n   -webkit-overflow-scrolling: touch;\n"]);return $e=function(){return n},n}function Ke(){var n=Object(d.a)(["\n   position: relative;\n   width: 100%;\n   max-width: 1130px;\n   flex: 1;\n   overflow: auto;\n   margin: 48px auto 64px auto;\n   padding-left: 24px;\n   overflow: hidden;\n"]);return Ke=function(){return n},n}var Ze=E.animation,nr=Ze.slideInFromRight,tr=Ze.slideOutToRight,er=h.b.div(Ke()),rr=h.b.div($e(),function(n){return n.secondFromTop?0:1},function(n){return n.secondFromTop&&!n.becomingTop?"translateX(-20%)":null},function(n){return n.secondFromTop?"hidden":"auto"},function(n){return n.exiting?tr:nr}),ar=function(n){return{viewState:n.viewState}},ir=Object(et.b)(ar)(function(n){var t=n.stack,e=n.exiting;return t.map(function(n,a){var o=n.name,u=n.props,c=r[o],l=a!==t.length-1;try{return i.a.createElement(rr,{key:"page-".concat(a),secondFromTop:l,becomingTop:e&&a===t.length-2,exiting:e&&a===t.length-1},i.a.createElement(c,u))}catch(s){return console.error("Error: This view is empty: ",c),null}})}),or=function(n){function t(n){var e;Object(c.a)(this,t),e=Object(s.a)(this,Object(p.a)(t).call(this,n));var r=n.viewState.stack;return e.state={stack:r,newStack:null,exiting:!1},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"animateBack",value:function(){var n=this,t=this.props.viewState.stack;setTimeout(function(){n.setState({stack:t,exiting:!1})},280)}},{key:"componentDidUpdate",value:function(n,t){this.state.exiting&&this.animateBack()}},{key:"render",value:function(){var n=this.state,t=n.stack,e=n.exiting;return i.a.createElement(er,null,i.a.createElement(ir,{stack:t,exiting:e}))}}],[{key:"getDerivedStateFromProps",value:function(n,t){var e=n.viewState.stack,r=e.length<t.stack.length;return{stack:r?t.stack:e,exiting:r}}}]),t}(a.Component),ur=Object(et.b)(ar)(or);function cr(){var n=Object(d.a)(["\n   margin: 0;\n   transition: all 0.3s ease-in-out;\n"]);return cr=function(){return n},n}function lr(){var n=Object(d.a)(["\n   position: absolute;\n   margin-top: ",";\n   margin-left: ",";\n   margin-left: ",";\n   animation: ","\n      0.3s ease-in-out;\n   transition: all 0.3s ease-in-out;\n\n   h1 {\n      color: ",";\n      color: ",";\n      font-weight: ",";\n      font-size: ",";\n      opacity: ",";\n      cursor: ",";\n\n      &:active {\n         color: ",";\n      }\n   }\n"]);return lr=function(){return n},n}function sr(){var n=Object(d.a)(["\n   cursor: pointer;\n   width: 40px;\n   margin-left: -6px;\n   opacity: ",";\n   transform: ",";\n   transition: all 0.3s;\n\n   &:active {\n      svg: {\n         color: ",";\n      }\n   }\n"]);return sr=function(){return n},n}function pr(){var n=Object(d.a)(["\n   z-index: 2;\n   position: fixed;\n   display: flex;\n   top: 0;\n   left: 0;\n   right: 0;\n   max-width: 1200px;\n   margin: 0 auto;\n   height: ",";\n   padding-left: 48px;\n   background: white;\n   overflow: hidden;\n   transition: all 0.3s ease-in-out;\n\n   @media screen and (max-width: 768px) {\n      padding-left: 0;\n   }\n"]);return pr=function(){return n},n}var fr=E.color,dr=E.animation,hr=dr.slideInFromRight,mr=dr.slideOutToRight,br=h.b.div(pr(),function(n){return n.hideTitle?"48px":"90px"}),gr=h.b.div(sr(),function(n){return n.isShown?1:0},function(n){return n.isShown?"scale(1) translateX(0)":"scale(0) translateX(20px)"},function(n){return n.isBackButton&&fr.redAlpha[2]}),vr=h.b.div(lr(),function(n){return n.isBackButton&&!n.exiting||n.isHidden?"5px":"48px"},function(n){return n.isHidden&&!n.exiting?"-100%":"24px"},function(n){return n.isTitle&&n.exiting&&"100vw"},function(n){return n.isLeaving?mr:hr},function(n){return n.isBackButton&&!n.exiting||n.isHidden?fr.red[4]:fr.black},function(n){return n.isTitle&&n.exiting&&"white"},function(n){return n.isBackButton&&!n.exiting||n.isHidden?"normal":"bold"},function(n){return n.isBackButton&&!n.exiting||n.isHidden?"20px":null},function(n){return n.isHidden&&!n.exiting?0:1},function(n){return n.isBackButton&&"pointer"},function(n){return n.isBackButton&&fr.redAlpha[2]}),yr=h.b.h1(cr()),Or=function(n){return{viewState:n.viewState}},xr=function(n){return{popView:function(){return n({type:"POP_VIEW"})}}},jr=Object(et.b)(Or)(function(n){var t=n.stack,e=n.exiting,r=n.onClick;return t.map(function(n,a){var o=n.name,u=n.title,c=n.props,l=a<t.length-2,s=a===t.length-2,p=a===t.length-1;return a>=t.length-3&&i.a.createElement(vr,{key:"title-".concat(o),isHidden:l,isBackButton:s,exiting:e,isTitle:p},!c.hideTitle&&i.a.createElement(yr,{onClick:function(){return s?r():null}},u||o))})}),Er=Object(et.b)(Or,xr)(function(n){var t=n.viewState,e=n.popView,r=t.stack.length>1;return i.a.createElement(gr,{isShown:r},i.a.createElement(A,{name:"chevron-left",size:38,color:fr.red[4],onClick:r?e:null}))}),Sr=function(n){function t(n){var e;Object(c.a)(this,t),e=Object(s.a)(this,Object(p.a)(t).call(this,n));var r=n.viewState.stack;return e.state={stack:r,hideTitle:n.hideTitle,newStack:null,exiting:!1},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"animateBack",value:function(){var n=this,t=this.props.viewState.stack;setTimeout(function(){n.setState({stack:t,exiting:!1})},280)}},{key:"componentDidUpdate",value:function(n,t){this.state.exiting&&this.animateBack()}},{key:"render",value:function(){var n=this.state,t=n.stack,e=n.exiting,r=t[t.length-1].props.hideTitle;return i.a.createElement(br,{hideTitle:r&&!e},i.a.createElement(Er,null),i.a.createElement(jr,{stack:t,exiting:e,onClick:this.props.popView}))}}],[{key:"getDerivedStateFromProps",value:function(n,t){var e=n.viewState.stack,r=e.length<t.stack.length;return{stack:r?t.stack:e,exiting:r}}}]),t}(a.Component),wr=Object(et.b)(Or,xr)(Sr);function kr(){var n=Object(d.a)(["\n   display: flex;\n   flex: 1;\n   align-items: center;\n\n   &:nth-child(2) {\n      justify-content: center;\n   }\n\n   &:last-child {\n      justify-content: flex-end;\n   }\n"]);return kr=function(){return n},n}function Cr(){var n=Object(d.a)(["\n   position: relative;\n   display: flex;\n   height: 48px;\n   padding: 0 16px;\n   background: ",";\n"]);return Cr=function(){return n},n}var Pr=h.b.div(Cr(),function(n){return n.color}),Ar=h.b.div(kr()),Tr=function(n){var t=n.left,e=n.center,r=n.right,a=n.color;return i.a.createElement(Pr,{color:a||"white"},i.a.createElement(Ar,null,t),i.a.createElement(Ar,null,e),i.a.createElement(Ar,null,r))};function Fr(){var n=Object(d.a)(["\n   margin: 16px 0 16px 16px;\n   -webkit-appearance: none;\n   font-size: 24px;\n   border: none;\n   outline: none;\n   flex: 1;\n   resize: none;\n   caret-color: ",";\n   border-top: 1px solid ",";\n   border-bottom: 1px solid ",";\n   font-family: 'SF Pro Display';\n"]);return Fr=function(){return n},n}function _r(){var n=Object(d.a)(["\n   margin-left: 16px;\n   -webkit-appearance: none;\n   font-size: 24px;\n   border: none;\n   outline: none;\n   flex: 1;\n   resize: none;\n   caret-color: ",";\n   font-family: 'SF Pro Display';\n"]);return _r=function(){return n},n}function Ir(){var n=Object(d.a)(["\n   display: flex;\n   padding: 0 16px;\n"]);return Ir=function(){return n},n}function Dr(){var n=Object(d.a)(["\n   margin: 0;\n"]);return Dr=function(){return n},n}function Ur(){var n=Object(d.a)(["\n   margin: 0;\n   color: ",";\n   font-weight: ",";\n   cursor: pointer;\n   user-select: none;\n"]);return Ur=function(){return n},n}function Lr(){var n=Object(d.a)(["\n   z-index: ",";\n   position: fixed;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   background: white;\n   animation: ","\n      0.3s ease-in-out;\n"]);return Lr=function(){return n},n}var Mr=E.color,Br=E.animation,Nr=Br.slideInFromBottom,zr=Br.slideOutToBottom,Vr=h.b.div(Lr(),function(n){return 100+n.index},function(n){return n.closing?zr:Nr}),Rr=h.b.h3(Ur(),Mr.red[4],function(n){return n.bold&&"bold"}),Hr=h.b.h3(Dr()),qr=h.b.div(Ir()),Gr=h.b.textarea(_r(),Mr.red[4]),Qr=h.b.textarea(Fr(),Mr.red[4],Mr.gray[3],Mr.gray[3]),Jr=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).state={img:null,title:"",description:"",tracks:[]},e.handleImageUpload=function(n){e.setState({img:n})},e.createPlaylist=function(){var n=document.getElementById("playlist-description").value,t=document.getElementById("playlist-title").value,r=e.state,a=r.img,i=r.tracks;if(t&&n){var o={title:t,description:n,img:a,tracks:i};e.props.createPlaylist(o),e.props.popPopup()}else alert("Make sure to add a title and description!")},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){var n=this.props,t=n.index,e=n.closing;return i.a.createElement(Vr,{index:t,closing:e},i.a.createElement(Tr,{left:i.a.createElement(Rr,{onClick:this.props.popPopup},"Cancel"),center:i.a.createElement(Hr,null,"New Playlist"),right:i.a.createElement(Rr,{bold:!0,onClick:this.createPlaylist},"Done")}),i.a.createElement(qr,null,i.a.createElement(Vn,{img:"images/photo_add.png",onUpload:this.handleImageUpload}),i.a.createElement(Gr,{id:"playlist-title",placeholder:"Playlist Name"})),i.a.createElement(qr,null,i.a.createElement(Qr,{id:"playlist-description",placeholder:"Description"})))}}]),t}(a.Component),Wr=Object(et.b)(function(n){return{viewState:n.viewState,apiState:n.apiState}},function(n){return{pushView:function(t){return n(rt(t))},popPopup:function(){return n({type:"POP_POPUP"})},fetchPlaylists:function(){return n(Et())},createPlaylist:function(t){return n(function(n){return function(t){var e=localStorage.appleMusicPlaylists?JSON.parse(localStorage.appleMusicPlaylists):{};e[n.title]=n,localStorage.appleMusicPlaylists=JSON.stringify(e),t({type:"CREATE_PLAYLIST",playlists:e})}}(t))}}})(Jr);function Yr(){var n=Object(d.a)(["\n   padding-left: 16px;\n"]);return Yr=function(){return n},n}function Xr(){var n=Object(d.a)(["\n   margin: 0 0 16px 0;\n   padding: 0 0 16px 16px;\n   border-bottom: 1px solid ",";\n   background: ",";\n"]);return Xr=function(){return n},n}function $r(){var n=Object(d.a)(["\n   margin: 0;\n   color: ",";\n   font-weight: ",";\n   cursor: pointer;\n   user-select: none;\n"]);return $r=function(){return n},n}function Kr(){var n=Object(d.a)(["\n   z-index: ",";\n   position: fixed;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   background: white;\n   animation: ","\n      0.3s ease-in-out;\n"]);return Kr=function(){return n},n}var Zr=E.color,na=E.animation,ta=na.slideInFromBottom,ea=na.slideOutToBottom,ra=h.b.div(Kr(),function(n){return 100+n.index},function(n){return n.closing?ea:ta}),aa=h.b.h3($r(),Zr.red[4],function(n){return n.bold&&"bold"}),ia=h.b.h1(Xr(),Zr.gray[2],Zr.gray[1]),oa=h.b.div(Yr()),ua=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).selectPlaylist=function(n){e.props.onSelect(n),e.props.popPopup()},e.newPlaylist=function(){e.props.pushPopup({name:"Playlist Creator",props:{}})},e.getPlaylistButtons=function(){for(var n=e.props.apiState.data.playlists,t=[],r=function(){var n=o[a],r=(u=Object(ve.a)(n,2))[0],c=u[1];t.push(i.a.createElement(jn,{key:"".concat(r,"-").concat(c.title,"-").concat(c.description),title:c.title,img:c.img||"images/music.jpg",chevron:!0,onClick:function(){return e.selectPlaylist(c)}}))},a=0,o=Object.entries(n);a<o.length;a++){var u;r()}return t},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPlaylists()}},{key:"render",value:function(){var n=this.props,t=n.index,e=n.closing;return i.a.createElement(ra,{index:t,closing:e},i.a.createElement(Tr,{color:Zr.gray[1],right:i.a.createElement(aa,{onClick:this.props.popPopup},"Cancel")}),i.a.createElement(ia,null,"Add to a Playlist"),i.a.createElement(oa,null,i.a.createElement(jn,{key:"playlist-selector-new-playlist-button",title:"New Playlist...",img:"images/playlist_add.jpg",color:"red",onClick:this.newPlaylist}),this.getPlaylistButtons()))}}]),t}(a.Component),ca=Object(et.b)(function(n){return{apiState:n.apiState}},function(n){return{fetchPlaylists:function(){return n(Et())},popPopup:function(){return n({type:"POP_POPUP"})},pushPopup:function(t){return n(at(t))}}})(ua);function la(){var n=Object(d.a)(["\n   margin: 12px 0;\n   background: white;\n   border-radius: 20px;\n   overflow: hidden;\n\n   &:first-child {\n      margin-top: 0;\n   }\n\n   &:last-child {\n      margin-bottom: 0;\n   }\n"]);return la=function(){return n},n}function sa(){var n=Object(d.a)(["\n   position: relative;\n   width: 90%;\n   max-width: 30em;\n   margin-bottom: 16px;\n   animation: ","\n      0.3s ease-in-out;\n   overflow: hidden;\n"]);return sa=function(){return n},n}function pa(){var n=Object(d.a)(["\n   z-index: 0;\n   position: absolute;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   cursor: pointer;\n   background: ",";\n   animation: ","\n      0.3s ease-in-out;\n"]);return pa=function(){return n},n}function fa(){var n=Object(d.a)(["\n   z-index: ",";\n   position: fixed;\n   display: flex;\n   justify-content: center;\n   align-items: flex-end;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n"]);return fa=function(){return n},n}var da=E.color,ha=E.animation,ma=ha.slideInFromBottom,ba=ha.slideOutToBottom,ga=h.b.div(fa(),function(n){return 100+n.index}),va=h.b.div(pa(),da.grayAlpha[5],function(n){return n.closing?ha.fadeOut:ha.fadeIn}),ya=h.b.div(sa(),function(n){return n.closing?ba:ma}),Oa=h.b.div(la()),xa=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).handleClick=function(n){e.props.popPopup(),setTimeout(function(){"function"===typeof n&&n()},250)},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){var n=this,t=this.props,e=t.index,r=t.closing,a=t.options;return i.a.createElement(ga,{index:e},i.a.createElement(va,{closing:r,onClick:this.handleClick}),i.a.createElement(ya,{closing:r},i.a.createElement(Oa,null,a&&a.map(function(t){return i.a.createElement(_n,{key:"option-".concat(t.label),label:t.label,image:t.image,onClick:function(){return n.handleClick(t.onClick)}})})),i.a.createElement(Oa,null,i.a.createElement(_n,{bold:!0,center:!0,label:"Cancel",onClick:this.handleClick}))))}}]),t}(a.Component),ja=Object(et.b)(function(n){return{viewState:n.viewState,apiState:n.apiState}},function(n){return{pushView:function(t){return n(rt(t))},popPopup:function(){return n({type:"POP_POPUP"})}}})(xa);function Ea(){var n=Object(d.a)([""]);return Ea=function(){return n},n}var Sa={"Playlist Creator":i.a.createElement(Wr,null),"Playlist Selector":i.a.createElement(ca,null),Options:i.a.createElement(ja,null)},wa=h.b.div(Ea()),ka=function(n){return{viewState:n.viewState}},Ca=Object(et.b)(ka)(function(n){var t=n.popupStack,e=n.closing;return t.map(function(n,r){var a=n.name,o=n.props,u=Sa[a];o.index=r,o.closing=r===t.length-1&&e,o.key="popup-".concat(r);try{return i.a.cloneElement(u,o)}catch(c){return console.error("Error: This popup is broken: ",u),null}})}),Pa=function(n){function t(n){var e;Object(c.a)(this,t),e=Object(s.a)(this,Object(p.a)(t).call(this,n));var r=n.viewState.popupStack;return e.state={popupStack:r,closing:!1},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"animateClose",value:function(){var n=this,t=this.props.viewState.popupStack;setTimeout(function(){n.setState({popupStack:t,closing:!1})},280)}},{key:"componentDidUpdate",value:function(n,t){this.state.closing&&this.animateClose()}},{key:"render",value:function(){var n=this.state,t=n.popupStack,e=n.closing;return i.a.createElement(wa,null,i.a.createElement(Ca,{popupStack:t,closing:e}))}}],[{key:"getDerivedStateFromProps",value:function(n,t){var e=n.viewState.popupStack,r=e.length<t.popupStack.length;return{popupStack:r?t.popupStack:e,closing:r}}}]),t}(a.Component),Aa=Object(et.b)(ka)(Pa);function Ta(){var n=Object(d.a)(["\n   height: 24px;\n   width: 24px;\n   margin: 0 8px;\n"]);return Ta=function(){return n},n}function Fa(){var n=Object(d.a)(["\n   display: flex;\n   align-items: center;\n   justify-content: flex-end;\n   padding-right: 16px;\n"]);return Fa=function(){return n},n}function _a(){var n=Object(d.a)(["\n   margin: 0;\n   font-weight: normal;\n   color: #646464;\n   font-size: 13px;\n"]);return _a=function(){return n},n}function Ia(){var n=Object(d.a)(["\n   position: absolute;\n   top: 0;\n   left: 0;\n   right: 0;\n   height: 64px;\n   display: flex;\n   justify-content: space-between;\n   align-items: center;\n   padding-left: 80px;\n   opacity: ",";\n   pointer-events: ",";\n   transition: all 0.35s ease;\n"]);return Ia=function(){return n},n}function Da(){var n=Object(d.a)(["\n   height: ",";\n   width: auto;\n   max-height: ",";\n   max-width: 100%;\n   margin-top: ",";\n   transform: ",";\n   pointer-events: none;\n   user-select: none;\n   border-radius: ",";\n   transition: all 0.35s ease;\n   box-shadow: ",";\n"]);return Da=function(){return n},n}function Ua(){var n=Object(d.a)(["\n         height: 46vh;\n         min-height: 8em;\n         width: 100%;\n      "]);return Ua=function(){return n},n}function La(){var n=Object(d.a)(["\n   position: relative;\n   height: 64px;\n   max-height: 100%;\n   width: 64px;\n   padding: 8px 0;\n   text-align: center;\n   transition: all 0.35s ease;\n\n   ",";\n"]);return La=function(){return n},n}function Ma(){var n=Object(d.a)(["\n         height: 40vh;\n         border-left: 1px solid transparent;\n         border-top: none;\n         border-bottom: none;\n         width: 100%;\n         cursor: default;\n         background: #fff;\n      "]);return Ma=function(){return n},n}function Ba(){var n=Object(d.a)(["\n   position: relative;\n   height: 64px;\n   width: 100%;\n   text-align: center;\n   border-left: 1px solid ",";\n   border-top: 1px solid #E9E9E9;\n   border-bottom: 1px solid #E9E9E9;\n   background: #F9F9F9;\n   box-sizing: border-box;\n   transition: all 0.35s ease;\n   cursor: pointer;\n\n   ",";\n"]);return Ba=function(){return n},n}var Na=E.color,za=h.b.div(Ba(),Na.gray[2],function(n){return n.isFullscreen&&Object(h.a)(Ma())}),Va=h.b.div(La(),function(n){return n.isFullscreen&&Object(h.a)(Ua())}),Ra=h.b.img(Da(),function(n){return n.isFullscreen?"18em":"50px"},function(n){return n.isFullscreen?"90%":"100%"},function(n){return n.isPlaying&&"8px"},function(n){return n.isPlaying&&"scale(1.1)"},function(n){return n.isFullscreen&&"4px"},function(n){return n.isPlaying&&"0 10px 30px #a5a5a5"}),Ha=h.b.div(Ia(),function(n){return n.isFullscreen&&0},function(n){return n.isFullscreen&&"none"}),qa=h.b.h3(_a()),Ga=h.b.div(Fa()),Qa=h.b.img(Ta()),Ja=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).resume=function(n){n.stopPropagation();var t=e.props.audioState,r=t.hasAudio,a=t.isPlaying;r&&!a&&e.props.resume()},e.pause=function(n){n.stopPropagation();var t=e.props.audioState,r=t.hasAudio,a=t.isPlaying;r&&a&&e.props.pause()},e.nextSong=function(n){n.stopPropagation(),e.props.audioState.hasAudio&&e.props.nextSong()},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){var n=this,t=this.props,e=t.navState,r=t.audioState,a=e.isFullscreen,o=r.queue,u=r.inQueue,c=r.hasAudio,l=r.isPlaying,s=r.playlist,p=r.currentIndex,f=o.length&&u?o[0]:c&&p<s.length?s[p]:{name:"\uf8ff Music.js",artist:"Tanner Villarete",album:"My App",artwork:"hi.com",track:"1"},d=c?"https://tannerv.ddns.net/SpotiFree/".concat(f.artwork):"images/default_artwork.svg";return i.a.createElement(za,{isFullscreen:a,onClick:function(){return!a&&n.props.toggleFullscreen()}},i.a.createElement(Va,{isFullscreen:a},i.a.createElement(Ra,{isFullscreen:a,isPlaying:l&&a,src:d})),i.a.createElement(Ha,{isFullscreen:a},i.a.createElement(qa,null,f.name),i.a.createElement(Ga,{size:32},!(c&&l)&&i.a.createElement(Qa,{src:"".concat("images","/play.svg"),onClick:this.resume}),l&&i.a.createElement(Qa,{src:"".concat("images","/pause.svg"),onClick:this.pause}),i.a.createElement(Qa,{src:"".concat("images","/skip_next.svg"),onClick:this.nextSong}))))}}]),t}(a.Component),Wa=Object(et.b)(function(n){return{audioState:n.audioState,navState:n.navState}},function(n){return{toggleFullscreen:function(){return n({type:"TOGGLE_FULLSCREEN"})},resume:function(){return n({type:"RESUME"})},pause:function(){return n({type:"PAUSE"})},nextSong:function(){return n({type:"NEXT_SONG"})}}})(Ja);function Ya(){var n=Object(d.a)(["\n   color: ",";\n   font-weight: normal;\n   text-align: center;\n   margin: 8px 0 0 0;\n"]);return Ya=function(){return n},n}function Xa(){var n=Object(d.a)(["\n   text-align: center;\n   margin: 0;\n"]);return Xa=function(){return n},n}function $a(){var n=Object(d.a)(["\n   margin-top: 16px;\n"]);return $a=function(){return n},n}var Ka=E.color,Za=h.b.div($a()),ni=h.b.h3(Xa()),ti=h.b.h3(Ya(),Ka.red[4]),ei=function(n){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){var n=this.props.audioState,t=n.queue,e=n.inQueue,r=n.hasAudio,a=n.playlist,o=n.currentIndex,u=t.length&&e?t[0]:r?a[o]:{name:"Apple Music.js",artist:"Tanner Villarete",album:"Cal Poly"};return i.a.createElement(Za,null,i.a.createElement(ni,null,u.name),i.a.createElement(ti,null,"".concat(u.artist," \u2014\xa0").concat(u.album)))}}]),t}(a.Component),ri=Object(et.b)(function(n){return{audioState:n.audioState,navState:n.navState}},function(n){return{resume:function(){return n({type:"RESUME"})},pause:function(){return n({type:"PAUSE"})},nextSong:function(){return n({type:"NEXT_SONG"})}}})(ei);function ai(){var n=Object(d.a)(["\n   height: 32px;\n   width: 32px;\n   margin: 0 8px;\n   cursor: pointer;\n"]);return ai=function(){return n},n}function ii(){var n=Object(d.a)(["\n   display: flex;\n   justify-content: space-around;\n   align-items: center;\n   min-height: 14vh;\n   margin-top: 16px;\n"]);return ii=function(){return n},n}var oi=h.b.div(ii()),ui=h.b.img(ai()),ci=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).resume=function(){e.props.audioState.hasAudio&&e.props.resume()},e.pause=function(){var n=e.props.audioState,t=n.hasAudio,r=n.isPlaying;t&&r&&e.props.pause()},e.nextSong=function(){e.props.audioState.hasAudio&&e.props.nextSong()},e.prevSong=function(){e.props.audioState.hasAudio&&e.props.prevSong()},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){var n=this.props.audioState,t=n.hasAudio,e=n.isPlaying,r="images";return i.a.createElement(oi,null,i.a.createElement(ui,{src:"".concat(r,"/skip_back.svg"),onClick:this.prevSong}),!(t&&e)&&i.a.createElement(ui,{src:"".concat(r,"/play.svg"),onClick:this.resume}),!!e&&i.a.createElement(ui,{src:"".concat(r,"/pause.svg"),onClick:this.pause}),i.a.createElement(ui,{src:"".concat(r,"/skip_next.svg"),onClick:this.nextSong}))}}]),t}(a.Component),li=Object(et.b)(function(n){return{audioState:n.audioState,navState:n.navState}},function(n){return{resume:function(){return n({type:"RESUME"})},pause:function(){return n({type:"PAUSE"})},nextSong:function(){return n({type:"NEXT_SONG"})},prevSong:function(){return n({type:"PREV_SONG"})}}})(ci),si=e(16),pi=e.n(si);e(25);function fi(){var n=Object(d.a)(["\n   height: 48px;\n   width: 90%;\n   margin: auto;\n   display: flex;\n\n   .rangeslider-horizontal.time-slider,\n   .volume-slider {\n      height: 4px;\n      width: 90%;\n      margin: auto;\n      box-shadow: none;\n\n      .rangeslider__fill {\n         background: ",";\n         box-shadow: none;\n      }\n\n      .rangeslider__handle {\n         width: 7px;\n         height: 7px;\n         box-shadow: none;\n         background: ",";\n         border: none;\n         outline: none;\n\n         &::active {\n            height: 30px;\n            width: 30px;\n         }\n\n         &::after {\n            display: none;\n         }\n      }\n   }\n\n   .volume-slider .rangeslider__handle {\n      width: 30px;\n      height: 30px;\n      background: white;\n      border: 1px solid rgba(0, 0, 0, 0.12);\n      box-shadow: 0 3px 3px rgb(150, 150, 150);\n   }\n"]);return fi=function(){return n},n}var di=E.color,hi=h.b.div(fi(),di.gray[6],di.gray[6]),mi=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).handleChange=function(n){e.props.changeVolume(n/100)},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){var n=this.props.audioState.volume;return i.a.createElement(hi,null,i.a.createElement(pi.a,{className:"volume-slider",tooltip:!1,value:100*n,onChange:this.handleChange}))}}]),t}(a.Component),bi=Object(et.b)(function(n){return{audioState:n.audioState}},function(n){return{changeVolume:function(t){return n(function(n){return{type:"CHANGE_VOLUME",volume:n}}(t))}}})(mi);function gi(){var n=Object(d.a)(["\n   font-weight: normal;\n   margin: 8px 0;\n   color: ",";\n   transform: ",";\n   transition: all 0.15s ease;\n"]);return gi=function(){return n},n}function vi(){var n=Object(d.a)(["\n   display: flex;\n   justify-content: space-between;\n   width: 90%;\n   margin: auto;\n"]);return vi=function(){return n},n}function yi(){var n=Object(d.a)(["\n            height: 30px;\n            width: 30px;\n            background: ",";\n            border: 2px solid white;\n         "]);return yi=function(){return n},n}function Oi(){var n=Object(d.a)(["\n   position: relative;\n   display: flex;\n   flex-direction: column;\n   width: 90%;\n   margin: 3vh auto 1vh auto;\n   height: 5vh;\n\n   .rangeslider-horizontal.time-slider,\n   .scrubber {\n      height: 4px;\n      width: 90%;\n      margin: auto;\n      box-shadow: none;\n\n      .rangeslider__fill {\n         background: ",";\n         box-shadow: none;\n         transition: all 0.05s ease;\n      }\n\n      .rangeslider__handle {\n         width: 7px;\n         height: 7px;\n         box-shadow: none;\n         background: ",";\n         border: none;\n         outline: none;\n\n         &::active {\n            height: 30px;\n            width: 30px;\n         }\n\n         &::after {\n            display: none;\n         }\n      }\n   }\n\n   .scrubber .rangeslider__handle {\n      width: 8px;\n      height: 8px;\n      background: #757778;\n      border: 2px solid transparent;\n      transition: all 0.05s ease;\n\n      ",";\n   }\n"]);return Oi=function(){return n},n}var xi=E.color,ji=h.b.div(Oi(),function(n){return n.isChanging?xi.red[4]:xi.gray[6]},xi.gray[6],function(n){return n.isChanging&&Object(h.a)(yi(),xi.red[4])}),Ei=h.b.div(vi()),Si=h.b.h5(gi(),function(n){return n.isChanging?xi.red[4]:xi.gray[6]},function(n){return n.shift&&"translateY(10px)"});function wi(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,e=Math.floor(n%60),r=Math.floor(n/60%60),a=Math.floor(n/3600),i=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(n)||n===1/0)&&(a=r=e="-"),(a=a>0||o>0?"".concat(a,":"):"")+(r="".concat((a||i>=10)&&r<10?"0".concat(r):r,":"))+(e=e<10?"0".concat(e):e)}var ki=function(n){function t(){var n,e;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(a)))).state={isChanging:!1,time:{current:0,max:0}},e.startChange=function(){var n=e.props.audioState.time;e.setState({isChanging:!0,time:{current:n.current||0,max:n.max||0}})},e.handleChange=function(n){e.setState({time:Object(xt.a)({},e.state.time,{current:n})})},e.endChange=function(n){e.setState({transitioning:!0,isChanging:!1});var t=document.getElementById("audio");t&&(t.currentTime=e.state.time.current),setTimeout(function(){e.setState({transitioning:!1}),e.props.updateTime(e.state.time)},1e3)},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var n=this.props.audioState,t=this.state,e=t.isChanging,r=t.transitioning,a=n.time,o=this.state.time,u=e||r?o:a,c=Math.round(u.current/u.max*100);return i.a.createElement(ji,{isChanging:e},i.a.createElement(pi.a,{className:"scrubber",tooltip:!1,value:u.current||0,max:u.max||1,onChange:this.handleChange,onChangeStart:this.startChange,onChangeComplete:this.endChange}),i.a.createElement(Ei,null,i.a.createElement(Si,{isChanging:e,shift:e&&c<=8},wi(u.current)),i.a.createElement(Si,{shift:e&&c>=90},"-",wi(u.max-u.current))))}}]),t}(a.Component),Ci=Object(et.b)(function(n){return{audioState:n.audioState}},function(n){return{updateTime:function(t){return n(Jt(t))}}})(ki);function Pi(){var n=Object(d.a)(["\n   opacity: ",";\n   transition: all 0.35s ease;\n   margin-top: 5vh;\n"]);return Pi=function(){return n},n}function Ai(){var n=Object(d.a)(["\n   display: flex;\n   justify-content: center;\n   align-items: center;\n   height: ",";\n   opacity: ",";\n   pointer-events: ",";\n   transition: all 0.35s ease;\n   cursor: pointer;\n"]);return Ai=function(){return n},n}function Ti(){var n=Object(d.a)([""]);return Ti=function(){return n},n}function Fi(){var n=Object(d.a)(["\n   position: fixed;\n   bottom: 0;\n   right: 0;\n   height: ",";\n   width: 100%;\n   max-width: 400px;\n   background: #fff;\n   transition: all 0.35s ease;\n\n   @media screen and (max-width: 750px) {\n      z-index: 0;\n      max-width: none;\n   }\n"]);return Fi=function(){return n},n}var _i=h.b.div(Fi(),function(n){return n.isFullscreen?"100%":"64px"}),Ii=h.b.img(Ti()),Di=h.b.div(Ai(),function(n){return n.hidden?"0":"48px"},function(n){return n.hidden&&"0"},function(n){return n.hidden&&"none"}),Ui=h.b.div(Pi(),function(n){return n.hide&&0}),Li=function(n){function t(n){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(p.a)(t).call(this,n))).handlePlay=function(){e.audio.paused&&(clearInterval(e.playInterval),e.audio.play().then(function(){e.createTimeInterval()}))},e.handleSliderChange=function(n){clearInterval(e.playInterval),e.audio.currentTime=n.target.value,e.createTimeInterval()},e.nextSong=function(){e.props.nextSong()},e.changeVolume=function(n){console.log(n)},e.state={volume:n.audioState.volume,duration:null},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"createTimeInterval",value:function(){var n=this;this.playInterval=setInterval(function(){n.audio&&n.props.updateTime({current:n.audio.currentTime,max:n.audio.duration})},1e3)}},{key:"handlePause",value:function(){this.audio.paused||(this.audio.pause(),clearInterval(this.playInterval))}},{key:"componentDidUpdate",value:function(n){var t=this.props,e=t.audioState,r=t.volume,a=e.isPlaying;this.audio&&this.audio.volume!==r&&(this.audio.volume=n.audioState.volume),a&&this.audio?this.handlePlay():!a&&this.audio&&this.audio.src&&this.handlePause()}},{key:"render",value:function(){var n=this,t=this.props,e=t.navState,r=t.audioState,a=e.isFullscreen,o=r.queue,u=r.inQueue,c=r.playlist,l=r.currentIndex,s=r.volume,p=o.length&&u?o[0]:c.length?c[l]:null;return i.a.createElement(_i,{isFullscreen:a},i.a.createElement(Di,{hidden:!a,onClick:this.props.toggleFullscreen},i.a.createElement(Ii,{src:"images/chevron_wide.svg"})),i.a.createElement(Wa,null),i.a.createElement(Ui,{hide:!a},i.a.createElement(Ci,null),i.a.createElement(ri,null),i.a.createElement(li,null),i.a.createElement(bi,null)),p&&i.a.createElement("audio",{ref:function(t){n.audio=t},volume:s,id:"audio",onEnded:this.nextSong,src:"https://tannerv.ddns.net/SpotiFree/".concat(p.url)}))}}],[{key:"getDerivedStateFromProps",value:function(n,t){return{volume:n.volume}}}]),t}(a.Component),Mi=Object(et.b)(function(n){return{audioState:n.audioState,navState:n.navState}},function(n){return{nextSong:function(){return n({type:"NEXT_SONG"})},toggleFullscreen:function(){return n({type:"TOGGLE_FULLSCREEN"})},pause:function(){return n({type:"PAUSE"})},updateTime:function(t){return n(Jt(t))}}})(Li);function Bi(){var n=Object(d.a)(["\n   position: fixed;\n   display: ",";\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   background: ",";\n   cursor: pointer;\n   animation: "," 0.35s ease;\n"]);return Bi=function(){return n},n}var Ni=E.color,zi=E.animation,Vi=zi.fadeIn,Ri=zi.fadeOut,Hi=h.b.div(Bi(),function(n){return!n.isOpen&&"none"},Ni.grayAlpha[4],function(n){return n.isClosing?Ri:Vi}),qi=function(n){function t(n){var e;Object(c.a)(this,t),e=Object(s.a)(this,Object(p.a)(t).call(this,n));var r=n.navState.isFullscreen;return e.state={isOpen:r,isClosing:!1},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"animateClosed",value:function(){var n=this;setTimeout(function(){n.setState({isOpen:!1,isClosing:!1})},330)}},{key:"componentDidUpdate",value:function(n){this.state.isClosing&&this.animateClosed()}},{key:"render",value:function(){var n=this.state,t=n.isOpen,e=n.isClosing;return i.a.createElement(Hi,{isOpen:t||e,isClosing:e,onClick:this.props.toggleFullscreen})}}],[{key:"getDerivedStateFromProps",value:function(n,t){return{isOpen:n.navState.isFullscreen,isClosing:!n.navState.isFullscreen&&t.isOpen}}}]),t}(a.Component),Gi=Object(et.b)(function(n){return{navState:n.navState}},function(n){return{toggleFullscreen:function(){return n({type:"TOGGLE_FULLSCREEN"})}}})(qi);function Qi(){var n=Object(d.a)(["\n   z-index: 50;\n   position: fixed;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   height: 64px;\n   display: flex;\n   justify-content: flex-start;\n   align-items: center;\n\n   @media screen and (max-width: 750px) {\n      height: 7em;\n      flex-direction: column-reverse;\n   }\n"]);return Qi=function(){return n},n}var Ji=h.b.div(Qi()),Wi=function(n){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(Ji,null,i.a.createElement(Gi,null),i.a.createElement(Mi,null))}}]),t}(a.Component),Yi=Object(et.b)(function(n){return{audioState:n.audioState,navState:n.navState}})(Wi);function Xi(){var n=Object(d.a)(["\n   position: fixed;\n   top: 0;\n   bottom: 0;\n   left: 0;\n   right: 0;\n   display: flex;\n   flex-direction: column;\n"]);return Xi=function(){return n},n}var $i=h.b.div(Xi()),Ki=function(n){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement($i,null,i.a.createElement(tt,null),i.a.createElement(wr,null),i.a.createElement(ur,null),i.a.createElement(Aa,null),i.a.createElement(Yi,null))}}]),t}(a.Component);function Zi(){var n=Object(d.a)(['\n   body {\n      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n      -webkit-tap-highlight-color: rgba(0,0,0,0);\n   }\n']);return Zi=function(){return n},n}Object(h.c)(Zi());var no=function(n){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(Ki,null))}}]),t}(a.Component);document.addEventListener("touchstart",function(){},!0);var to=no,eo=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ro(n){navigator.serviceWorker.register(n).then(function(n){n.onupdatefound=function(){var t=n.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(n){console.error("Error during service worker registration:",n)})}var ao=e(13),io=e(32),oo=e(33),uo={stack:[{name:"Library",props:{}}],popupStack:[]},co=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUSH_VIEW":return Object(xt.a)({},n,{stack:n.stack.concat(t.view)});case"POP_VIEW":return Object(xt.a)({},n,{stack:n.stack.slice(0,n.stack.length-1)});case"PUSH_POPUP":return Object(xt.a)({},n,{popupStack:n.popupStack.concat(t.popup)});case"POP_POPUP":return Object(xt.a)({},n,{popupStack:n.popupStack.slice(0,n.popupStack.length-1)});default:return n}},lo={data:{artists:[],albums:[],playlists:{},artistData:{},albumData:{}}},so=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ARTIST_LIST_SUCCESS":return Object(xt.a)({},n,{data:Object(xt.a)({},n.data,{artists:t.artists,artistData:t.artistData})});case"FETCH_ARTIST_SUCCESS":return Object(xt.a)({},n,{data:Object(xt.a)({},n.data,{artistData:Object(xt.a)({},n.data.artistData,Object(yt.a)({},t.name,t.albums)),albumData:Object(xt.a)({},n.data.albumData,t.albumData)})});case"FETCH_ALBUM_LIST_SUCCESS":return Object(xt.a)({},n,{data:Object(xt.a)({},n.data,{albumData:Object(xt.a)({},n.data.albumData,t.albumData),albums:t.albums})});case"FETCH_ALBUM_SUCCESS":return Object(xt.a)({},n,{data:Object(xt.a)({},n.data,{albumData:Object(xt.a)({},n.data.albumData,Object(yt.a)({},t.album,t.tracks))})});case"FETCH_PLAYLIST_LIST_SUCCESS":case"CREATE_PLAYLIST":return Object(xt.a)({},n,{data:Object(xt.a)({},n.data,{playlists:t.playlists})});case"UPDATE_PLAYLIST":return Object(xt.a)({},n,{playlists:t.playlists});default:return n}},po={isPlaying:!1,hasAudio:!1,currentIndex:0,playlist:[],inQueue:!1,queue:[],prevQueue:[],time:{current:null,max:null},recents:localStorage.appleMusicRecents?JSON.parse(localStorage.appleMusicRecents):[],volume:.5},fo=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAY_SONG":var e=n.recents.filter(function(n,e){return n.album!==t.playlist[t.index].album&&e<7});return e.splice(0,0,t.playlist[t.index]),localStorage.appleMusicRecents=JSON.stringify(e),Object(xt.a)({},n,{isPlaying:!0,hasAudio:!0,playlist:t.playlist,currentIndex:t.index,recents:e});case"RESUME":return Object(xt.a)({},n,{isPlaying:!!n.playlist.length||!!n.queue.length});case"PAUSE":return Object(xt.a)({},n,{isPlaying:!1});case"NEXT_SONG":var r=Object(Ot.a)(n.queue.slice(1,n.queue.length));return Object(xt.a)({},n,{hasAudio:n.currentIndex+1<n.playlist.length,inQueue:n.queue.length,queue:n.inQueue?r:n.queue,isPlaying:!!n.isPlaying&&(n.currentIndex+1!==n.playlist.length||!!n.queue.length),currentIndex:n.currentIndex+(n.inQueue&&n.queue.length?0:1)});case"PREV_SONG":return Object(xt.a)({},n,{inQueue:!1,queue:n.inQueue?Object(Ot.a)(n.queue.slice(1,n.queue.length)):n.queue,currentIndex:n.currentIndex>0?n.currentIndex-1:n.currentIndex});case"ADD_TO_QUEUE":return Object(xt.a)({},n,{hasAudio:!0,inQueue:!n.playlist.length,prevQueue:n.queue,queue:n.inQueue?[].concat(Object(Ot.a)(n.queue.slice(0,1)),[t.track],Object(Ot.a)(n.queue.slice(2,n.length))):[t.track].concat(Object(Ot.a)(n.queue)),playlist:n.playlist});case"UPDATE_TIME":return Object(xt.a)({},n,{time:Object(xt.a)({},t.info)});case"CHANGE_VOLUME":return Object(xt.a)({},n,{volume:t.volume});default:return n}},ho={isFullscreen:!1},mo=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ho;switch((arguments.length>1?arguments[1]:void 0).type){case"TOGGLE_FULLSCREEN":return Object(xt.a)({},n,{isFullscreen:!n.isFullscreen});default:return n}},bo=Object(ao.combineReducers)({viewState:co,apiState:so,audioState:fo,navState:mo}),go=Object(ao.createStore)(bo,Object(oo.devToolsEnhancer)(),Object(ao.applyMiddleware)(io.a));u.a.render(i.a.createElement(et.a,{store:go},i.a.createElement(to,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/music",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/music","/service-worker.js");eo?(function(n){fetch(n).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(n){n.unregister().then(function(){window.location.reload()})}):ro(n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ro(n)})}}()}},[[34,1,2]]]);
//# sourceMappingURL=main.6588b0e5.chunk.js.map