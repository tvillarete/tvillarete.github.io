{"version":3,"sources":["App/previews/index.tsx","components/constants/Screen.ts","components/constants/Unit.ts","hooks/useMusicKit.tsx","hooks/useEffectOnce.ts","hooks/useEventListener.ts","hooks/useForceUpdate.ts","App/previews/GamesPreview.tsx","animation/index.tsx","utils/index.ts","App/previews/MusicPreview.tsx","App/previews/NowPlayingPreview.tsx","App/previews/SettingsPreview.tsx","App/views/AboutView/index.tsx","App/views/CoverFlowView/BacksideContent.tsx","App/views/CoverFlowView/AlbumCover.tsx","App/views/CoverFlowView/CoverFlow.tsx","App/views/CoverFlowView/index.tsx","App/views/HomeView/index.tsx","App/views/MusicView/index.tsx","App/views/ArtistsView/index.tsx","App/views/ArtistView/index.tsx","App/views/AlbumsView/index.tsx","App/views/AlbumView/index.tsx","App/views/NowPlayingView/index.tsx","App/views/PlaylistsView/index.tsx","App/views/PlaylistView/index.tsx","App/views/GamesView/index.tsx","App/views/BrickGameView/Game.js","App/views/index.ts","App/views/BrickGameView/index.tsx","App/views/SettingsView/index.tsx","services/window.tsx","hooks/useMenuHideWindow.ts","hooks/useMKEventListener.ts","hooks/useScrollHandler.tsx","hooks/useInterval.ts","hooks/useTimeout.ts","hooks/useVolumeHandler.ts","components/SelectableList/SelectableListItem.tsx","components/SelectableList/index.tsx","components/icons/SadMacIcon.tsx","components/AuthPrompt/index.tsx","components/Controls/ProgressBar.tsx","components/Controls/Scrubber.tsx","components/LoadingIndicator.tsx","components/Controls/TrackProgress.tsx","components/Controls/VolumeBar.tsx","components/Controls/index.tsx","components/ErrorScreen/index.tsx","components/Header/index.tsx","components/KenBurns/index.tsx","components/LoadingScreen/index.tsx","components/NowPlaying/index.tsx","components/ScrollWheel/Knob.jsx","components/ScrollWheel/index.tsx","App/Interface/CoverFlowInterface/index.tsx","App/Interface/Window.tsx","App/Interface/FullScreenInterface/index.tsx","App/Interface/Popup.tsx","App/Interface/PopupInterface/index.tsx","App/Interface/SplitScreenInterface/PreviewPanel.tsx","App/Interface/SplitScreenInterface/index.tsx","App/Interface/index.tsx","App/index.tsx","serviceWorker.ts","index.tsx"],"names":["PREVIEW","XS","MediaQuery","Size","Min","Max","ContainerMaxWidth","SM","MD","LG","XL","XXXL","XXL","XXS","MusicKitContext","createContext","useMusicKit","musicKit","window","MusicKit","useContext","isConfigured","isAuthorized","hasDevToken","music","useMemo","getInstance","MusicKitProvider","children","useState","setHasDevToken","setIsConfigured","setIsAuthorized","handlePlayPauseClick","useCallback","player","isPlaying","pause","play","handleForwardClick","skipToNextItem","handleBackClick","skipToPreviousItem","useEffect","configure","developerToken","app","name","build","e","useMKEventListener","userToken","useEventListener","Provider","value","memo","useEffectOnce","effect","eventName","handler","element","savedHandler","useRef","current","addEventListener","eventListener","event","removeEventListener","useForceUpdate","forceUpdate","s","Container","styled","motion","div","Image","img","Unit","Text","h3","GamesPreview","src","slideRightAnimation","variants","closed","x","open","transition","duration","type","closing","initial","animate","exit","slideUpAnimation","y","fade","opacity","fadeScale","scale","previewSlideRight","noAnimation","getArtwork","size","url","replace","formatTime","seconds","guide","Math","floor","m","h","gm","gh","isNaN","Infinity","getMediaOptions","id","label","onSelect","playNext","playLater","MusicPreview","artworkUrls","setArtworkUrls","loading","setLoading","handleMount","a","api","library","albums","urls","map","album","Utils","attributes","artwork","backgroundColor","message","Artwork","NowPlayingPreview","nowPlayingItem","queue","items","nowPlayingItemIndex","alt","Subtext","SettingsPreview","Previews","MUSIC","GAMES","SETTINGS","NOW_PLAYING","TitleContainer","Title","Description","ListContainer","AboutView","useMenuHideWindow","ViewOptions","about","options","useScrollHandler","scrollIndex","aria-label","role","activeIndex","InfoContainer","BacksideContent","albumId","setPlayingAlbum","setAlbum","setOptions","coverFlow","fetchedAlbum","songs","relationships","tracks","data","song","index","queueOptions","startPosition","artistName","attrs","props","style","background","backgroundSize","abs","isHidden","isActive","css","midpoint","isSelected","offset","Backside","AlbumCover","playingAlbum","isVisible","getOffsetPx","AnimatePresence","AlbumsContainer","NowPlayingContainer","CoverFlow","setActiveIndex","setMidpoint","containerRef","selectedAlbum","setSelectedAlbum","hideWindow","useWindowService","selectAlbum","handleMenuClick","undefined","forwardScroll","length","backwardScroll","updateMidpoint","getBoundingClientRect","width","height","ref","hideArtwork","onHide","CoverFlowView","setAlbums","strings","HomeView","handleLogIn","authorize","arr","viewId","component","preview","games","settings","push","isPlayable","nowPlaying","home","MusicView","playlists","artists","ArtistsView","include","limit","artist","inLibrary","ArtistView","artistRelationship","newOptions","sublabel","imageUrl","longPressOptions","AlbumsView","AlbumView","showNowPlayingView","NowPlayingView","PlaylistsView","playlist","description","standard","PlaylistView","GamesView","brickGame","BrickGameView","init","this","canvas","document","querySelector","context","getContext","handleCenterClick","inStasis","initialized","moveRight","moveLeft","waiting","setupBricks","draw","drawBricks","ball","update","console","log","enterStasis","clearContext","requestAnimationFrame","clearRect","die","position","lives","reset","bricks","forEach","brick","i","Brick","health","timeout","score","physics","speed","fillStyle","fillRect","resetPosition","direction","centerX","centerY","beginPath","arc","PI","fill","lineWidth","strokeStyle","stroke","checkCollisionWithPlayer","checkCollisionWithBricks","splice","prototype","WINDOW_TYPE","Canvas","BrickGame","Game","SettingsView","authButtonType","setAuthButtonType","handleAuth","handleDeauth","unauthorize","handleUpdateOptions","updatedOptions","title","SPLIT","FULL","COVER_FLOW","mediaPopup","POPUP","WindowContext","windowStack","headerTitle","windowState","setWindowState","showWindow","prevWindowState","newWindowStack","filter","slice","isWindowActive","setHeaderTitle","setPreview","WindowProvider","Views","handleClick","callback","errors","setIndex","timeoutIdRef","handleCheckForPreview","clearTimeout","setTimeout","handleForwardScroll","handleBackwardScroll","handlePlaySong","setQueue","isEmpty","nextPlayableItem","handleShowView","windowType","option","handleCenterLongClick","listOptions","useInterval","delay","savedCallback","setInterval","clearInterval","useTimeout","cancel","timeoutId","useVolumeHandler","active","setActive","volume","setVolume","enabled","setIsEnabled","setEnabled","val","setActiveState","increaseVolume","decreaseVolume","LabelContainer","Label","Sublabel","Icon","SelectableListItem","SelectableList","isMounted","setIsMounted","scrollIntoView","block","SadMacIcon","viewBox","xmlns","d","strokeWidth","fillRule","clipRule","filterUnits","colorInterpolationFilters","floodOpacity","result","in","values","stdDeviation","mode","in2","RootContainer","p","AuthPrompt","ProgressContainer","Gloss","Progress","percent","transparent","Diamond","ProgressBar","isScrubber","textAlign","Scrubber","isScrubbing","currentTime","setCurrentTime","round","currentPlaybackDuration","setIsActive","handleSeek","useDebouncedCallback","newTime","seekToTime","scrubForward","scrubBackward","refresh","force","currentPlaybackTime","currentPlaybackTimeRemaining","Svg","svg","LoadingIndicator","className","version","strokeLinecap","x1","y1","x2","y2","attributeName","attributeType","keyTimes","dur","begin","repeatCount","calcMode","TrackProgress","isLoading","playbackState","PlaybackStates","currentPlaybackProgress","VolumeBar","MainContainer","ScrubberContainer","Controls","setIsScrubbing","hidden","ErrorScreen","IconContainer","Header","playing","paused","zIndex","startedAnimation","KenBurns","stack","setStack","transitioning","setTransitioning","cycleImage","newStack","path","LoadingScreen","MetadataContainer","ArtworkContainer","ControlsContainer","NowPlaying","handlePlaybackChange","state","completed","albumName","CanvasContainer","CenterButton","WheelButton","margin","top","bottom","left","right","Knob","handleLongPress","preventDefault","target","setAttribute","Date","getTime","onLongPress","getArcToValue","v","startAngle","endAngle","angle","pow","min","angleArc","max","clockwise","cursor","cursorExt","acw","getCanvasScale","ctx","devicePixelRatio","screen","deviceXDPI","logicalXDPI","webkitBackingStorePixelRatio","coerceToStep","step","eventToValue","bounds","canvasRef","clientX","clientY","atan2","w","angleOffset","handleMouseDown","onChange","handleMouseMove","handleMouseUpNoMove","handleTouchStart","handleTouchMove","passive","handleTouchEndNoMove","handleMouseUp","touchIndex","targetTouches","handleTouchEnd","onChangeEnd","findClickQuadrant","rectSize","rect","rectWidth","quadrant","onWheelClick","handleEsc","keyCode","handleTextInput","handleWheel","deltaX","deltaY","handleArrowKey","inputStyle","verticalAlign","marginTop","marginLeft","border","outline","font","fontWeight","digits","color","inputColor","fgColor","padding","WebkitAppearance","String","centerButtonRef","createRef","drawCanvas","nextProps","xy","thickness","radius","lineCap","bgColor","canvasClassName","onClick","onMouseDown","Component","defaultProps","stopper","disableTextInput","displayInput","WHEEL_QUADRANT","KEY_CODE","centerClickEvent","Event","centerLongClickEvent","forwardScrollEvent","backwardScrollEvent","wheelClickEvent","menuClickEvent","backClickEvent","forwardClickEvent","playPauseClickEvent","ScrollWheel","count","setCount","dispatchEvent","handleCenterLongPress","handleClockwiseScroll","handleCounterClockwiseScroll","handleWheelClick","TOP","BOTTOM","LEFT","RIGHT","handleKeyPress","ARROW_UP","ARROW_LEFT","ARROW_DOWN","ARROW_RIGHT","ENTER","SPACE","ESC","handleScroll","CoverFlowInterface","data-stack-type","showHeader","ContentTransitionContainer","Window","firstInStack","data-window-id","FullScreenInterface","OptionText","OptionContainer","highlighted","Popup","windowOptions","PopupInterface","PreviewPanel","PreviewComponent","LeftPanel","SplitScreenInterface","menuHidden","allHidden","Screen","Mask","Interface","splitViewWindows","fullViewWindows","coverFlowWindow","find","popupWindows","isReady","GlobalStyles","createGlobalStyle","Shell","App","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5ebc403c.chunk.js","sourcesContent":["import GamesPreview from './GamesPreview';\nimport MusicPreview from './MusicPreview';\nimport NowPlayingPreview from './NowPlayingPreview';\nimport SettingsPreview from './SettingsPreview';\n\nexport enum PREVIEW {\n  MUSIC = \"music\",\n  GAMES = \"games\",\n  SETTINGS = \"settings\",\n  NOW_PLAYING = \"nowPlaying\"\n}\n\nexport const Previews = {\n  [PREVIEW.MUSIC]: () => <MusicPreview />,\n  [PREVIEW.GAMES]: () => <GamesPreview />,\n  [PREVIEW.SETTINGS]: () => <SettingsPreview />,\n  [PREVIEW.NOW_PLAYING]: () => <NowPlayingPreview />\n};\n","export const XS = {\n  MediaQuery: '@media (min-width: 0)',\n  Size: {\n    Min: 0,\n    Max: 575,\n  },\n  ContainerMaxWidth: '100%',\n};\n\nexport const SM = {\n  MediaQuery: '@media (min-width: 576px)',\n  Size: {\n    Min: 576,\n    Max: 767,\n  },\n  ContainerMaxWidth: '540px',\n};\n\nexport const MD = {\n  MediaQuery: '@media (min-width: 768px)',\n  Size: {\n    Min: 768,\n    Max: 991,\n  },\n  ContainerMaxWidth: '720px',\n};\n\nexport const LG = {\n  MediaQuery: '@media (min-width: 992px)',\n  Size: {\n    Min: 992,\n    Max: 1199,\n  },\n  ContainerMaxWidth: '960px',\n};\n\nexport const XL = {\n  MediaQuery: '@media (min-width: 1200px)',\n  Size: {\n    Min: 1200,\n    Max: null,\n  },\n  ContainerMaxWidth: '1140px',\n};","export const XXXL = '8rem'; // 128px\nexport const XXL = '4rem'; // 64px\nexport const XL = '2rem'; // 32px\nexport const LG = '1.5rem'; // 24px\nexport const MD = '1rem'; // 16px\nexport const SM = '0.75rem'; // 12px\nexport const XS = '0.5rem'; // 8px\nexport const XXS = '0.25rem'; // 4px","import {\n  createContext,\n  memo,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nimport { useEventListener, useMKEventListener } from 'hooks';\n\n/**\n * This will be used to connect to the Apple Music API.\n * @see https://developer.apple.com/documentation/applemusicapi/getting_keys_and_creating_tokens\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst DEVELOPER_TOKEN: string | undefined = undefined;\n\nexport interface MusicKitState {\n  musicKit: typeof MusicKit;\n  isConfigured: boolean;\n  isAuthorized: boolean;\n  hasDevToken: boolean;\n}\n\nexport const MusicKitContext = createContext<MusicKitState>({} as any);\n\nexport interface MusicKitHook {\n  isConfigured: boolean;\n  isAuthorized: boolean;\n  hasDevToken: boolean;\n  musicKit: typeof MusicKit;\n  music: MusicKit.MusicKitInstance;\n}\n\nexport const useMusicKit = (): MusicKitHook => {\n  const musicKit = window.MusicKit;\n  const { isConfigured, isAuthorized, hasDevToken } = useContext(\n    MusicKitContext\n  );\n  const music = useMemo(() => {\n    if (!isConfigured || !hasDevToken) {\n      return {} as any;\n    }\n\n    return window.MusicKit.getInstance();\n  }, [hasDevToken, isConfigured]);\n\n  return {\n    isConfigured,\n    isAuthorized,\n    hasDevToken,\n    musicKit,\n    music,\n  };\n};\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nexport const MusicKitProvider = ({ children }: Props) => {\n  const musicKit = window.MusicKit;\n  const [hasDevToken, setHasDevToken] = useState(false);\n  const [isConfigured, setIsConfigured] = useState(false);\n  const [isAuthorized, setIsAuthorized] = useState(false);\n\n  const handlePlayPauseClick = useCallback(() => {\n    const music = musicKit.getInstance();\n\n    if (music.player.isPlaying) {\n      music.pause();\n    } else {\n      music.play();\n    }\n  }, [musicKit]);\n\n  const handleForwardClick = useCallback(() => {\n    const music = musicKit.getInstance();\n\n    music.skipToNextItem();\n  }, [musicKit]);\n\n  const handleBackClick = useCallback(() => {\n    const music = musicKit.getInstance();\n\n    music.skipToPreviousItem();\n  }, [musicKit]);\n\n  useEffect(() => {\n    try {\n      const music = musicKit.configure({\n        developerToken:\n          'eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlJHWFFEWThYM0MifQ.eyJpYXQiOjE2MTY4ODQ1MDksImV4cCI6MTYzMjQzNjUwOSwiaXNzIjoiRzZIM0NLV005QyJ9.z7NS-8962oumCEaYOUMJfzonO2Y2tAWb_vAF_wwOkDqU8BoWTo6xDg5uG8ZvFeFpMqRoMbBaB_Mr4sxpvJzjPg',\n        app: {\n          name: 'iPod.js',\n          build: '1.0',\n        },\n      });\n\n      if (music) {\n        setHasDevToken(true);\n      }\n\n      if (music.isAuthorized) {\n        setIsAuthorized(true);\n      }\n    } catch (e) {\n      setHasDevToken(false);\n    }\n  }, [musicKit]);\n\n  useMKEventListener('userTokenDidChange', (e) => {\n    setIsAuthorized(!!e.userToken);\n  });\n\n  useEventListener('musickitconfigured', () => {\n    setIsConfigured(true);\n  });\n  useEventListener('playpauseclick', handlePlayPauseClick);\n  useEventListener('forwardclick', handleForwardClick);\n  useEventListener('backclick', handleBackClick);\n\n  return (\n    <MusicKitContext.Provider\n      value={{ musicKit, isConfigured, isAuthorized, hasDevToken }}\n    >\n      {children}\n    </MusicKitContext.Provider>\n  );\n};\n\nexport default memo(MusicKitProvider);\n","import { useEffect } from 'react';\n\n/**\n * Run an effect only once upon component mount/unmount.\n */\nconst useEffectOnce = (effect: React.EffectCallback) =>\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(effect, []);\n\nexport default useEffectOnce;\n","import { useRef, useEffect } from \"react\";\n\n// Hook\nconst useEventListener = (\n  eventName: string,\n  handler: (...args: any) => void,\n  element = window\n) => {\n  // Create a ref that stores handler\n  const savedHandler = useRef<any>();\n\n  // Update ref.current value if handler changes.\n  // This allows our effect below to always get latest handler ...\n  // ... without us needing to pass it in effect deps array ...\n  // ... and potentially cause effect to re-run every render.\n  useEffect(() => {\n    savedHandler.current = handler;\n  }, [eventName, handler]);\n\n  useEffect(\n    () => {\n      // Make sure element supports addEventListener\n      // On\n      const isSupported = element && element.addEventListener;\n      if (!isSupported) return;\n\n      // Create event listener that calls handler function stored in ref\n      const eventListener = (event: any) =>\n        savedHandler && savedHandler.current && savedHandler.current(event);\n\n      // Add event listener\n      element.addEventListener(eventName, eventListener);\n\n      // Remove event listener on cleanup\n      return () => {\n        element.removeEventListener(eventName, eventListener);\n      };\n    },\n    [eventName, element] // Re-run if eventName or element changes\n  );\n};\n\nexport default useEventListener;\n","import { useCallback, useState } from 'react';\n\nconst useForceUpdate = () => {\n  const [, forceUpdate] = useState<boolean>(false);\n\n  return useCallback(() => {\n    forceUpdate((s) => !s);\n  }, []);\n};\n\nexport default useForceUpdate;\n","import { Unit } from 'components';\nimport { motion } from 'framer-motion';\nimport styled from 'styled-components';\n\nconst Container = styled(motion.div)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: white;\n  background: linear-gradient(180deg, #b1b5c0 0%, #686e7a 100%);\n`;\n\nconst Image = styled.img`\n  height: 6em;\n  width: 6em;\n  margin: ${Unit.XS};\n`;\n\nconst Text = styled.h3`\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n`;\n\nconst GamesPreview = () => {\n  return (\n    <Container>\n      <Image src=\"dice.svg\" />\n      <Text>Games</Text>\n    </Container>\n  );\n};\n\nexport default GamesPreview;\n","export const slideRightAnimation = {\n  variants: {\n    closed: { x: '100%' },\n    open: {\n      x: 0,\n      transition: { duration: 0.3, type: 'tween' },\n    },\n    closing: {\n      x: '100%',\n      transition: { duration: 0.3, type: 'tween' },\n    },\n  },\n  initial: 'closed',\n  animate: 'open',\n  exit: 'closing',\n};\n\nexport const slideLeftAnimation = {\n  variants: {\n    closed: { x: '-110%' },\n    open: {\n      x: 0,\n      transition: { duration: 0.3, type: 'tween' },\n    },\n    closing: {\n      x: '-110%',\n      transition: { duration: 0.3, type: 'tween' },\n    },\n  },\n  initial: 'closed',\n  animate: 'open',\n  exit: 'closing',\n};\n\nexport const slideUpAnimation = {\n  variants: {\n    closed: { y: '110%' },\n    open: {\n      y: 0,\n      transition: { duration: 0.3, type: 'tween' },\n    },\n    closing: {\n      y: '110%',\n      transition: { duration: 0.3, type: 'tween' },\n    },\n  },\n  initial: 'closed',\n  animate: 'open',\n  exit: 'closing',\n};\n\nexport const fade = {\n  variants: {\n    closed: { opacity: 0 },\n    open: { opacity: 1 },\n    closing: {\n      opacity: 0,\n      transition: { duration: 0.3, type: 'tween' },\n    },\n  },\n  initial: 'closed',\n  animate: 'open',\n  exit: 'closing',\n};\n\nexport const fadeScale = {\n  variants: {\n    closed: { opacity: 0, scale: 0.3 },\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: { duration: 0.5, type: 'tween' },\n    },\n    closing: {\n      opacity: 0,\n      scale: 0.3,\n      transition: { duration: 0.3, type: 'tween' },\n    },\n  },\n  initial: 'closed',\n  animate: 'open',\n  exit: 'closing',\n};\n\nexport const previewSlideRight = {\n  variants: {\n    closed: { x: '130%', opacity: 0 },\n    open: {\n      x: 0,\n      opacity: 1,\n      transition: { duration: 0.4, type: 'tween' },\n    },\n    closing: {\n      x: '130%',\n      opacity: 0,\n      transition: { duration: 0.4, type: 'tween' },\n    },\n  },\n  initial: 'closed',\n  animate: 'open',\n  exit: 'closing',\n};\n\nexport const noAnimation = {\n  variants: {\n    closed: {},\n    open: {},\n    closing: {\n      opacity: 0,\n      transition: { duration: 0.3, type: 'tween' },\n    },\n  },\n  initial: 'closed',\n  animate: 'open',\n  exit: 'closing',\n};\n","import { SelectableListOption } from 'components';\n\nexport const getUrlFromPath = (path: string) =>\n  `https://tannerv.ddns.net/SpotiFree/${encodeURI(path)}`;\n\n/** Accepts a url with '{w}' and '{h}' and replaces them with the specified size */\nexport const getArtwork = (size: number | string, url?: string) => {\n  if (!url) {\n    return undefined;\n  }\n\n  return url.replace('{w}', `${size}`).replace('{h}', `${size}`);\n};\n\nexport const formatTime = (seconds = 0, guide = seconds) => {\n  let s: number | string = Math.floor(seconds % 60);\n  let m: number | string = Math.floor((seconds / 60) % 60);\n  let h: number | string = Math.floor(seconds / 3600);\n  const gm = Math.floor((guide / 60) % 60);\n  const gh = Math.floor(guide / 3600);\n\n  if (isNaN(seconds) || seconds === Infinity) {\n    h = m = s = '-';\n  }\n\n  h = h > 0 || gh > 0 ? `${h}:` : '';\n  m = `${(h || gm >= 10) && m < 10 ? `0${m}` : m}:`;\n  s = s < 10 ? `0${s}` : s;\n\n  return h + m + s;\n};\n\nexport const setDocumentSongTitle = (song?: AppleMusicApi.Song) => {\n  document.title = song\n    ? `${song.attributes?.name ?? 'Music'} iPod.js`\n    : 'iPod.js';\n};\n\n/** Returns a list of playback options to display in a popup for an album, song, or playlist. */\nexport const getMediaOptions = (\n  type: 'album' | 'song' | 'playlist',\n  id: string\n): SelectableListOption[] => {\n  const music = window.MusicKit.getInstance();\n\n  return [\n    {\n      type: 'Action',\n      label: 'Play Next',\n      onSelect: () =>\n        music.playNext({\n          [type]: id,\n        }),\n    },\n    {\n      type: 'Action',\n      label: 'Play Later',\n      onSelect: () =>\n        music.playLater({\n          [type]: id,\n        }),\n    },\n  ];\n};\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { previewSlideRight } from 'animation';\nimport { AuthPrompt, KenBurns, LoadingScreen } from 'components';\nimport { motion } from 'framer-motion';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport styled from 'styled-components';\nimport * as Utils from 'utils';\n\nconst Container = styled(motion.div)`\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst MusicPreview = () => {\n  const { music, isConfigured, isAuthorized } = useMusicKit();\n  const [artworkUrls, setArtworkUrls] = useState<string[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  const handleMount = useCallback(async () => {\n    setLoading(true);\n    const albums = await music.api.library.albums(null);\n    const urls = albums.map(\n      (album) => Utils.getArtwork(300, album.attributes?.artwork?.url) ?? ''\n    );\n\n    setArtworkUrls(urls);\n\n    setLoading(false);\n  }, [music]);\n\n  useEffect(() => {\n    if (isConfigured && isAuthorized) {\n      handleMount();\n    }\n  }, [handleMount, isAuthorized, isConfigured]);\n\n  return (\n    <Container {...previewSlideRight}>\n      {loading ? (\n        <LoadingScreen backgroundColor=\"linear-gradient(180deg, #B1B5C0 0%, #686E7A 100%)\" />\n      ) : !isAuthorized ? (\n        <AuthPrompt message=\"Sign in to view your library\" />\n      ) : (\n        <KenBurns urls={artworkUrls} />\n      )}\n    </Container>\n  );\n};\n\nexport default MusicPreview;\n","import { motion } from 'framer-motion';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport styled from 'styled-components';\nimport * as Utils from 'utils';\n\nconst Container = styled(motion.div)`\n  height: 100%;\n`;\n\nconst Artwork = styled.img`\n  height: 100%;\n  width: auto;\n`;\n\nconst NowPlayingPreview = () => {\n  const { music } = useMusicKit();\n  const { player } = music;\n  const nowPlayingItem =\n    player?.queue?.items?.[player.nowPlayingItemIndex ?? 0];\n\n  return music.player.isPlaying ? (\n    <Container>\n      <Artwork\n        src={Utils.getArtwork(300, nowPlayingItem?.artwork?.url)}\n        alt=\"now playing artwork\"\n      />\n    </Container>\n  ) : null;\n};\n\nexport default NowPlayingPreview;\n","import { Unit } from 'components';\nimport { motion } from 'framer-motion';\nimport styled from 'styled-components';\n\nconst Container = styled(motion.div)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: white;\n  background: linear-gradient(180deg, #b1b5c0 0%, #686e7a 100%);\n`;\n\nconst Image = styled.img`\n  height: 4em;\n  width: 4em;\n  margin: ${Unit.XS};\n`;\n\nconst Text = styled.h3`\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n`;\n\nconst Subtext = styled.h3`\n  margin: 0;\n  font-size: 14px;\n  font-weight: 500;\n`;\n\nconst SettingsPreview = () => {\n  return (\n    <Container>\n      <Image src=\"react_logo.svg\" />\n      <Text>iPod.js</Text>\n      <Subtext>by Tanner V</Subtext>\n    </Container>\n  );\n};\n\nexport default SettingsPreview;\n","import ViewOptions from 'App/views';\nimport { SelectableList, SelectableListOption, Unit } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Image = styled.img`\n  height: ${Unit.XL};\n  width: auto;\n  margin: ${Unit.XS};\n`;\n\nconst TitleContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: ${Unit.MD} ${Unit.MD} 0;\n`;\n\nconst Title = styled.h3`\n  margin: 0;\n  font-size: 16px;\n  font-weight: 900;\n`;\n\nconst Description = styled.h3`\n  margin: 0 0 ${Unit.MD};\n  font-size: 14px;\n  font-weight: normal;\n  text-align: center;\n`;\n\nconst ListContainer = styled.div`\n  flex: 1;\n`;\n\nconst AboutView = () => {\n  useMenuHideWindow(ViewOptions.about.id);\n  const options: SelectableListOption[] = [\n    {\n      type: 'Link',\n      label: 'My Website',\n      url: 'http://tannerv.com',\n    },\n    {\n      type: 'Link',\n      label: 'LinkedIn',\n      url: 'https://linkedin.com/in/tvillarete',\n    },\n  ];\n\n  const [scrollIndex] = useScrollHandler(ViewOptions.about.id, options);\n\n  return (\n    <Container>\n      <ListContainer>\n        <TitleContainer>\n          <Image alt=\"iPod\" src=\"ipod_logo.svg\" />\n          <Title>iPod.js</Title>\n        </TitleContainer>\n        <Description>\n          Made with{' '}\n          <span aria-label=\"heart\" role=\"img\">\n            \n          </span>{' '}\n          by Tanner Villarete\n        </Description>\n        <SelectableList options={options} activeIndex={scrollIndex} />\n      </ListContainer>\n    </Container>\n  );\n};\n\nexport default AboutView;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport {\n  LoadingScreen,\n  SelectableList,\n  SelectableListOption,\n} from 'components';\nimport { useEventListener, useScrollHandler } from 'hooks';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport styled from 'styled-components';\n\nimport ViewOptions from '../';\n\nconst Container = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  top: -28%;\n  bottom: -50%;\n  left: -50%;\n  right: -50%;\n  border: 1px solid lightgray;\n  background: white;\n  transform: rotateY(180deg);\n`;\n\nconst InfoContainer = styled.div`\n  padding: 4px 8px;\n  background: linear-gradient(180deg, #6585ad 0%, #789ab3 100%);\n  border-bottom: 1px solid #6d87a3;\n`;\n\nconst Text = styled.h3`\n  font-size: 16px;\n  margin: 0;\n  color: white;\n`;\n\nconst Subtext = styled(Text)`\n  font-size: 14px;\n`;\n\nconst ListContainer = styled.div`\n  position: relative;\n  flex: 1;\n  overflow: auto;\n`;\n\ninterface Props {\n  albumId: AppleMusicApi.Album['id'];\n  setPlayingAlbum: (val: boolean) => void;\n}\n\nconst BacksideContent = ({ albumId, setPlayingAlbum }: Props) => {\n  const [album, setAlbum] = useState<AppleMusicApi.Album>();\n  const { music } = useMusicKit();\n  const [loading, setLoading] = useState(true);\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n  const [scrollIndex] = useScrollHandler(ViewOptions.coverFlow.id, options);\n\n  const handleMount = useCallback(async () => {\n    const fetchedAlbum = await music.api.library.album(albumId);\n    setAlbum(fetchedAlbum);\n    const songs = fetchedAlbum.relationships?.tracks.data ?? [];\n\n    setOptions(\n      songs.map((song, index) => ({\n        type: 'Song',\n        label: song.attributes?.name ?? 'Unknown song',\n        queueOptions: {\n          album: fetchedAlbum.id,\n          startPosition: index - 1,\n        },\n      }))\n    );\n\n    setLoading(false);\n  }, [albumId, music.api.library]);\n\n  useEffect(() => {\n    if (!album) {\n      handleMount();\n    }\n  }, [album, handleMount]);\n\n  useEventListener('centerclick', () => setPlayingAlbum(true));\n\n  return (\n    <Container>\n      {loading ? (\n        <LoadingScreen />\n      ) : (\n        <>\n          <InfoContainer>\n            <Text>{album?.attributes?.name}</Text>\n            <Subtext>{album?.attributes?.artistName}</Subtext>\n          </InfoContainer>\n          <ListContainer>\n            <SelectableList activeIndex={scrollIndex} options={options} />\n          </ListContainer>\n        </>\n      )}\n    </Container>\n  );\n};\n\nexport default BacksideContent;\n","import { fadeScale } from 'animation';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport styled, { css } from 'styled-components';\nimport * as Utils from 'utils';\n\nimport BacksideContent from './BacksideContent';\nimport { Point } from './CoverFlow';\n\nconst getOffsetPx = (offset: number, midpoint: number) => {\n  if (offset === 0) return 0;\n  const val = midpoint - 46 + offset * 48;\n\n  return val + (offset < 0 ? -48 : 24);\n};\n\ninterface ContainerProps {\n  isActive: boolean;\n  isSelected: boolean;\n  isPlaying: boolean;\n  isHidden: boolean;\n  midpoint: Point;\n  offset: number;\n  index: number;\n  activeIndex: number;\n}\n\nconst Container = styled.div.attrs((props: ContainerProps) => ({\n  style: {\n    background: 'transparent',\n    backgroundSize: 'cover',\n  },\n}))<ContainerProps>`\n  z-index: ${(props) => 1 - Math.abs(props.index - props.activeIndex)};\n  position: absolute;\n  height: 8em;\n  width: 8em;\n  transition: transform 0.25s, opacity 0.35s, background 0.35s;\n  transform-style: preserve-3d;\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(70%, transparent), to(rgba(240, 240, 240, 0.2)));\n  opacity: ${(props) => props.isHidden && 0};\n\n  ${(props) =>\n    props.isActive &&\n    css`\n      transition: transform 0.3s, opacity 0.35s, background 0.35s;\n      transform: translate3d(${props.midpoint.x - 60}px, 4px, 20px)\n        ${props.isSelected && 'rotateY(-180deg) translateY(10%) scale(1)'};\n\n      ${props.isSelected &&\n      css`\n        transition: transform 0.5s, opacity 0.35s, background 0.35s;\n        -webkit-box-reflect: none;\n\n        ${Artwork} {\n          opacity: 0;\n        }\n      `};\n\n      ${props.isPlaying &&\n      css`\n        transform: translate(${props.midpoint.x - 135}px, -10px) rotateY(18deg);\n\n        ${Artwork} {\n          opacity: 1;\n        }\n      `};\n    `};\n\n  ${(props) =>\n    !props.isActive &&\n    css`\n      transform: translateX(${props.offset}px) scale(1.1) translateZ(-65px)\n        rotateY(${props.index < props.activeIndex ? '70deg' : '-70deg'});\n    `};\n`;\n\nconst Artwork = styled.img`\n  z-index: 0;\n  position: absolute;\n  height: 8em;\n  width: 8em;\n  transition: opacity 0.5s;\n`;\n\nconst Backside = styled(motion.div)`\n  position: relative;\n  height: 100%;\n  width: 100%;\n`;\n\ninterface Props {\n  index: number;\n  activeIndex: number;\n  midpoint: Point;\n  album: AppleMusicApi.Album;\n  isSelected: boolean;\n  playingAlbum: boolean;\n  setPlayingAlbum: (val: boolean) => void;\n}\n\nconst AlbumCover = ({\n  album,\n  midpoint,\n  index,\n  activeIndex,\n  isSelected,\n  playingAlbum,\n  setPlayingAlbum,\n}: Props) => {\n  const isVisible = index > activeIndex - 15 && index < activeIndex + 15;\n  const isActive = index === activeIndex;\n  const offset = getOffsetPx(index - activeIndex, midpoint.x);\n  const isHidden = !isActive && playingAlbum;\n\n  return isVisible ? (\n    <Container\n      isActive={isActive}\n      isSelected={isSelected}\n      isHidden={isHidden}\n      midpoint={midpoint}\n      offset={offset}\n      index={index}\n      activeIndex={activeIndex}\n      isPlaying={isSelected && playingAlbum}\n    >\n      <Artwork src={Utils.getArtwork(300, album.attributes?.artwork?.url)} />\n      <AnimatePresence>\n        {isSelected && !playingAlbum && (\n          <Backside {...fadeScale}>\n            <BacksideContent\n              albumId={album.id}\n              setPlayingAlbum={setPlayingAlbum}\n            />\n          </Backside>\n        )}\n      </AnimatePresence>\n    </Container>\n  ) : null;\n};\n\nexport default AlbumCover;\n","import { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { fade } from 'animation';\nimport { NowPlaying } from 'components';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { useEventListener } from 'hooks';\nimport { useWindowService } from 'services/window';\nimport styled from 'styled-components';\n\nimport AlbumCover from './AlbumCover';\n\nexport type Point = {\n  x: number;\n  y: number;\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\nconst AlbumsContainer = styled.div`\n  z-index: 2;\n  position: relative;\n  display: flex;\n  flex-wrap: nowrap;\n  flex: 1;\n  padding-top: 8%;\n  -webkit-overflow-scrolling: touch; /* [3] */\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  perspective: 500px;\n`;\n\nconst InfoContainer = styled(motion.div)`\n  z-index: 0;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 30%;\n`;\n\nconst NowPlayingContainer = styled(motion.div)`\n  z-index: 1;\n  position: absolute;\n  top: 20px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst Text = styled.h3`\n  margin: 0;\n  font-size: 16px;\n  text-align: center;\n\n  :first-of-type {\n    margin-top: 24px;\n  }\n`;\n\ninterface Props {\n  albums: AppleMusicApi.Album[];\n}\n\nconst CoverFlow = ({ albums }: Props) => {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [midpoint, setMidpoint] = useState<Point>({ x: 0, y: 0 });\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [selectedAlbum, setSelectedAlbum] = useState<AppleMusicApi.Album>();\n  const [playingAlbum, setPlayingAlbum] = useState(false);\n  const { hideWindow } = useWindowService();\n\n  const selectAlbum = useCallback(() => {\n    if (!selectedAlbum) {\n      const album = albums[activeIndex];\n      setSelectedAlbum(album);\n    }\n  }, [activeIndex, albums, selectedAlbum]);\n\n  const handleMenuClick = useCallback(() => {\n    if (selectedAlbum && playingAlbum) {\n      setPlayingAlbum(false);\n    } else if (selectedAlbum) {\n      setSelectedAlbum(undefined);\n    } else {\n      hideWindow();\n    }\n  }, [hideWindow, playingAlbum, selectedAlbum]);\n\n  const forwardScroll = useCallback(() => {\n    if (activeIndex < albums.length - 1 && !selectedAlbum && !playingAlbum) {\n      setActiveIndex(activeIndex + 1);\n    }\n  }, [activeIndex, albums.length, playingAlbum, selectedAlbum]);\n\n  const backwardScroll = useCallback(() => {\n    if (activeIndex > 0 && !selectedAlbum && !playingAlbum) {\n      setActiveIndex(activeIndex - 1);\n    }\n  }, [activeIndex, playingAlbum, selectedAlbum]);\n\n  const updateMidpoint = useCallback(() => {\n    if (containerRef.current) {\n      const { width, height } = containerRef.current.getBoundingClientRect();\n      setMidpoint({ x: width / 2, y: height / 2 });\n    }\n  }, []);\n\n  useEffect(updateMidpoint, [updateMidpoint]);\n\n  useEventListener('centerclick', selectAlbum);\n  useEventListener('menuclick', handleMenuClick);\n  useEventListener('forwardscroll', forwardScroll);\n  useEventListener('backwardscroll', backwardScroll);\n\n  return (\n    <Container>\n      <AlbumsContainer ref={containerRef}>\n        {albums.map((album, index) => (\n          <AlbumCover\n            key={`cf-artwork-${album.id}`}\n            index={index}\n            activeIndex={activeIndex}\n            midpoint={midpoint}\n            album={album}\n            playingAlbum={playingAlbum}\n            isSelected={!!selectedAlbum && album.id === selectedAlbum.id}\n            setPlayingAlbum={setPlayingAlbum}\n          />\n        ))}\n      </AlbumsContainer>\n\n      <AnimatePresence>\n        {albums.length && !playingAlbum && (\n          <InfoContainer {...fade}>\n            <Text>{albums[activeIndex]?.attributes?.name}</Text>\n            <Text>{albums[activeIndex]?.attributes?.artistName}</Text>\n          </InfoContainer>\n        )}\n        {playingAlbum && (\n          <NowPlayingContainer {...fade}>\n            <NowPlaying hideArtwork onHide={handleMenuClick} />\n          </NowPlayingContainer>\n        )}\n      </AnimatePresence>\n    </Container>\n  );\n};\n\nexport default CoverFlow;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { LoadingScreen } from 'components';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport styled from 'styled-components';\n\nimport CoverFlow from './CoverFlow';\n\nconst Container = styled.div`\n  flex: 1;\n`;\n\nconst CoverFlowView = () => {\n  const [albums, setAlbums] = useState<AppleMusicApi.Album[]>([]);\n\n  const { music } = useMusicKit();\n  const [loading, setLoading] = useState(true);\n\n  const handleMount = useCallback(async () => {\n    const albums = await music.api.library.albums(null);\n\n    setAlbums(albums);\n\n    setLoading(false);\n  }, [music]);\n\n  useEffect(() => {\n    handleMount();\n  }, [handleMount]);\n\n  return (\n    <Container>\n      {loading ? (\n        <LoadingScreen backgroundColor=\"white\" />\n      ) : (\n        <CoverFlow albums={albums} />\n      )}\n    </Container>\n  );\n};\n\nexport default CoverFlowView;\n","import { useCallback, useMemo } from 'react';\n\nimport { PREVIEW } from 'App/previews';\nimport ViewOptions, {\n  CoverFlowView,\n  GamesView,\n  MusicView,\n  NowPlayingView,\n  SettingsView,\n} from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useForceUpdate, useMKEventListener, useScrollHandler } from 'hooks';\nimport { useMusicKit } from 'hooks/useMusicKit';\n\nconst strings = {\n  nowPlaying: 'Now Playing',\n};\n\nconst HomeView = () => {\n  const { music } = useMusicKit();\n  const forceUpdate = useForceUpdate();\n\n  const handleLogIn = useCallback(() => {\n    music.authorize();\n  }, [music]);\n\n  const options = useMemo(() => {\n    const arr: SelectableListOption[] = [\n      {\n        type: 'View',\n        label: 'Cover Flow',\n        viewId: ViewOptions.coverFlow.id,\n        component: () => <CoverFlowView />,\n        preview: PREVIEW.MUSIC,\n      },\n      {\n        type: 'View',\n        label: 'Music',\n        viewId: ViewOptions.music.id,\n        component: () => <MusicView />,\n        preview: PREVIEW.MUSIC,\n      },\n      {\n        type: 'View',\n        label: 'Games',\n        viewId: ViewOptions.games.id,\n        component: () => <GamesView />,\n        preview: PREVIEW.GAMES,\n      },\n      {\n        type: 'View',\n        label: 'Settings',\n        viewId: ViewOptions.settings.id,\n        component: () => <SettingsView />,\n        preview: PREVIEW.SETTINGS,\n      },\n    ];\n\n    if (!music.isAuthorized) {\n      arr.push({\n        type: 'Action',\n        label: 'Sign in',\n        onSelect: handleLogIn,\n        preview: PREVIEW.MUSIC,\n      });\n    }\n\n    if (music.isAuthorized && music.player?.nowPlayingItem?.isPlayable) {\n      arr.push({\n        type: 'View',\n        label: strings.nowPlaying,\n        viewId: ViewOptions.nowPlaying.id,\n        component: () => <NowPlayingView />,\n        preview: PREVIEW.NOW_PLAYING,\n      });\n    }\n\n    return arr;\n  }, [handleLogIn, music.isAuthorized, music.player?.nowPlayingItem]);\n\n  const [scrollIndex] = useScrollHandler(ViewOptions.home.id, options);\n\n  useMKEventListener('userTokenDidChange', forceUpdate);\n  useMKEventListener('playbackStateDidChange', forceUpdate);\n\n  return <SelectableList options={options} activeIndex={scrollIndex} />;\n};\n\nexport default HomeView;\n","import React, { useMemo } from 'react';\n\nimport { PREVIEW } from 'App/previews';\nimport {\n  AlbumsView,\n  ArtistsView,\n  CoverFlowView,\n  NowPlayingView,\n  PlaylistsView,\n} from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useMusicKit, useScrollHandler } from 'hooks';\n\nimport ViewOptions from '../';\n\nconst MusicView = () => {\n  const { music } = useMusicKit();\n  useMenuHideWindow(ViewOptions.music.id);\n\n  const options: SelectableListOption[] = useMemo(() => {\n    const arr: SelectableListOption[] = [\n      {\n        type: 'View',\n        label: 'Cover Flow',\n        viewId: ViewOptions.coverFlow.id,\n        component: () => <CoverFlowView />,\n        preview: PREVIEW.MUSIC,\n      },\n      {\n        type: 'View',\n        label: 'Playlists',\n        viewId: ViewOptions.playlists.id,\n        component: () => <PlaylistsView />,\n        preview: PREVIEW.MUSIC,\n      },\n      {\n        type: 'View',\n        label: 'Artists',\n        viewId: ViewOptions.artists.id,\n        component: () => <ArtistsView />,\n        preview: PREVIEW.MUSIC,\n      },\n      {\n        type: 'View',\n        label: 'Albums',\n        viewId: ViewOptions.albums.id,\n        component: () => <AlbumsView />,\n        preview: PREVIEW.MUSIC,\n      },\n    ];\n\n    if (music.isAuthorized && music.player?.nowPlayingItem?.isPlayable) {\n      arr.push({\n        type: 'View',\n        label: 'Now playing',\n        viewId: ViewOptions.nowPlaying.id,\n        component: () => <NowPlayingView />,\n        preview: PREVIEW.NOW_PLAYING,\n      });\n    }\n\n    return arr;\n  }, [music.isAuthorized, music.player?.nowPlayingItem?.isPlayable]);\n\n  const [scrollIndex] = useScrollHandler(ViewOptions.music.id, options);\n\n  return <SelectableList options={options} activeIndex={scrollIndex} />;\n};\n\nexport default MusicView;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { AuthPrompt, SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\nimport { useMusicKit } from 'hooks/useMusicKit';\n\nimport ViewOptions, { ArtistView } from '../';\n\nconst ArtistsView = () => {\n  useMenuHideWindow(ViewOptions.artists.id);\n  const { music, isAuthorized } = useMusicKit();\n  const [loading, setLoading] = useState(false);\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n\n  const handleMount = useCallback(async () => {\n    setLoading(true);\n    const artists = await music.api.library.artists(null, {\n      include: 'catalog',\n      limit: 100,\n    });\n\n    setOptions(\n      artists.map((artist) => ({\n        type: 'View',\n        label: artist.attributes?.name ?? 'Unknown artist',\n        viewId: ViewOptions.artist.id,\n        component: () => <ArtistView id={artist.id} inLibrary={true} />,\n      }))\n    );\n\n    setLoading(false);\n  }, [music]);\n\n  useEffect(() => {\n    if (isAuthorized) {\n      handleMount();\n    }\n  }, [handleMount, isAuthorized]);\n\n  const [scrollIndex] = useScrollHandler(ViewOptions.artists.id, options);\n\n  return isAuthorized ? (\n    <SelectableList\n      loading={loading}\n      options={options}\n      activeIndex={scrollIndex}\n    />\n  ) : (\n    <AuthPrompt />\n  );\n};\n\nexport default ArtistsView;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport ViewOptions, { AlbumView } from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport * as Utils from 'utils';\n\ninterface Props {\n  id: string;\n  /** Get artist from the user's library if true (otherwise search Apple Music). */\n  inLibrary?: boolean;\n}\n\nconst ArtistView = ({ id, inLibrary = false }: Props) => {\n  useMenuHideWindow(ViewOptions.artist.id);\n  const { music } = useMusicKit();\n  const [loading, setLoading] = useState(true);\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n  const [scrollIndex] = useScrollHandler(ViewOptions.artist.id, options);\n\n  const handleMount = useCallback(async () => {\n    const albums = inLibrary\n      ? await music.api.library.artistRelationship(id, 'albums')\n      : await music.api.artistRelationship(id, 'albums');\n\n    const newOptions: SelectableListOption[] = albums.map(\n      (album: AppleMusicApi.Album) => ({\n        type: 'View',\n        label: album.attributes?.name ?? 'Unknown name',\n        sublabel: album.attributes?.artistName,\n        imageUrl: Utils.getArtwork(100, album.attributes?.artwork?.url),\n        viewId: ViewOptions.album.id,\n        component: () => (\n          <AlbumView id={album.id ?? ''} inLibrary={inLibrary} />\n        ),\n        longPressOptions: Utils.getMediaOptions('album', album.id),\n      })\n    );\n\n    setOptions(newOptions);\n\n    setLoading(false);\n  }, [id, inLibrary, music.api]);\n\n  useEffect(() => {\n    handleMount();\n  }, [handleMount]);\n\n  return (\n    <SelectableList\n      loading={loading}\n      options={options}\n      activeIndex={scrollIndex}\n    />\n  );\n};\n\nexport default ArtistView;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { AuthPrompt, SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport * as Utils from 'utils';\n\nimport ViewOptions, { AlbumView } from '../';\n\nconst AlbumsView = () => {\n  useMenuHideWindow(ViewOptions.albums.id);\n  const { music, isAuthorized } = useMusicKit();\n  const [loading, setLoading] = useState(false);\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n  const [scrollIndex] = useScrollHandler(ViewOptions.albums.id, options);\n\n  const handleMount = useCallback(async () => {\n    setLoading(true);\n    const albums = await music.api.library.albums(null, {\n      include: 'library-albums',\n    });\n\n    setOptions(\n      albums.map((album) => ({\n        type: 'View',\n        label: album.attributes?.name ?? 'Unknown name',\n        imageUrl: Utils.getArtwork(50, album.attributes?.artwork?.url),\n        viewId: ViewOptions.album.id,\n        component: () => <AlbumView id={album.id ?? ''} inLibrary />,\n      }))\n    );\n\n    setLoading(false);\n  }, [music]);\n\n  useEffect(() => {\n    if (isAuthorized) {\n      handleMount();\n    }\n  }, [handleMount, isAuthorized]);\n\n  return isAuthorized ? (\n    <SelectableList\n      loading={loading}\n      options={options}\n      activeIndex={scrollIndex}\n    />\n  ) : (\n    <AuthPrompt />\n  );\n};\n\nexport default AlbumsView;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport ViewOptions from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport * as Utils from 'utils';\n\ninterface Props {\n  id: string;\n  /** Get album from the user's library if true (otherwise search Apple Music). */\n  inLibrary?: boolean;\n}\n\nconst AlbumView = ({ id, inLibrary = false }: Props) => {\n  useMenuHideWindow(ViewOptions.album.id);\n  const { music } = useMusicKit();\n  const [loading, setLoading] = useState(true);\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n  const [scrollIndex] = useScrollHandler(ViewOptions.album.id, options);\n\n  const handleMount = useCallback(async () => {\n    const album = inLibrary\n      ? await music.api.library.album(id)\n      : await music.api.album(id);\n    const songs = album.relationships?.tracks.data ?? [];\n\n    setOptions(\n      songs.map((song, index) => ({\n        type: 'Song',\n        label: song.attributes?.name ?? 'Unknown song',\n        queueOptions: {\n          album: id,\n          startPosition: index - 1,\n        },\n        showNowPlayingView: true,\n        longPressOptions: Utils.getMediaOptions('song', song.id),\n      }))\n    );\n\n    setLoading(false);\n  }, [id, inLibrary, music.api]);\n\n  useEffect(() => {\n    handleMount();\n  }, [handleMount]);\n\n  return (\n    <SelectableList\n      loading={loading}\n      options={options}\n      activeIndex={scrollIndex}\n    />\n  );\n};\n\nexport default AlbumView;\n","import ViewOptions from 'App/views';\nimport { NowPlaying } from 'components';\nimport { useMenuHideWindow } from 'hooks';\nimport { useWindowService } from 'services/window';\n\nconst NowPlayingView = () => {\n  useMenuHideWindow(ViewOptions.nowPlaying.id);\n  const { hideWindow } = useWindowService();\n\n  return <NowPlaying onHide={hideWindow} />;\n};\n\nexport default NowPlayingView;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport * as Utils from 'utils';\n\nimport ViewOptions, { PlaylistView } from '../';\n\nconst PlaylistsView = () => {\n  useMenuHideWindow(ViewOptions.playlists.id);\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n  const [scrollIndex] = useScrollHandler(ViewOptions.playlists.id, options);\n  const { music } = useMusicKit();\n  const [loading, setLoading] = useState(true);\n\n  const handleMount = useCallback(async () => {\n    const playlists = await music.api.library.playlists(null, {\n      limit: 100,\n    });\n\n    setOptions(\n      playlists.map((playlist) => ({\n        type: 'View',\n        label: playlist.attributes?.name ?? 'Unknown playlist',\n        sublabel: playlist.attributes?.description?.standard,\n        imageUrl: Utils.getArtwork(100, playlist.attributes?.artwork?.url),\n        viewId: ViewOptions.playlist.id,\n        component: () => <PlaylistView id={playlist.id} inLibrary />,\n        longPressOptions: Utils.getMediaOptions('playlist', playlist.id),\n      }))\n    );\n\n    setLoading(false);\n  }, [music]);\n\n  useEffect(() => {\n    handleMount();\n  }, [handleMount]);\n\n  return (\n    <SelectableList\n      loading={loading}\n      options={options}\n      activeIndex={scrollIndex}\n    />\n  );\n};\n\nexport default PlaylistsView;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport ViewOptions from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport * as Utils from 'utils';\n\ninterface Props {\n  id: string;\n  /** Get playlist from the user's library if true (otherwise search Apple Music). */\n  inLibrary?: boolean;\n}\n\nconst PlaylistView = ({ id, inLibrary = false }: Props) => {\n  useMenuHideWindow(ViewOptions.playlist.id);\n  const { music } = useMusicKit();\n  const [loading, setLoading] = useState(true);\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n  const [scrollIndex] = useScrollHandler(ViewOptions.playlist.id, options);\n\n  const handleMount = useCallback(async () => {\n    const playlist = inLibrary\n      ? await music.api.library.playlist(id)\n      : await music.api.playlist(id);\n    const songs = playlist.relationships?.tracks?.data ?? [];\n\n    setOptions(\n      songs.map((song, index) => ({\n        type: 'Song',\n        label: song.attributes?.name ?? 'Unknown song',\n        sublabel: song.attributes?.artistName ?? 'Unknown artist',\n        imageUrl: Utils.getArtwork(100, song.attributes?.artwork?.url),\n        queueOptions: {\n          playlist: id,\n          startPosition: index - 1,\n        },\n        showNowPlayingView: true,\n        longPressOptions: Utils.getMediaOptions('song', song.id),\n      }))\n    );\n\n    setLoading(false);\n  }, [id, inLibrary, music]);\n\n  useEffect(() => {\n    handleMount();\n  }, [handleMount]);\n\n  return (\n    <SelectableList\n      loading={loading}\n      options={options}\n      activeIndex={scrollIndex}\n    />\n  );\n};\n\nexport default PlaylistView;\n","import { PREVIEW } from 'App/previews';\nimport ViewOptions, { BrickGameView } from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\n\nconst GamesView = () => {\n  useMenuHideWindow(ViewOptions.games.id);\n  const options: SelectableListOption[] = [\n    {\n      type: 'View',\n      label: 'Brick',\n      viewId: ViewOptions.brickGame.id,\n      component: () => <BrickGameView />,\n      preview: PREVIEW.GAMES,\n    },\n  ];\n\n  const [scrollIndex] = useScrollHandler(ViewOptions.games.id, options);\n\n  return <SelectableList options={options} activeIndex={scrollIndex} />;\n};\n\nexport default GamesView;\n","const app = {\n  init: function() {\n    this.canvas = document.querySelector(\"#brickBreakerCanvas\");\n    this.context = this.canvas ? this.canvas.getContext(\"2d\") : null;\n\n    if (!this.context) {\n      console.log(\"Error getting application context\");\n      return; //TODO: notify user\n    }\n\n    window.addEventListener(\"centerclick\", this.handleCenterClick);\n    this.inStasis = false;\n\n    if (!this.initialized) {\n      window.addEventListener(\"forwardscroll\", () => player.moveRight(), true);\n      window.addEventListener(\"backwardscroll\", () => player.moveLeft(), true);\n      window.addEventListener(\"menuclick\", () => (this.inStasis = true));\n\n      this.waiting = true;\n      this.setupBricks();\n      player.draw();\n      this.drawBricks();\n      ball.update();\n      this.update();\n\n      this.initialized = true;\n    }\n\n    return;\n  },\n\n  handleCenterClick: function() {\n    if (app.waiting && !app.inStasis) {\n      app.waiting = false;\n    }\n  },\n\n  enterStasis: function() {},\n\n  update: function() {\n    app.clearContext();\n    player.draw();\n    app.drawBricks();\n\n    ball.update();\n\n    requestAnimationFrame(app.update);\n  },\n\n  clearContext: function() {\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    return;\n  },\n\n  die: function() {\n    //TODO: better death!\n    player.position.x = 200;\n    player.lives -= 1;\n\n    if (player.lives < 1) this.reset();\n\n    ball.reset();\n    app.waiting = true;\n  },\n\n  drawBricks: function() {\n    this.bricks.forEach(function(brick) {\n      brick.draw();\n    });\n  },\n\n  //TODO: this will change per level\n  setupBricks: function() {\n    this.bricks = [];\n\n    var i = 0;\n    var brickTop = 50;\n\n    //Setup back row:\n    for (i = 0; i < 10; i++) {\n      const brick = new Brick();\n      brick.position.x = 100 + i * brick.size.width + i;\n      brick.position.y = brickTop;\n      brick.health = 1;\n      this.bricks.push(brick);\n    }\n\n    //Setup middle row:\n    for (i = 0; i < 8; i++) {\n      const brick = new Brick();\n      brick.position.x = 150 + i * brick.size.width + i;\n      brick.position.y = brickTop + brick.size.height + 1;\n      brick.health = 2;\n      this.bricks.push(brick);\n    }\n\n    //Setup front row:\n    for (i = 0; i < 6; i++) {\n      var brick = new Brick();\n      brick.position.x = 200 + i * brick.size.width + i;\n      brick.position.y = brickTop + 2 * brick.size.height + 1;\n      brick.health = 3;\n      this.bricks.push(brick);\n    }\n  },\n\n  reset: function() {\n    player.reset();\n    ball.reset();\n    this.setupBricks();\n  },\n\n  bricks: [],\n\n  canvas: null,\n  context: null,\n  timeout: 33\n};\n\nvar player = {\n  // Defines initial position\n  position: {\n    x: 200,\n    y: 480\n  },\n\n  score: 0,\n\n  lives: 3,\n\n  physics: {\n    speed: 10\n  },\n\n  size: {\n    height: 20,\n    width: 150\n  },\n\n  draw: function() {\n    app.context.fillStyle = \"black\";\n    app.context.fillRect(\n      this.position.x,\n      this.position.y,\n      this.size.width,\n      this.size.height\n    );\n\n    // app.context.textAlign = \"center\";\n    // app.context.fillStyle = \"rgba(0, 0, 0, .2)\";\n\n    // app.context.font = \"18px sans-serif\";\n    // app.context.fillText(\"Lives\", 40, 20);\n    // app.context.fillText(\"Score\", 40, 120);\n\n    // app.context.font = \"48px sans-serif\";\n    // app.context.fillText(this.lives, 40, 75);\n    // app.context.fillText(this.score, 40, 175);\n  },\n\n  moveLeft: function() {\n    if (this.position.x > 0) this.position.x -= this.physics.speed * 1.5;\n  },\n\n  moveRight: function() {\n    if (this.position.x < app.canvas.width - this.size.width)\n      this.position.x += this.physics.speed * 1.5;\n  },\n\n  reset: function() {\n    this.lives = 3;\n    this.score = 0;\n    this.resetPosition();\n  },\n\n  resetPosition: function() {\n    this.position.x = 200;\n  }\n};\n\nvar ball = {\n  position: {\n    x: 0,\n    y: 250\n  },\n\n  size: {\n    height: 10,\n    width: 10\n  },\n\n  physics: {\n    speed: 5\n  },\n\n  direction: {\n    x: 1, //Moving right\n    y: 1 //Moving down\n  },\n\n  draw: function() {\n    app.context.fillStyle = \"transparent\";\n    const context = app.context;\n    const centerX = this.position.x;\n    const centerY = this.position.y;\n    const radius = 10;\n\n    context.beginPath();\n    context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);\n    context.fillStyle = \"black\";\n    context.fill();\n    context.lineWidth = 5;\n    context.strokeStyle = \"black\";\n    context.stroke();\n  },\n\n  reset: function() {\n    this.position.x = 0;\n    this.position.y = 250;\n    this.direction.x = 1;\n    this.direction.y = 1;\n  },\n\n  update: function() {\n    if (this.position.x <= 0)\n      //Left Bounds\n      this.direction.x = 1;\n    if (this.position.x >= app.canvas.width)\n      //Right Bounds\n      this.direction.x = -1;\n    if (this.position.y <= 0)\n      //Top Bounds\n      this.direction.y = 1;\n    if (this.position.y >= app.canvas.height)\n      //Bottom Bounds\n      app.die(); //TODO: die\n\n    if (!app.waiting && !app.inStasis) {\n      this.checkCollisionWithPlayer();\n      this.checkCollisionWithBricks();\n\n      this.position.x += this.physics.speed * this.direction.x;\n      this.position.y += this.physics.speed * this.direction.y;\n    }\n\n    this.draw();\n  },\n\n  checkCollisionWithPlayer: function() {\n    if (this.position.y + this.size.height < player.position.y) return;\n    if (this.position.y > player.position.y + player.size.height) return;\n    if (this.position.x > player.position.x + player.size.width) return;\n    if (this.position.x + this.size.width < player.position.x) return;\n\n    this.direction.y = -1; //Moving up now\n  },\n\n  checkCollisionWithBricks: function() {\n    var i = 0;\n    for (i = 0; i < app.bricks.length; i++) {\n      var brick = app.bricks[i];\n\n      if (this.position.y + this.size.height < brick.position.y) continue;\n      if (this.position.y > brick.position.y + brick.size.height) continue;\n      if (this.position.x > brick.position.x + brick.size.width) continue;\n      if (this.position.x + this.size.width < brick.position.x) continue;\n\n      /* If the loop makes it this far, we have a collision */\n      brick.health -= 1;\n\n      player.score += 20;\n\n      if (brick.health < 1) app.bricks.splice(i, 1);\n\n      //Update direction based on where we hit the brick\n\n      //Moving towards lower right\n      if (this.direction.x === 1 && this.direction.y === 1) {\n        if (this.position.y > brick.position.y) this.direction.x = -1;\n        else this.direction.y = -1;\n      }\n      //Moving towards lower left\n      else if (this.direction.x === -1 && this.direction.y === 1) {\n        if (this.position.y > brick.position.y) this.direction.x = 1;\n        else this.direction.y = -1;\n      }\n      //Moving towards upper right\n      else if (this.direction.x === 1 && this.direction.y === -1) {\n        if (this.position.y > brick.position.y) this.direction.x = -1;\n        else this.direction.y = -1;\n      }\n      //Moving towards upper-left\n      else if (this.direction.x === -1 && this.direction.y === -1) {\n        if (this.position.y > brick.position.y) this.direction.x = 1;\n        else this.direction.y = -1;\n      }\n    }\n  }\n};\n\nvar Brick = function() {\n  this.health = 3;\n\n  this.size = {\n    height: 20,\n    width: 60\n  };\n\n  //Will be determined on setup\n  this.position = {\n    x: 0,\n    y: 0\n  };\n};\n\nBrick.prototype.draw = function() {\n  // eslint-disable-next-line default-case\n  switch (this.health) {\n    case 3:\n      app.context.fillStyle = \"rgb(0, 240, 0)\"; //Green\n      break;\n    case 2:\n      app.context.fillStyle = \"rgb(255,140,0\"; //Orange?\n      break;\n    case 1:\n      app.context.fillStyle = \"rgb(200, 0, 0)\"; //Red\n      break;\n  }\n\n  if (this.health > 0)\n    app.context.fillRect(\n      this.position.x,\n      this.position.y,\n      this.size.width - 5,\n      this.size.height - 5\n    );\n};\n\nexport default app;\n","export { default as AboutView } from './AboutView';\nexport { default as CoverFlowView } from './CoverFlowView';\nexport { default as HomeView } from './HomeView';\nexport { default as MusicView } from './MusicView';\nexport { default as ArtistsView } from './ArtistsView';\nexport { default as ArtistView } from './ArtistView';\nexport { default as AlbumsView } from './AlbumsView';\nexport { default as AlbumView } from './AlbumView';\nexport { default as NowPlayingView } from './NowPlayingView';\nexport { default as PlaylistsView } from './PlaylistsView';\nexport { default as PlaylistView } from './PlaylistView';\nexport { default as GamesView } from './GamesView';\nexport { default as BrickGameView } from './BrickGameView';\nexport { default as SettingsView } from './SettingsView';\n\nexport enum WINDOW_TYPE {\n  SPLIT = 'SPLIT',\n  FULL = 'FULL',\n  COVER_FLOW = 'COVER_FLOW',\n  POPUP = 'POPUP',\n}\n\ntype ViewOption = {\n  id: string;\n  title: string;\n  type: WINDOW_TYPE;\n};\n\nexport const ViewOptions: Record<string, ViewOption> = {\n  // Split Screen Views\n  home: { id: 'home', title: 'iPod.js', type: WINDOW_TYPE.SPLIT },\n  music: { id: 'music', title: 'Music', type: WINDOW_TYPE.SPLIT },\n  games: { id: 'games', title: 'Games', type: WINDOW_TYPE.SPLIT },\n  settings: { id: 'settings', title: 'Settings', type: WINDOW_TYPE.SPLIT },\n\n  // Fullscreen Views\n  about: { id: 'about', title: 'About', type: WINDOW_TYPE.FULL },\n  artists: { id: 'artists', title: 'Artists', type: WINDOW_TYPE.FULL },\n  artist: { id: 'artist', title: 'Artist', type: WINDOW_TYPE.FULL },\n  albums: { id: 'albums', title: 'Albums', type: WINDOW_TYPE.FULL },\n  album: { id: 'album', title: 'Album', type: WINDOW_TYPE.FULL },\n  nowPlaying: {\n    id: 'nowPlaying',\n    title: 'Now Playing',\n    type: WINDOW_TYPE.FULL,\n  },\n  playlists: { id: 'playlists', title: 'Playlists', type: WINDOW_TYPE.FULL },\n  playlist: { id: 'playlist', title: 'Playlist', type: WINDOW_TYPE.FULL },\n  brickGame: { id: 'brickGame', title: 'Brick', type: WINDOW_TYPE.FULL },\n\n  // CoverFlow view\n  coverFlow: {\n    id: 'coverFlow',\n    title: 'Cover Flow',\n    type: WINDOW_TYPE.COVER_FLOW,\n  },\n\n  // Popups\n  mediaPopup: {\n    id: 'mediaPopup',\n    title: 'Media Options',\n    type: WINDOW_TYPE.POPUP,\n  },\n};\n\nexport default ViewOptions;\n","import { useEffect } from 'react';\n\nimport { useMenuHideWindow } from 'hooks';\nimport styled from 'styled-components';\n\nimport ViewOptions from '../';\nimport Game from './Game';\n\nconst Canvas = styled.canvas`\n  height: 100%;\n  width: 100%;\n  background: rgb(2, 0, 36);\n  background: linear-gradient(\n    90deg,\n    rgba(2, 0, 36, 1) 0%,\n    rgba(107, 173, 255, 1) 0%,\n    rgba(0, 212, 255, 1) 100%\n  );\n`;\n\nconst BrickGame = () => {\n  useMenuHideWindow(ViewOptions.brickGame.id);\n  useEffect(() => {\n    Game.init();\n  }, []);\n\n  return (\n    <Canvas width=\"800\" height=\"500\" id=\"brickBreakerCanvas\">\n      <p>Your browser does not support this feature</p>\n    </Canvas>\n  );\n};\n\nexport default BrickGame;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { PREVIEW } from 'App/previews';\nimport ViewOptions, { AboutView } from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useEffectOnce, useMenuHideWindow, useScrollHandler } from 'hooks';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport { useWindowService } from 'services/window';\n\nconst SettingsView = () => {\n  useMenuHideWindow(ViewOptions.settings.id);\n  const { music, isAuthorized } = useMusicKit();\n  const { hideWindow } = useWindowService();\n  const [authButtonType, setAuthButtonType] = useState<\n    'loggedIn' | 'loggedOut'\n  >(isAuthorized ? 'loggedIn' : 'loggedOut');\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n\n  const handleAuth = useCallback(async () => {\n    console.log('Authing');\n    await music.authorize();\n    hideWindow();\n  }, [hideWindow, music]);\n\n  const handleDeauth = useCallback(async () => {\n    console.log('Deauthing');\n    await music.unauthorize();\n    hideWindow();\n  }, [hideWindow, music]);\n\n  const handleUpdateOptions = useCallback(() => {\n    const updatedOptions: SelectableListOption[] = [\n      {\n        type: 'View',\n        label: 'About',\n        viewId: ViewOptions.about.id,\n        component: () => <AboutView />,\n        preview: PREVIEW.SETTINGS,\n      },\n      {\n        type: 'Action',\n        label: isAuthorized ? 'Sign out' : 'Sign in',\n        onSelect: isAuthorized ? handleDeauth : handleAuth,\n      },\n    ];\n\n    setOptions(updatedOptions);\n    setAuthButtonType(isAuthorized ? 'loggedIn' : 'loggedOut');\n  }, [handleDeauth, isAuthorized, handleAuth]);\n\n  useEffect(() => {\n    if (isAuthorized && authButtonType !== 'loggedIn') {\n      console.log('Showing sign out button');\n      handleUpdateOptions();\n    } else if (!isAuthorized && authButtonType === 'loggedIn') {\n      console.log('Showing sign in button');\n      handleUpdateOptions();\n    }\n  }, [authButtonType, handleUpdateOptions, isAuthorized]);\n\n  useEffectOnce(handleUpdateOptions);\n\n  const [scrollIndex] = useScrollHandler(ViewOptions.settings.id, options);\n\n  return <SelectableList options={options} activeIndex={scrollIndex} />;\n};\n\nexport default SettingsView;\n","import { createContext, useCallback, useContext, useState } from 'react';\n\nimport { PREVIEW } from 'App/previews';\nimport ViewOptions, * as Views from 'App/views';\nimport { SelectableListOption } from 'components';\n\nexport type WindowOptions<TComponent extends React.ComponentType<any> = any> = {\n  /** A unique ID for each window. */\n  id: string;\n  /** The style of window that should be opened. */\n  type: Views.WINDOW_TYPE;\n  /** The React component that will be rendered in the window. */\n  component: TComponent;\n  /** Props that will be passed to the component. */\n  props?: Omit<React.ComponentProps<TComponent>, 'id'>;\n  /** Any extra styles you want to pass to the window. */\n  windowStyles?: Record<string, any>;\n  /** Fire an event when the window closes. */\n  onClose?: (...args: any[]) => void;\n\n  listOptions?: SelectableListOption[];\n};\n\ninterface WindowState {\n  windowStack: WindowOptions[];\n  headerTitle?: string;\n  preview: PREVIEW;\n}\n\ntype WindowContextType = [\n  WindowState,\n  React.Dispatch<React.SetStateAction<WindowState>>\n];\n\nconst WindowContext = createContext<WindowContextType>([\n  {\n    windowStack: [],\n    headerTitle: 'iPod.js',\n    preview: PREVIEW.MUSIC,\n  },\n  () => {},\n]);\n\nexport interface WindowServiceHook {\n  /** Push an instance of WindowOptions to the windowStack. */\n  showWindow: (window: WindowOptions) => void;\n  /** Given an id, remove the window from the stack (otherwise, pop the top window). */\n  hideWindow: (id?: string) => void;\n  /** Returns an array of WindowOptions. */\n  windowStack: WindowOptions[];\n  /** Checks if the current window's id matches the given id.\n   * Useful for enabling/disabling scrolling if a window is hidden.\n   */\n  headerTitle?: string;\n  preview: PREVIEW;\n  isWindowActive: (id: string) => boolean;\n  setHeaderTitle: (title?: string) => void;\n  setPreview: (preview: PREVIEW) => void;\n}\n\n/**\n * This hook allows any component to access three parameters:\n *   1. showWindow\n *   2. hideWindow\n *   3. windowStack\n *\n *   Use it whenever you want to open a new window (@type WindowOptions).\n *\n *    @example\n *    `const {showWindow, hideWindow, windowStack} = useWindowService();`\n */\nexport const useWindowService = (): WindowServiceHook => {\n  const [windowState, setWindowState] = useContext(WindowContext);\n\n  const showWindow = useCallback(\n    (window: WindowOptions) => {\n      setWindowState((prevWindowState) => ({\n        ...prevWindowState,\n        windowStack: [...prevWindowState.windowStack, window],\n        headerTitle: ViewOptions[window.id].title,\n      }));\n    },\n    [setWindowState]\n  );\n\n  const hideWindow = useCallback(\n    (id?: string) => {\n      if (windowState.windowStack.length === 1) return;\n      setWindowState((prevWindowState) => {\n        const newWindowStack = id\n          ? prevWindowState.windowStack.filter(\n              (window: WindowOptions) => window.id !== id\n            )\n          : prevWindowState.windowStack.slice(0, -1);\n\n        return {\n          ...prevWindowState,\n          windowStack: newWindowStack,\n          headerTitle:\n            ViewOptions[newWindowStack[newWindowStack.length - 1].id].title,\n        };\n      });\n    },\n    [setWindowState, windowState.windowStack.length]\n  );\n\n  const isWindowActive = useCallback(\n    (id: string) => {\n      const { windowStack } = windowState;\n      const curWindow = windowStack[windowStack.length - 1];\n      return curWindow.id === id;\n    },\n    [windowState]\n  );\n\n  const setHeaderTitle = useCallback(\n    (title?: string) => {\n      setWindowState({\n        ...windowState,\n        headerTitle: title,\n      });\n    },\n    [setWindowState, windowState]\n  );\n\n  const setPreview = useCallback(\n    (preview: PREVIEW) => {\n      setWindowState({\n        ...windowState,\n        preview,\n      });\n    },\n    [setWindowState, windowState]\n  );\n\n  return {\n    showWindow,\n    hideWindow,\n    isWindowActive,\n    windowStack: windowState.windowStack,\n    headerTitle: windowState.headerTitle,\n    preview: windowState.preview,\n    setHeaderTitle,\n    setPreview,\n  };\n};\n\ninterface Props {\n  children: React.ReactChild;\n}\n\nconst WindowProvider = ({ children }: Props) => {\n  const windowStack: WindowOptions[] = [\n    {\n      id: ViewOptions.home.id,\n      type: Views.WINDOW_TYPE.SPLIT,\n      component: Views.HomeView,\n    },\n  ];\n  const [windowState, setWindowState] = useState<WindowState>({\n    windowStack,\n    headerTitle: ViewOptions.home.title,\n    preview: PREVIEW.MUSIC,\n  });\n\n  return (\n    <WindowContext.Provider value={[windowState, setWindowState]}>\n      {children}\n    </WindowContext.Provider>\n  );\n};\n\nexport default WindowProvider;\n","import { useCallback } from 'react';\n\nimport { useWindowService } from 'services/window';\n\nimport useEventListener from './useEventListener';\n\n/**\n * A quick way to use the menu button as a back button.\n * Provide an ID that matches the ID of the window you want to close.\n */\nconst useMenuHideWindow = (id: string) => {\n  const { windowStack, hideWindow } = useWindowService();\n\n  const handleClick = useCallback(() => {\n    if (windowStack[windowStack.length - 1].id === id) {\n      hideWindow();\n    }\n  }, [hideWindow, id, windowStack]);\n\n  useEventListener('menuclick', handleClick);\n};\n\nexport default useMenuHideWindow;\n","import { useEffect } from 'react';\n\n/**\n * MusicKit has its own event listener logic that is attached to the `music` instance.\n * This hook allows us to use it anywhere via a hook, similar to useEventListener.\n */\nconst useMKEventListener = (\n  event: keyof typeof MusicKit.Events,\n  callback: (...args: any) => void\n) => {\n  useEffect(() => {\n    const musicKit = window.MusicKit;\n\n    if (musicKit.errors.length) {\n      return;\n    }\n\n    const music = musicKit.getInstance();\n\n    music.addEventListener(event, callback);\n\n    return () => {\n      music.removeEventListener(event, callback);\n    };\n  }, [callback, event]);\n};\n\nexport default useMKEventListener;\n","import { useCallback, useEffect, useRef, useState } from 'react';\n\nimport ViewOptions, { NowPlayingView, WINDOW_TYPE } from 'App/views';\nimport { SelectableListOption } from 'components';\nimport { useWindowService } from 'services/window';\n\nimport useEffectOnce from './useEffectOnce';\nimport useEventListener from './useEventListener';\nimport { useMusicKit } from './useMusicKit';\n\n/** Accepts a list of options and will maintain a scroll index capped at the list's length. */\nconst useScrollHandler = (\n  /** This should match the view's viewId (to enable/disable events for hidden views). */\n  id: string,\n  /** A list of all scrollable items. Used to cap the scrolling to the last element. */\n  options: SelectableListOption[] = []\n): [number] => {\n  const { showWindow, windowStack, setPreview } = useWindowService();\n  const { music } = useMusicKit();\n  const [index, setIndex] = useState(0);\n  const timeoutIdRef = useRef<any>();\n  /** Only fire events on the top-most view. */\n  const isActive = windowStack[windowStack.length - 1].id === id;\n\n  /** Wait until the user stops scrolling to check for a new preview to display. */\n  const handleCheckForPreview = useCallback(\n    (i: number) => {\n      if (timeoutIdRef.current) {\n        clearTimeout(timeoutIdRef.current);\n      }\n      if (!isActive || !options[i]) return;\n      timeoutIdRef.current = setTimeout(() => {\n        const preview = options[i].preview;\n        if (preview) {\n          setPreview(preview);\n        }\n      }, 750);\n\n      return () => {\n        if (timeoutIdRef.current) {\n          clearTimeout(timeoutIdRef.current);\n        }\n      };\n    },\n    [isActive, options, setPreview]\n  );\n\n  const handleForwardScroll = useCallback(() => {\n    if (index < options.length - 1 && isActive) {\n      setIndex(index + 1);\n      handleCheckForPreview(index + 1);\n    }\n  }, [handleCheckForPreview, index, isActive, options.length]);\n\n  const handleBackwardScroll = useCallback(() => {\n    if (index > 0 && isActive) {\n      setIndex(index - 1);\n      handleCheckForPreview(index - 1);\n    }\n  }, [handleCheckForPreview, index, isActive]);\n\n  const handlePlaySong = useCallback(\n    async (queueOptions: MusicKit.SetQueueOptions) => {\n      const queue = await music.setQueue({\n        ...queueOptions,\n      });\n\n      if (!queue.isEmpty && queue.nextPlayableItem) {\n        await music.play();\n      }\n    },\n    [music]\n  );\n\n  const handleShowView = useCallback(\n    (id: string, component: React.ReactNode, windowType?: WINDOW_TYPE) => {\n      showWindow({\n        id,\n        type: windowType ?? ViewOptions[id]?.type ?? WINDOW_TYPE.FULL,\n        component,\n      });\n    },\n    [showWindow]\n  );\n\n  /** Parses the selected option for a new view to show or song to play. */\n  const handleCenterClick = useCallback(async () => {\n    const option = options[index];\n    if (!isActive || !option) return;\n\n    if (timeoutIdRef.current) {\n      clearTimeout(timeoutIdRef.current);\n    }\n\n    switch (option.type) {\n      case 'Song':\n        await handlePlaySong(option.queueOptions);\n\n        if (option.showNowPlayingView) {\n          handleShowView(ViewOptions.nowPlaying.id, () => <NowPlayingView />);\n        }\n        break;\n      case 'Link':\n        window.open(option.url, '_blank');\n        break;\n      case 'View':\n        handleShowView(option.viewId, option.component, option.windowType);\n        break;\n      case 'Action':\n        option.onSelect();\n        break;\n    }\n  }, [handlePlaySong, handleShowView, index, isActive, options]);\n\n  const handleCenterLongClick = useCallback(async () => {\n    const option = options[index];\n\n    if (!isActive || !option) return;\n\n    if (option.longPressOptions) {\n      showWindow({\n        type: WINDOW_TYPE.POPUP,\n        id: ViewOptions.mediaPopup.id,\n        component: () => {},\n        listOptions: option.longPressOptions,\n      });\n    }\n  }, [index, isActive, options, showWindow]);\n\n  /** If the list length changes and the index is larger, reset the index to 0. */\n  useEffect(() => {\n    if (options.length && index > options.length - 1) {\n      setIndex(0);\n    }\n  }, [index, options.length]);\n\n  useEffectOnce(() => {\n    if (!options || !options[0]) return;\n\n    const preview = options[0].preview;\n    if (preview) {\n      setPreview(preview);\n    }\n  });\n\n  useEventListener('centerclick', () => {\n    handleCenterClick();\n  });\n  useEventListener('centerlongclick', handleCenterLongClick);\n  useEventListener('forwardscroll', handleForwardScroll);\n  useEventListener('backwardscroll', handleBackwardScroll);\n\n  return [index];\n};\n\nexport default useScrollHandler;\n","import { useEffect, useRef } from \"react\";\n\nconst useInterval = (callback: (...args: any) => any, delay: number) => {\n  const savedCallback = useRef<any>();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    const tick = () => {\n      savedCallback.current();\n    };\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n\nexport default useInterval;\n","import { useCallback, useEffect, useRef } from 'react';\n\n// React hook for delaying calls with time\n// returns callback to use for cancelling\n\nconst useTimeout = (\n  callback: () => void, // function to call. No args passed.\n  // if you create a new callback each render, then previous callback will be cancelled on render.\n  timeout: number = 0 // delay, ms (default: immediately put into JS Event Queue)\n): (() => void) => {\n  const timeoutIdRef = useRef<any>();\n\n  const cancel = useCallback(() => {\n    const timeoutId = timeoutIdRef.current;\n    if (timeoutId) {\n      timeoutIdRef.current = undefined;\n      clearTimeout(timeoutId);\n    }\n  }, [timeoutIdRef]);\n\n  useEffect(() => {\n    timeoutIdRef.current = setTimeout(callback, timeout);\n    return cancel;\n  }, [callback, timeout, cancel]);\n\n  return cancel;\n};\n\nexport default useTimeout;\n","import { useCallback, useRef, useState } from 'react';\n\nimport useEffectOnce from './useEffectOnce';\nimport useEventListener from './useEventListener';\nimport { useMusicKit } from './useMusicKit';\n\ninterface VolumeHandlerHook {\n  volume: number;\n  active: boolean;\n  setEnabled: (val: boolean) => void;\n}\n\nconst useVolumeHandler = (): VolumeHandlerHook => {\n  const { music } = useMusicKit();\n  const [active, setActive] = useState(false);\n  const [volume, setVolume] = useState(100);\n  const [enabled, setIsEnabled] = useState(true);\n  const timeoutIdRef = useRef<any>();\n\n  useEffectOnce(() => {\n    setVolume(music.player.volume * 100);\n\n    /** clear the timeout to prevent memory leaks. */\n    return () => {\n      if (timeoutIdRef.current) {\n        clearTimeout(timeoutIdRef.current);\n      }\n    };\n  });\n\n  /** This is used to disable and reset the \"active\" timeout. */\n  const setEnabled = useCallback((val: boolean) => {\n    if (!val && timeoutIdRef.current) {\n      setActive(false);\n      setIsEnabled(false);\n      clearTimeout(timeoutIdRef.current);\n    } else {\n      setActive(false);\n      setIsEnabled(true);\n      clearTimeout(timeoutIdRef.current);\n    }\n  }, []);\n\n  /** The volume bar is \"active\" for 3 seconds after the last volume update. */\n  const setActiveState = useCallback(() => {\n    if (!enabled) return;\n\n    setActive(true);\n    if (timeoutIdRef.current) {\n      clearTimeout(timeoutIdRef.current);\n    }\n    timeoutIdRef.current = setTimeout(() => {\n      setActive(false);\n    }, 3000);\n  }, [enabled]);\n\n  const increaseVolume = useCallback(() => {\n    setActiveState();\n    if (volume === 100 || !enabled) return;\n\n    music.player.volume = (volume + 4) / 100;\n    setVolume(volume + 4);\n  }, [setActiveState, volume, enabled, music.player]);\n\n  const decreaseVolume = useCallback(() => {\n    setActiveState();\n    if (volume === 0 || !enabled) return;\n    music.player.volume = (volume - 4) / 100;\n    setVolume(volume - 4);\n  }, [setActiveState, volume, enabled, music.player]);\n\n  useEventListener('forwardscroll', increaseVolume);\n  useEventListener('backwardscroll', decreaseVolume);\n  /** Don't mistake a scroll for a click. */\n  useEventListener('wheelclick', () => setActive(false));\n\n  return {\n    setEnabled,\n    volume,\n    active,\n  };\n};\n\nexport default useVolumeHandler;\n","import { Unit } from 'components';\nimport styled, { css } from 'styled-components';\n\nimport { SelectableListOption } from './';\n\nconst LabelContainer = styled.div`\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: ${Unit.MD};\n`;\n\nconst Label = styled.h3`\n  margin: 0;\n  padding: ${Unit.XXS};\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst Sublabel = styled(Label)`\n  padding: 0 ${Unit.XXS} ${Unit.XXS};\n  margin-top: -4px;\n  font-weight: normal;\n  font-size: 12px;\n  color: rgb(100, 100, 100);\n`;\n\nconst Container = styled.div<{ isActive?: boolean }>`\n  display: flex;\n  align-items: center;\n  overflow: auto;\n\n  ${(props) =>\n    props.isActive &&\n    css`\n      ${LabelContainer} {\n        padding-right: 0;\n      }\n\n      ${Label}, ${Sublabel} {\n        color: white;\n      }\n      background: linear-gradient(rgb(60, 184, 255) 0%, rgb(52, 122, 181) 100%);\n    `};\n`;\n\nconst Image = styled.img`\n  height: 3rem;\n  width: 3rem;\n  margin-right: ${Unit.XXS};\n`;\n\nconst Icon = styled.img`\n  margin-left: auto;\n`;\n\ninterface Props {\n  option: SelectableListOption;\n  isActive: boolean;\n}\n\nconst SelectableListItem = ({ option, isActive }: Props) => {\n  return (\n    <Container isActive={isActive}>\n      {option.imageUrl && <Image src={option.imageUrl} />}\n      <LabelContainer>\n        <Label>{option.label}</Label>\n        {option.sublabel && <Sublabel>{option.sublabel}</Sublabel>}\n      </LabelContainer>\n      {isActive && <Icon src=\"arrow_right.svg\" />}\n    </Container>\n  );\n};\n\nexport default SelectableListItem;\n","import { useEffect, useRef, useState } from 'react';\n\nimport { PREVIEW } from 'App/previews';\nimport { WINDOW_TYPE } from 'App/views';\nimport { LoadingScreen } from 'components';\nimport { AnimatePresence } from 'framer-motion';\nimport { useTimeout } from 'hooks';\nimport styled from 'styled-components';\n\nimport SelectableListItem from './SelectableListItem';\n\nexport type SelectableListOptionType = 'View' | 'Link' | 'Song' | 'Action';\n\ntype SharedOptionProps = {\n  type?: SelectableListOptionType;\n  label: string;\n  sublabel?: string;\n  preview?: PREVIEW;\n  imageUrl?: string;\n  longPressOptions?: SelectableListOption[];\n};\n\ntype ViewOptionProps = {\n  type: 'View';\n  /** A unique identifier for the next screen. */\n  viewId: string;\n  /** The component that will be displayed in the next view. */\n  component: React.ReactNode;\n  /** Whether to display the default full size view, split view, or in some cases Cover Flow View. */\n  windowType?: WINDOW_TYPE;\n};\n\ntype LinkOptionProps = {\n  type: 'Link';\n  url: string;\n};\n\ntype SongOptionProps = {\n  type: 'Song';\n  /** Options that will be used to fetch and play a song. */\n  queueOptions: Omit<MusicKit.SetQueueOptions, 'items'>;\n  /**\n   * Show the Now Playing view after starting the song.\n   * @default false\n   */\n  showNowPlayingView?: boolean;\n};\n\ntype ActionOptionProps = {\n  type: 'Action';\n  onSelect: () => void;\n};\n\n/** Depending on the option type, certain properties will be available. */\nexport type SelectableListOption = SharedOptionProps &\n  (ViewOptionProps | LinkOptionProps | SongOptionProps | ActionOptionProps);\n\nconst Container = styled.div`\n  width: 100%;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n`;\n\ninterface Props {\n  options: SelectableListOption[];\n  activeIndex: number;\n  loading?: boolean;\n}\n\nconst SelectableList = ({ options, activeIndex, loading }: Props) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [isMounted, setIsMounted] = useState(false);\n\n  useTimeout(() => setIsMounted(true), 350);\n\n  /** Always make sure the selected item is within the screen's view. */\n  useEffect(() => {\n    // Delay \"isMounted\" so that the enter animation doesn't get interrupted.\n    // I was stuck on this for like 12 hours and was wondering why\n    // the animation wasn't finishing...\n    if (isMounted && containerRef.current && options.length) {\n      const { children } = containerRef.current;\n      children[activeIndex]?.scrollIntoView({\n        block: 'nearest',\n      });\n    }\n  }, [activeIndex, isMounted, options.length]);\n\n  return (\n    <AnimatePresence>\n      {loading ? (\n        <LoadingScreen backgroundColor=\"white\" />\n      ) : (\n        <Container ref={containerRef}>\n          {options.map((option, index) => (\n            <SelectableListItem\n              key={`option-${option.label}-${index}`}\n              option={option}\n              isActive={index === activeIndex}\n            />\n          ))}\n        </Container>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default SelectableList;\n","const SadMacIcon = () => {\n  return (\n    <svg\n      width=\"95\"\n      height=\"124\"\n      viewBox=\"0 0 95 124\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M4 2L92 2\" stroke=\"black\" strokeWidth=\"4\" />\n      <path d=\"M16 14L80 14\" stroke=\"black\" strokeWidth=\"4\" />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M16 4H4V12V64V104H16H80H91V64V12V4H80H16ZM80 12H16V64H80V12Z\"\n        fill=\"#C4C4C4\"\n      />\n      <rect x=\"16\" y=\"16\" width=\"64\" height=\"48\" fill=\"#CBCCFE\" />\n      <path d=\"M93 104L93 3.99999\" stroke=\"black\" strokeWidth=\"4\" />\n      <path d=\"M2 104L2 4\" stroke=\"black\" strokeWidth=\"4\" />\n      <path d=\"M14 64L14 16\" stroke=\"black\" strokeWidth=\"4\" />\n      <path d=\"M82 64L82 16\" stroke=\"white\" strokeWidth=\"4\" />\n      <path d=\"M30 32V24\" stroke=\"black\" strokeWidth=\"4\" />\n      <path d=\"M66 32V24\" stroke=\"black\" strokeWidth=\"4\" />\n      <path d=\"M50 44L50 24\" stroke=\"black\" strokeWidth=\"4\" />\n      <path d=\"M49 42H44\" stroke=\"black\" strokeWidth=\"4\" />\n      <path d=\"M60 54H36\" stroke=\"black\" strokeWidth=\"4\" />\n      <path d=\"M64 58H60\" stroke=\"black\" strokeWidth=\"4\" />\n      <path d=\"M36 58H32\" stroke=\"black\" strokeWidth=\"4\" />\n      <path d=\"M80 86H48\" stroke=\"black\" strokeWidth=\"4\" />\n      <g filter=\"url(#filter0_d)\">\n        <path d=\"M20 94H12\" stroke=\"#18AB1C\" strokeWidth=\"4\" />\n      </g>\n      <g filter=\"url(#filter1_d)\">\n        <path d=\"M20 98H12\" stroke=\"#BF4131\" strokeWidth=\"4\" />\n      </g>\n      <path d=\"M80 90H48\" stroke=\"white\" strokeWidth=\"4\" />\n      <rect x=\"4\" y=\"104\" width=\"88\" height=\"20\" fill=\"black\" />\n      <rect x=\"8\" y=\"108\" width=\"44\" height=\"4\" fill=\"#575757\" />\n      <rect x=\"44\" y=\"108\" width=\"44\" height=\"4\" fill=\"#222222\" />\n      <rect x=\"64\" y=\"112\" width=\"24\" height=\"4\" fill=\"#222222\" />\n      <rect x=\"76\" y=\"116\" width=\"12\" height=\"4\" fill=\"#222222\" />\n      <rect x=\"8\" y=\"112\" width=\"32\" height=\"4\" fill=\"#575757\" />\n      <rect x=\"8\" y=\"116\" width=\"44\" height=\"4\" fill=\"#575757\" />\n      <rect x=\"40\" y=\"112\" width=\"24\" height=\"4\" fill=\"#444444\" />\n      <path d=\"M16 66L80 66\" stroke=\"white\" strokeWidth=\"4\" />\n      <defs>\n        <filter\n          id=\"filter0_d\"\n          x=\"4\"\n          y=\"84\"\n          width=\"24\"\n          height=\"20\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feColorMatrix\n            in=\"SourceAlpha\"\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n          />\n          <feOffset />\n          <feGaussianBlur stdDeviation=\"4\" />\n          <feColorMatrix\n            type=\"matrix\"\n            values=\"0 0 0 0 0.690196 0 0 0 0 0.952941 0 0 0 0 0.658824 0 0 0 1 0\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in2=\"BackgroundImageFix\"\n            result=\"effect1_dropShadow\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in=\"SourceGraphic\"\n            in2=\"effect1_dropShadow\"\n            result=\"shape\"\n          />\n        </filter>\n        <filter\n          id=\"filter1_d\"\n          x=\"4\"\n          y=\"88\"\n          width=\"24\"\n          height=\"20\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feColorMatrix\n            in=\"SourceAlpha\"\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n          />\n          <feOffset />\n          <feGaussianBlur stdDeviation=\"4\" />\n          <feColorMatrix\n            type=\"matrix\"\n            values=\"0 0 0 0 0.964706 0 0 0 0 0.745098 0 0 0 0 0.72549 0 0 0 1 0\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in2=\"BackgroundImageFix\"\n            result=\"effect1_dropShadow\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in=\"SourceGraphic\"\n            in2=\"effect1_dropShadow\"\n            result=\"shape\"\n          />\n        </filter>\n      </defs>\n    </svg>\n  );\n};\n\nexport default SadMacIcon;\n","import { Unit } from 'components';\nimport styled from 'styled-components';\n\nconst RootContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  height: 100%;\n  background: white;\n`;\n\nconst Title = styled.h3`\n  margin: ${Unit.XS} 0 ${Unit.XXS};\n  font-weight: bold;\n  font-size: 20px;\n`;\n\nconst Text = styled.p`\n  font-size: 14px;\n  margin: 0;\n  max-width: 120px;\n  color: rgb(100, 100, 100);\n`;\n\nconst strings = {\n  title: ' Music',\n  defaultMessage: 'Sign into view this content',\n};\n\ninterface Props {\n  message?: string;\n}\n\nconst AuthPrompt = ({ message }: Props) => {\n  return (\n    <RootContainer>\n      <img alt=\"app_icon\" src=\"app_icon.png\" height={60} width={60} />\n      <Title>{strings.title}</Title>\n      <Text>{message ?? strings.defaultMessage}</Text>\n    </RootContainer>\n  );\n};\n\nexport default AuthPrompt;\n","import styled from 'styled-components';\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n`;\n\nconst ProgressContainer = styled.div`\n  position: relative;\n  flex: 1;\n  margin: 0 8px;\n`;\n\nconst Gloss = styled.div`\n  position: absolute;\n  width: 100%;\n  background: url(\"gloss-overlay.svg\") repeat-x;\n  background-size: contain;\n  height: 100%;\n`;\n\ninterface ProgressProps {\n  percent: number;\n  transparent?: boolean;\n}\n\nconst Progress = styled.div.attrs((props: ProgressProps) => ({\n  // This is the recommended syntax for when things change often.\n  style: {\n    width: `${props.percent}%`\n  }\n}))<ProgressProps>`\n  position: relative;\n  height: 100%;\n  background: ${props =>\n    !props.transparent && 'url(\"gloss-blue.svg\") repeat-x'};\n  transition: width 0.1s;\n`;\n\n/** The icon that is displayed when scrubbing. */\nconst Diamond = styled.img`\n  position: absolute;\n  height: 100%;\n  right: -8px;\n  filter: brightness(0.85);\n`;\n\ninterface Props {\n  percent: number;\n  isScrubber?: boolean;\n}\n\nconst ProgressBar = ({ percent, isScrubber }: Props) => {\n  return (\n    <Container>\n      <ProgressContainer>\n        <Gloss />\n        <Progress percent={percent} transparent={isScrubber}>\n          {isScrubber && <Diamond src=\"scrubber.svg\" />}\n        </Progress>\n      </ProgressContainer>\n    </Container>\n  );\n};\n\nexport default ProgressBar;\n","import { useCallback, useState } from 'react';\n\nimport { Unit } from 'components';\nimport { useEffectOnce, useEventListener, useInterval } from 'hooks';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport styled from 'styled-components';\nimport { useDebouncedCallback } from 'use-debounce/lib';\nimport { formatTime } from 'utils';\n\nimport ProgressBar from './ProgressBar';\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  padding: 0 ${Unit.SM};\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n`;\n\ninterface LabelProps {\n  textAlign: 'left' | 'right';\n}\n\nconst Label = styled.h3<LabelProps>`\n  font-size: 12px;\n  margin: auto 0;\n  width: 30px;\n  text-align: ${(props) => props.textAlign};\n  white-space: nowrap;\n`;\n\ninterface Props {\n  isScrubbing: boolean;\n}\n\nconst Scrubber = ({ isScrubbing }: Props) => {\n  const { music } = useMusicKit();\n  const { player } = music;\n  const [currentTime, setCurrentTime] = useState(0);\n  const percent = Math.round(\n    (currentTime / player.currentPlaybackDuration) * 100\n  );\n  /** The user is actively scrubbing. We disable the 1s update interval in this case. */\n  const [isActive, setIsActive] = useState(false);\n\n  /** Wait until the user is finished scrubbing before seeking. */\n  const handleSeek = useDebouncedCallback((newTime: number) => {\n    player.seekToTime(newTime);\n    setIsActive(false);\n  }, 300);\n\n  const scrubForward = useCallback(() => {\n    if (currentTime === player.currentPlaybackDuration || !isScrubbing) return;\n    const newTime = currentTime + 1;\n\n    if (newTime < player.currentPlaybackDuration) {\n      setIsActive(true);\n      handleSeek(newTime);\n      setCurrentTime(newTime);\n    }\n  }, [currentTime, handleSeek, isScrubbing, player.currentPlaybackDuration]);\n\n  const scrubBackward = useCallback(() => {\n    if (currentTime === 0 || !isScrubbing) return;\n    const newTime = currentTime - 1;\n\n    if (newTime >= 0) {\n      setIsActive(true);\n      handleSeek(newTime);\n      setCurrentTime(newTime);\n    }\n  }, [currentTime, handleSeek, isScrubbing]);\n\n  const refresh = useCallback(\n    (force = false) => {\n      if ((!isActive && player.isPlaying) || force) {\n        setCurrentTime(player.currentPlaybackTime);\n      }\n    },\n    [isActive, player.currentPlaybackTime, player.isPlaying]\n  );\n\n  useEventListener('forwardscroll', scrubForward);\n  useEventListener('backwardscroll', scrubBackward);\n\n  /** Update the progress bar every second. */\n  useInterval(refresh, 1000);\n\n  useEffectOnce(() => refresh(true));\n\n  return (\n    <Container>\n      <Label textAlign=\"left\">{formatTime(currentTime)}</Label>\n      <ProgressBar percent={percent} isScrubber />\n      <Label textAlign=\"right\">\n        -{formatTime(player.currentPlaybackTimeRemaining)}\n      </Label>\n    </Container>\n  );\n};\n\nexport default Scrubber;\n","import styled from 'styled-components';\n\nconst Svg = styled.svg``;\n\ninterface Props {\n  size?: number;\n  className?: string;\n}\n\nconst LoadingIndicator = ({ size = 24, className }: Props) => {\n  return (\n    <Svg\n      className={className}\n      version=\"1.1\"\n      x=\"0px\"\n      y=\"0px\"\n      viewBox=\"0 0 2400 2400\"\n      width={size}\n      height={size}\n    >\n      <g\n        strokeWidth=\"200\"\n        strokeLinecap=\"round\"\n        stroke=\"#000000\"\n        fill=\"none\"\n        id=\"spinner\"\n      >\n        <line x1=\"1200\" y1=\"600\" x2=\"1200\" y2=\"100\" />\n        <line opacity=\"0.5\" x1=\"1200\" y1=\"2300\" x2=\"1200\" y2=\"1800\" />\n        <line opacity=\"0.917\" x1=\"900\" y1=\"680.4\" x2=\"650\" y2=\"247.4\" />\n        <line opacity=\"0.417\" x1=\"1750\" y1=\"2152.6\" x2=\"1500\" y2=\"1719.6\" />\n        <line opacity=\"0.833\" x1=\"680.4\" y1=\"900\" x2=\"247.4\" y2=\"650\" />\n        <line opacity=\"0.333\" x1=\"2152.6\" y1=\"1750\" x2=\"1719.6\" y2=\"1500\" />\n        <line opacity=\"0.75\" x1=\"600\" y1=\"1200\" x2=\"100\" y2=\"1200\" />\n        <line opacity=\"0.25\" x1=\"2300\" y1=\"1200\" x2=\"1800\" y2=\"1200\" />\n        <line opacity=\"0.667\" x1=\"680.4\" y1=\"1500\" x2=\"247.4\" y2=\"1750\" />\n        <line opacity=\"0.167\" x1=\"2152.6\" y1=\"650\" x2=\"1719.6\" y2=\"900\" />\n        <line opacity=\"0.583\" x1=\"900\" y1=\"1719.6\" x2=\"650\" y2=\"2152.6\" />\n        <line opacity=\"0.083\" x1=\"1750\" y1=\"247.4\" x2=\"1500\" y2=\"680.4\" />\n        <animateTransform\n          attributeName=\"transform\"\n          attributeType=\"XML\"\n          type=\"rotate\"\n          keyTimes=\"0;0.08333;0.16667;0.25;0.33333;0.41667;0.5;0.58333;0.66667;0.75;0.83333;0.91667\"\n          values=\"0 1199 1199;30 1199 1199;60 1199 1199;90 1199 1199;120 1199 1199;150 1199 1199;180 1199 1199;210 1199 1199;240 1199 1199;270 1199 1199;300 1199 1199;330 1199 1199\"\n          dur=\"0.83333s\"\n          begin=\"0s\"\n          repeatCount=\"indefinite\"\n          calcMode=\"discrete\"\n        />\n      </g>\n    </Svg>\n  );\n};\n\nexport default LoadingIndicator;\n","import { Unit } from 'components';\nimport LoadingIndicator from 'components/LoadingIndicator';\nimport { useForceUpdate, useInterval, useMKEventListener } from 'hooks';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport styled from 'styled-components';\nimport * as Utils from 'utils';\n\nimport ProgressBar from './ProgressBar';\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  padding: 0 ${Unit.SM};\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n`;\n\ninterface LabelProps {\n  textAlign: 'left' | 'right';\n}\n\nconst Label = styled.h3<LabelProps>`\n  font-size: 12px;\n  margin: auto 0;\n  width: 30px;\n  text-align: ${(props) => props.textAlign};\n`;\n\nconst TrackProgress = () => {\n  const { music } = useMusicKit();\n  const forceUpdate = useForceUpdate();\n  const { player } = music;\n  const playbackState = music.player?.playbackState;\n\n  const isLoading = playbackState === MusicKit.PlaybackStates.waiting;\n\n  /** Update the progress bar every second. */\n  useInterval(() => {\n    if (player.isPlaying) {\n      forceUpdate();\n    }\n  }, 1000);\n\n  /** Update the progress bar whenever the playback state changes */\n  useMKEventListener('playbackStateDidChange', forceUpdate);\n\n  return (\n    <Container>\n      {isLoading ? (\n        <LoadingIndicator size={14} />\n      ) : (\n        <Label textAlign=\"left\">\n          {Utils.formatTime(player.currentPlaybackTime)}\n        </Label>\n      )}\n      <ProgressBar percent={player.currentPlaybackProgress * 100} />\n      <Label textAlign=\"right\">\n        -{Utils.formatTime(player.currentPlaybackTimeRemaining)}\n      </Label>\n    </Container>\n  );\n};\n\nexport default TrackProgress;\n","import { Unit } from 'components';\nimport styled from 'styled-components';\n\nimport ProgressBar from './ProgressBar';\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  padding: 0 ${Unit.SM};\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n`;\n\nconst Icon = styled.img`\n  font-size: 12px;\n  margin: auto 0;\n  width: 30px;\n  height: 16px;\n`;\n\ninterface Props {\n  percent: number;\n}\n\nconst VolumeBar = ({ percent }: Props) => {\n  return (\n    <Container>\n      <Icon src=\"volume_mute.svg\" />\n      <ProgressBar percent={percent} />\n      <Icon src=\"volume_full.svg\" />\n    </Container>\n  );\n};\n\nexport default VolumeBar;\n","import { useCallback, useState } from 'react';\n\nimport { Unit } from 'components';\nimport { useEventListener, useVolumeHandler } from 'hooks';\nimport styled from 'styled-components';\n\nimport Scrubber from './Scrubber';\n// import Scrubber from './Scrubber';\nimport TrackProgress from './TrackProgress';\nimport VolumeBar from './VolumeBar';\n\n// import VolumeBar from './VolumeBar';\n\nconst Container = styled.div`\n  position: relative;\n  width: 100%;\n  padding: 0 ${Unit.MD} ${Unit.MD};\n`;\n\ninterface ContainerProps {\n  isHidden: boolean;\n}\n\nconst MainContainer = styled.div<ContainerProps>`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: ${Unit.XS};\n  right: ${Unit.XS};\n  transition: transform 0.3s;\n\n  transform: ${(props) => props.isHidden && 'translateX(-110%)'};\n`;\n\nconst ScrubberContainer = styled.div<ContainerProps>`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: ${Unit.XS};\n  right: ${Unit.XS};\n  transition: transform 0.3s;\n\n  transform: ${(props) => props.isHidden && 'translateX(110%)'};\n`;\n\nconst Controls = () => {\n  const { volume, active, setEnabled } = useVolumeHandler();\n  const [isScrubbing, setIsScrubbing] = useState(false);\n\n  const handleCenterClick = useCallback(() => {\n    if (isScrubbing) {\n      // Enable the volume controls.\n      setEnabled(true);\n      setIsScrubbing(false);\n    } else {\n      // Disable the volume controls.\n      setEnabled(false);\n      setIsScrubbing(true);\n    }\n  }, [isScrubbing, setEnabled]);\n\n  useEventListener('centerclick', handleCenterClick);\n\n  return (\n    <Container>\n      <MainContainer isHidden={isScrubbing}>\n        {active && !isScrubbing && <VolumeBar percent={volume} />}\n      </MainContainer>\n      <MainContainer hidden={active && !isScrubbing} isHidden={isScrubbing}>\n        <TrackProgress />\n      </MainContainer>\n      <ScrubberContainer isHidden={!isScrubbing}>\n        <Scrubber isScrubbing={isScrubbing} />\n      </ScrubberContainer>\n    </Container>\n  );\n};\n\nexport default Controls;\n","import { Unit } from 'components';\nimport { SadMacIcon } from 'components/icons';\nimport styled from 'styled-components';\n\nconst RootContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  height: 100%;\n`;\n\nconst Text = styled.p`\n  margin-top: ${Unit.MD};\n  font-size: 14px;\n  max-width: 180px;\n  color: rgb(100, 100, 100);\n`;\n\nconst strings = {\n  defaultMessage: 'Something went wrong',\n};\n\ninterface Props {\n  message?: string;\n}\n\nconst ErrorScreen = ({ message }: Props) => {\n  return (\n    <RootContainer>\n      <div>\n        <SadMacIcon />\n        <Text>{message ?? strings.defaultMessage}</Text>\n      </div>\n    </RootContainer>\n  );\n};\n\nexport default ErrorScreen;\n","import LoadingIndicator from 'components/LoadingIndicator';\nimport { useForceUpdate, useMKEventListener } from 'hooks';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport { useWindowService } from 'services/window';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 6px;\n  height: 20px;\n  background: linear-gradient(180deg, #feffff 0%, #b1b6b9 100%);\n  border-bottom: 1px solid #7995a3;\n  box-sizing: border-box;\n`;\n\nconst Text = styled.h3`\n  margin: 0;\n  font-size: 13px;\n`;\n\nconst IconContainer = styled.div`\n  display: flex;\n`;\n\nconst Icon = styled.img`\n  max-height: 12px;\n  margin-left: 8px;\n`;\n\nconst Header = () => {\n  const { headerTitle } = useWindowService();\n  const { music } = useMusicKit();\n  const forceUpdate = useForceUpdate();\n  const playbackState = music.player?.playbackState;\n\n  /** Re-render the component with the new playback state when this event triggers. */\n  useMKEventListener('playbackStateDidChange', forceUpdate);\n\n  return headerTitle ? (\n    <Container>\n      <Text>{headerTitle}</Text>\n      <IconContainer>\n        {playbackState === MusicKit.PlaybackStates.waiting && (\n          <IconContainer>\n            <LoadingIndicator size={10} />\n          </IconContainer>\n        )}\n        {playbackState === MusicKit.PlaybackStates.playing && (\n          <Icon src=\"play.svg\" />\n        )}\n        {playbackState === MusicKit.PlaybackStates.paused && (\n          <Icon src=\"pause.svg\" />\n        )}\n        <Icon src=\"battery.svg\" />\n      </IconContainer>\n    </Container>\n  ) : null;\n};\n\nexport default Header;\n","import { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { useInterval } from 'hooks';\nimport styled from 'styled-components';\n\nconst Container = styled.div``;\n\ninterface ImageProps {\n  zIndex: number;\n  startedAnimation: boolean;\n  isHidden: boolean;\n}\n\nconst Image = styled.img<ImageProps>`\n  z-index: ${(props) => props.zIndex};\n  position: absolute;\n  height: 100%;\n  right: 0;\n  animation: ${(props) => props.startedAnimation && 'kenBurns'} 20s;\n  opacity: ${(props) => props.isHidden && 0};\n  transition: opacity 2s;\n\n  @keyframes kenBurns {\n    0% {\n      transform: translateX(0%);\n    }\n\n    100% {\n      transform: translateX(10%);\n    }\n  }\n`;\n\ninterface Props {\n  urls: string[];\n}\n\nconst KenBurns = ({ urls }: Props) => {\n  const [stack, setStack] = useState<string[]>([]);\n  const [transitioning, setTransitioning] = useState(false);\n  const timeoutIdRef = useRef<any>();\n\n  useEffect(() => {\n    setStack(urls);\n  }, [urls]);\n\n  /** Move the currently displayed image to the bottom of the stack. */\n  const cycleImage = useCallback(() => {\n    setTransitioning(true);\n\n    timeoutIdRef.current = setTimeout(() => {\n      const newStack = stack.slice(1);\n\n      setStack([...newStack, stack[0]]);\n      setTransitioning(false);\n    }, 2000);\n\n    return () => {\n      if (timeoutIdRef.current) {\n        clearTimeout(timeoutIdRef.current);\n      }\n    };\n  }, [stack]);\n\n  /** Cycle through an image every 5 seconds. */\n  useInterval(cycleImage, 5000);\n\n  return (\n    <Container>\n      {stack.slice(0, 2).map((path, index) => (\n        <Image\n          key={`ken-burns-${path}`}\n          zIndex={3 - index}\n          src={path}\n          startedAnimation={index === 0 || transitioning}\n          isHidden={transitioning && index === 0}\n        />\n      ))}\n    </Container>\n  );\n};\n\nexport default KenBurns;\n","import { fade } from 'animation';\nimport { motion } from 'framer-motion';\nimport styled from 'styled-components';\n\ninterface ContainerProps {\n  backgroundColor?: string;\n}\n\nconst Container = styled(motion.div)<ContainerProps>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  background: ${(props) => props.backgroundColor};\n`;\n\ninterface Props {\n  size?: number;\n  backgroundColor?: string;\n}\n\nconst LoadingScreen = ({ size, backgroundColor }: Props) => {\n  return (\n    <Container {...fade} backgroundColor={backgroundColor}>\n      <svg\n        version=\"1.1\"\n        x=\"0px\"\n        y=\"0px\"\n        viewBox=\"0 0 2400 2400\"\n        width={size || 24}\n        height={size || 24}\n      >\n        <g\n          strokeWidth=\"200\"\n          strokeLinecap=\"round\"\n          stroke=\"#000000\"\n          fill=\"none\"\n          id=\"spinner\"\n        >\n          <line x1=\"1200\" y1=\"600\" x2=\"1200\" y2=\"100\" />\n          <line opacity=\"0.5\" x1=\"1200\" y1=\"2300\" x2=\"1200\" y2=\"1800\" />\n          <line opacity=\"0.917\" x1=\"900\" y1=\"680.4\" x2=\"650\" y2=\"247.4\" />\n          <line opacity=\"0.417\" x1=\"1750\" y1=\"2152.6\" x2=\"1500\" y2=\"1719.6\" />\n          <line opacity=\"0.833\" x1=\"680.4\" y1=\"900\" x2=\"247.4\" y2=\"650\" />\n          <line opacity=\"0.333\" x1=\"2152.6\" y1=\"1750\" x2=\"1719.6\" y2=\"1500\" />\n          <line opacity=\"0.75\" x1=\"600\" y1=\"1200\" x2=\"100\" y2=\"1200\" />\n          <line opacity=\"0.25\" x1=\"2300\" y1=\"1200\" x2=\"1800\" y2=\"1200\" />\n          <line opacity=\"0.667\" x1=\"680.4\" y1=\"1500\" x2=\"247.4\" y2=\"1750\" />\n          <line opacity=\"0.167\" x1=\"2152.6\" y1=\"650\" x2=\"1719.6\" y2=\"900\" />\n          <line opacity=\"0.583\" x1=\"900\" y1=\"1719.6\" x2=\"650\" y2=\"2152.6\" />\n          <line opacity=\"0.083\" x1=\"1750\" y1=\"247.4\" x2=\"1500\" y2=\"680.4\" />\n          <animateTransform\n            attributeName=\"transform\"\n            attributeType=\"XML\"\n            type=\"rotate\"\n            keyTimes=\"0;0.08333;0.16667;0.25;0.33333;0.41667;0.5;0.58333;0.66667;0.75;0.83333;0.91667\"\n            values=\"0 1199 1199;30 1199 1199;60 1199 1199;90 1199 1199;120 1199 1199;150 1199 1199;180 1199 1199;210 1199 1199;240 1199 1199;270 1199 1199;300 1199 1199;330 1199 1199\"\n            dur=\"0.83333s\"\n            begin=\"0s\"\n            repeatCount=\"indefinite\"\n            calcMode=\"discrete\"\n          />\n        </g>\n      </svg>\n    </Container>\n  );\n};\n\nexport default LoadingScreen;\n","import { useCallback } from 'react';\n\nimport { Controls, Unit } from 'components';\nimport { useForceUpdate, useMKEventListener, useMusicKit } from 'hooks';\nimport styled from 'styled-components';\nimport { getArtwork } from 'utils';\n\nconst Container = styled.div`\n  height: 100%;\n  overflow: hidden;\n`;\n\nconst MetadataContainer = styled.div`\n  display: flex;\n  height: 70%;\n  padding: 0 ${Unit.XS};\n`;\n\ninterface ArtworkContainerProps {\n  isHidden?: boolean;\n}\n\nconst ArtworkContainer = styled.div<ArtworkContainerProps>`\n  height: 8em;\n  width: 8em;\n  margin: auto ${Unit.SM};\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(70%, transparent), to(rgba(250, 250, 250, 0.1)));\n  transform-style: preserve-3d;\n  perspective: 500px;\n  opacity: ${(props) => props.isHidden && 0};\n`;\n\nconst Artwork = styled.img`\n  height: 100%;\n  width: 100%;\n  transform: rotateY(18deg);\n  border: 1px solid #f3f3f3;\n`;\n\nconst InfoContainer = styled.div`\n  flex: 1;\n  margin: auto 0 auto ${Unit.XS};\n`;\n\nconst Text = styled.h3`\n  margin: 0;\n  font-size: 0.92rem;\n`;\n\nconst Subtext = styled(Text)`\n  color: rgb(99, 101, 103);\n  font-size: 0.75rem;\n`;\n\nconst ControlsContainer = styled.div`\n  display: flex;\n  align-items: center;\n  height: 30%;\n`;\n\ninterface Props {\n  hideArtwork?: boolean;\n  onHide: () => void;\n}\n\nconst NowPlaying = ({ hideArtwork, onHide }: Props) => {\n  const { music } = useMusicKit();\n  const { player } = music;\n  const queue = player?.queue;\n  const nowPlayingItem = queue?.items?.[player.nowPlayingItemIndex ?? 0];\n  const forceUpdate = useForceUpdate();\n\n  const handlePlaybackChange = useCallback(\n    ({ state }: { state: MusicKit.PlaybackStates }) => {\n      /** Hide the now playing view if the playback state is \"Completed\" */\n      if (state === MusicKit.PlaybackStates.completed) {\n        onHide();\n      }\n\n      forceUpdate();\n    },\n    [onHide, forceUpdate]\n  );\n\n  useMKEventListener('playbackStateDidChange', handlePlaybackChange);\n\n  /** Force a component re-render whenever the queue position changes. */\n  useMKEventListener('queuePositionDidChange', forceUpdate);\n\n  return (\n    <Container>\n      <MetadataContainer>\n        <ArtworkContainer isHidden={hideArtwork}>\n          <Artwork src={getArtwork(300, nowPlayingItem?.artwork?.url)} />\n        </ArtworkContainer>\n        <InfoContainer>\n          <Text>{nowPlayingItem?.title}</Text>\n          <Subtext>{nowPlayingItem?.artistName}</Subtext>\n          <Subtext>{nowPlayingItem?.albumName}</Subtext>\n          {!!nowPlayingItem && (\n            <Subtext>{`${music.player.queue.position + 1} of ${\n              music.player.queue.length\n            }`}</Subtext>\n          )}\n        </InfoContainer>\n      </MetadataContainer>\n      <ControlsContainer>\n        <Controls />\n      </ControlsContainer>\n    </Container>\n  );\n};\n\nexport default NowPlaying;\n","import { createRef, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\n// NOTE: This is a legacy file that I pulled from an\n//       older version of this same project.\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  margin: auto 0;\n  touch-action: none;\n  transform: translate3d(0, 0, 0);\n`;\n\nconst CanvasContainer = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ${(props) => props.width}px;\n  height: ${(props) => props.height}px;\n`;\n\nconst Canvas = styled.canvas`\n  border-radius: 50%;\n  border: 1px solid #b9b9b9;\n  background: white;\n`;\n\nconst CenterButton = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  width: ${(props) => props.size / 2.5}px;\n  height: ${(props) => props.size / 2.5}px;\n  border-radius: 50%;\n  box-shadow: rgb(191, 191, 191) 0px 1em 3em inset;\n  background: rgb(225, 225, 225);\n  border: 1px solid #b9b9b9;\n\n  :active {\n    filter: brightness(0.9);\n  }\n`;\n\nconst WheelButton = styled.img`\n  position: absolute;\n  margin: ${(props) => props.margin};\n  top: ${(props) => props.top};\n  bottom: ${(props) => props.bottom};\n  left: ${(props) => props.left};\n  right: ${(props) => props.right};\n  user-select: none;\n  pointer-events: none;\n  max-height: 13px;\n`;\n\nclass Knob extends Component {\n  static propTypes = {\n    value: PropTypes.number.isRequired,\n    onChange: PropTypes.func.isRequired,\n    onClick: PropTypes.func,\n    onLongPress: PropTypes.func,\n    onWheelClick: PropTypes.func,\n    onChangeEnd: PropTypes.func,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    log: PropTypes.bool,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    thickness: PropTypes.number,\n    lineCap: PropTypes.oneOf(['butt', 'round']),\n    bgColor: PropTypes.string,\n    fgColor: PropTypes.string,\n    inputColor: PropTypes.string,\n    font: PropTypes.string,\n    fontWeight: PropTypes.string,\n    clockwise: PropTypes.bool,\n    cursor: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]),\n    stopper: PropTypes.bool,\n    disableTextInput: PropTypes.bool,\n    displayInput: PropTypes.bool,\n    displayCustom: PropTypes.func,\n    angleArc: PropTypes.number,\n    angleOffset: PropTypes.number,\n    className: PropTypes.string,\n    canvasClassName: PropTypes.string,\n  };\n\n  static defaultProps = {\n    onChangeEnd: () => {},\n    onWheelClick: () => {},\n    onClick: () => {},\n    onLongPress: () => {},\n    min: 0,\n    max: 100,\n    step: 1,\n    log: false,\n    width: 200,\n    height: 200,\n    thickness: 0.35,\n    lineCap: 'butt',\n    bgColor: '#EEE',\n    fgColor: '#EA2',\n    inputColor: '',\n    font: 'Arial',\n    fontWeight: 'bold',\n    clockwise: true,\n    cursor: false,\n    stopper: true,\n    disableTextInput: false,\n    displayInput: true,\n    angleArc: 360,\n    angleOffset: 0,\n    className: null,\n    canvasClassName: null,\n  };\n\n  constructor(props) {\n    super(props);\n    this.w = this.props.width || 200;\n    this.h = this.props.height || this.w;\n    this.cursorExt = this.props.cursor === true ? 0.3 : this.props.cursor / 100;\n    this.angleArc = (this.props.angleArc * Math.PI) / 180;\n    this.angleOffset = (this.props.angleOffset * Math.PI) / 180;\n    this.startAngle = 1.5 * Math.PI + this.angleOffset;\n    this.endAngle = 1.5 * Math.PI + this.angleOffset + this.angleArc;\n    this.digits =\n      Math.max(\n        String(Math.abs(this.props.min)).length,\n        String(Math.abs(this.props.max)).length,\n        2\n      ) + 2;\n    this.centerButtonRef = createRef();\n  }\n\n  handleLongPress = (e) => {\n    e.preventDefault();\n    e.target.setAttribute('longpress', new Date().getTime());\n    this.props.onLongPress(e);\n    return false;\n  };\n\n  componentDidMount() {\n    this.drawCanvas();\n    this.canvasRef.addEventListener('touchstart', this.handleTouchStart, {\n      passive: false,\n    });\n    this.centerButtonRef.current.addEventListener(\n      'long-press',\n      this.handleLongPress\n    );\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.width && this.w !== nextProps.width) {\n      this.w = nextProps.width;\n    }\n    if (nextProps.height && this.h !== nextProps.height) {\n      this.h = nextProps.height;\n    }\n  }\n\n  componentDidUpdate() {\n    this.drawCanvas();\n  }\n\n  componentWillUnmount() {\n    this.canvasRef.removeEventListener('touchstart', this.handleTouchStart);\n    this.centerButtonRef.current.removeEventListener(\n      'long-press',\n      this.handleLongPress\n    );\n  }\n\n  getArcToValue = (v) => {\n    let startAngle;\n    let endAngle;\n    const angle = !this.props.log\n      ? ((v - this.props.min) * this.angleArc) /\n        (this.props.max - this.props.min)\n      : Math.log(Math.pow(v / this.props.min, this.angleArc)) /\n        Math.log(this.props.max / this.props.min);\n    if (!this.props.clockwise) {\n      startAngle = this.endAngle + 0.00001;\n      endAngle = startAngle - angle - 0.00001;\n    } else {\n      startAngle = this.startAngle - 0.00001;\n      endAngle = startAngle + angle + 0.00001;\n    }\n    if (this.props.cursor) {\n      startAngle = endAngle - this.cursorExt;\n      endAngle += this.cursorExt;\n    }\n    return {\n      startAngle,\n      endAngle,\n      acw: !this.props.clockwise && !this.props.cursor,\n    };\n  };\n\n  // Calculate ratio to scale canvas to avoid blurriness on HiDPI devices\n  getCanvasScale = (ctx) => {\n    const devicePixelRatio =\n      window.devicePixelRatio ||\n      window.screen.deviceXDPI / window.screen.logicalXDPI || // IE10\n      1;\n    const backingStoreRatio = ctx.webkitBackingStorePixelRatio || 1;\n    return devicePixelRatio / backingStoreRatio;\n  };\n\n  coerceToStep = (v) => {\n    let val = !this.props.log\n      ? ~~((v < 0 ? -0.5 : 0.5) + v / this.props.step) * this.props.step\n      : Math.pow(\n          this.props.step,\n          ~~(\n            (Math.abs(v) < 1 ? -0.5 : 0.5) +\n            Math.log(v) / Math.log(this.props.step)\n          )\n        );\n    val = Math.max(Math.min(val, this.props.max), this.props.min);\n    if (isNaN(val)) {\n      val = 0;\n    }\n    return Math.round(val * 1000) / 1000;\n  };\n\n  eventToValue = (e) => {\n    const bounds = this.canvasRef.getBoundingClientRect();\n    const x = e.clientX - bounds.left;\n    const y = e.clientY - bounds.top;\n    let a = Math.atan2(x - this.w / 2, this.w / 2 - y) - this.angleOffset;\n    if (!this.props.clockwise) {\n      a = this.angleArc - a - 2 * Math.PI;\n    }\n    if (this.angleArc !== Math.PI * 2 && a < 0 && a > -0.5) {\n      a = 0;\n    } else if (a < 0) {\n      a += Math.PI * 2;\n    }\n    const val = !this.props.log\n      ? (a * (this.props.max - this.props.min)) / this.angleArc + this.props.min\n      : Math.pow(this.props.max / this.props.min, a / this.angleArc) *\n        this.props.min;\n    return this.coerceToStep(val);\n  };\n\n  handleMouseDown = (e) => {\n    this.props.onChange(this.eventToValue(e));\n    document.addEventListener('mousemove', this.handleMouseMove);\n    document.addEventListener('mouseup', this.handleMouseUpNoMove);\n  };\n\n  handleTouchStart = (e) => {\n    this.props.onChange(this.eventToValue(e));\n    document.addEventListener('touchmove', this.handleTouchMove, {\n      passive: false,\n    });\n    document.addEventListener('touchend', this.handleTouchEndNoMove);\n  };\n\n  handleMouseMove = (e) => {\n    e.preventDefault();\n    const val = this.eventToValue(e);\n\n    if (val !== this.props.value) {\n      this.props.onChange(this.eventToValue(e));\n    }\n\n    document.removeEventListener('mouseup', this.handleMouseUpNoMove);\n    document.addEventListener('mouseup', this.handleMouseUp);\n  };\n\n  handleTouchMove = (e) => {\n    e.preventDefault();\n    const touchIndex = e.targetTouches.length - 1;\n    const val = this.eventToValue(e.targetTouches[touchIndex]);\n\n    if (val !== this.props.value) {\n      this.props.onChange(val);\n    }\n\n    document.removeEventListener('touchend', this.handleTouchEndNoMove);\n    document.addEventListener('touchend', this.handleTouchEnd);\n  };\n\n  handleMouseUp = (e) => {\n    this.props.onChangeEnd(this.eventToValue(e));\n    document.removeEventListener('mousemove', this.handleMouseMove);\n    document.removeEventListener('mouseup', this.handleMouseUp);\n  };\n\n  handleTouchEnd = (e) => {\n    const touchIndex = e.targetTouches.length - 1;\n    this.props.onChangeEnd(e.targetTouches[touchIndex]);\n    document.removeEventListener('touchmove', this.handleTouchMove);\n    document.removeEventListener('touchend', this.handleTouchEnd);\n  };\n\n  findClickQuadrant = (rectSize, x, y) => {\n    if (y < rectSize / 4) {\n      return 1;\n    } else if (y > rectSize * 0.75) {\n      return 2;\n    } else if (x < rectSize / 4) {\n      return 3;\n    } else if (x > rectSize * 0.75) {\n      return 4;\n    }\n    return -1;\n  };\n\n  handleMouseUpNoMove = (e) => {\n    const rect = e.target.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const rectWidth = rect.width;\n    const quadrant = this.findClickQuadrant(rectWidth, x, y);\n    if (quadrant > 0 && quadrant <= 4) {\n      this.props.onWheelClick(quadrant);\n    }\n\n    document.removeEventListener('mousemove', this.handleMouseMove);\n    document.removeEventListener('mouseup', this.handleMouseUp);\n    document.removeEventListener('mouseup', this.handleMouseUpNoMove);\n  };\n\n  handleTouchEndNoMove = (e) => {\n    const rect = e.target.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const rectWidth = rect.width;\n    const quadrant = this.findClickQuadrant(rectWidth, x, y);\n    if (quadrant > 0 && quadrant <= 4) {\n      this.props.onWheelClick(quadrant);\n    }\n\n    document.removeEventListener('touchmove', this.handleTouchMove);\n    document.removeEventListener('touchend', this.handleTouchEnd);\n    document.removeEventListener('touchend', this.handleTouchEndNoMove);\n  };\n\n  handleEsc = (e) => {\n    if (e.keyCode === 27) {\n      e.preventDefault();\n      this.handleMouseUp();\n    }\n  };\n\n  handleTextInput = (e) => {\n    const val =\n      Math.max(Math.min(+e.target.value, this.props.max), this.props.min) ||\n      this.props.min;\n    this.props.onChange(val);\n  };\n\n  handleWheel = (e) => {\n    e.preventDefault();\n    if (e.deltaX > 0 || e.deltaY > 0) {\n      this.props.onChange(\n        this.coerceToStep(\n          !this.props.log\n            ? this.props.value + this.props.step\n            : this.props.value * this.props.step\n        )\n      );\n    } else if (e.deltaX < 0 || e.deltaY < 0) {\n      this.props.onChange(\n        this.coerceToStep(\n          !this.props.log\n            ? this.props.value - this.props.step\n            : this.props.value / this.props.step\n        )\n      );\n    }\n  };\n\n  handleArrowKey = (e) => {\n    if (e.keyCode === 37 || e.keyCode === 40) {\n      e.preventDefault();\n      this.props.onChange(\n        this.coerceToStep(\n          !this.props.log\n            ? this.props.value - this.props.step\n            : this.props.value / this.props.step\n        )\n      );\n    } else if (e.keyCode === 38 || e.keyCode === 39) {\n      e.preventDefault();\n      this.props.onChange(\n        this.coerceToStep(\n          !this.props.log\n            ? this.props.value + this.props.step\n            : this.props.value * this.props.step\n        )\n      );\n    }\n  };\n\n  inputStyle = () => ({\n    width: `${(this.w / 2 + 4) >> 0}px`,\n    height: `${(this.w / 3) >> 0}px`,\n    position: 'absolute',\n    verticalAlign: 'middle',\n    marginTop: `${(this.w / 3) >> 0}px`,\n    marginLeft: `-${((this.w * 3) / 4 + 2) >> 0}px`,\n    border: 0,\n    outline: 'none',\n    background: 'none',\n    font: `${this.props.fontWeight} ${(this.w / this.digits) >> 0}px ${\n      this.props.font\n    }`,\n    textAlign: 'center',\n    color: this.props.inputColor || this.props.fgColor,\n    padding: '0px',\n    WebkitAppearance: 'none',\n    cursor: 'pointer',\n  });\n\n  drawCanvas() {\n    const ctx = this.canvasRef.getContext('2d');\n    const scale = this.getCanvasScale(ctx);\n    this.canvasRef.width = this.w * scale; // clears the canvas\n    this.canvasRef.height = this.h * scale;\n    ctx.scale(scale, scale);\n    this.xy = this.w / 2; // coordinates of canvas center\n    this.lineWidth = this.xy * this.props.thickness;\n    this.radius = this.xy - this.lineWidth / 2;\n    ctx.lineWidth = this.lineWidth;\n    ctx.lineCap = this.props.lineCap;\n    // background arc\n    ctx.beginPath();\n    ctx.strokeStyle = this.props.bgColor;\n    ctx.arc(\n      this.xy,\n      this.xy,\n      this.radius,\n      this.endAngle - 0.00001,\n      this.startAngle + 0.00001,\n      true\n    );\n    ctx.stroke();\n    // foreground arc\n    const a = this.getArcToValue(this.props.value);\n    ctx.beginPath();\n    ctx.strokeStyle = this.props.fgColor;\n    ctx.arc(this.xy, this.xy, this.radius, a.startAngle, a.endAngle, a.acw);\n    ctx.stroke();\n  }\n\n  render() {\n    const { canvasClassName, onClick } = this.props;\n\n    return (\n      <Container>\n        <CanvasContainer width={this.w} height={this.h}>\n          <Canvas\n            ref={(ref) => {\n              this.canvasRef = ref;\n            }}\n            className={canvasClassName}\n            style={{ width: '100%', height: '100%' }}\n            onMouseDown={this.handleMouseDown}\n          />\n          <CenterButton\n            ref={this.centerButtonRef}\n            onClick={onClick}\n            size={this.w}\n          />\n          <WheelButton top=\"8%\" margin=\"0 auto\" src=\"menu.svg\" />\n          <WheelButton right=\"8%\" margin=\"auto 0\" src=\"fast_forward.svg\" />\n          <WheelButton left=\"8%\" margin=\"auto 0\" src=\"rewind.svg\" />\n          <WheelButton bottom=\"8%\" margin=\"0 auto\" src=\"play_pause.svg\" />\n        </CanvasContainer>\n      </Container>\n    );\n  }\n}\n\nexport default Knob;\n","import { useCallback, useState } from 'react';\n\nimport { useEventListener } from 'hooks';\n\nimport Knob from './Knob';\n\nenum WHEEL_QUADRANT {\n  TOP = 1,\n  BOTTOM = 2,\n  LEFT = 3,\n  RIGHT = 4,\n}\n\nenum KEY_CODE {\n  ARROW_UP = 38,\n  ARROW_DOWN = 40,\n  ARROW_LEFT = 37,\n  ARROW_RIGHT = 39,\n  ESC = 27,\n  ENTER = 13,\n  SPACE = 32,\n}\n\nconst centerClickEvent = new Event('centerclick');\nconst centerLongClickEvent = new Event('centerlongclick');\nconst forwardScrollEvent = new Event('forwardscroll');\nconst backwardScrollEvent = new Event('backwardscroll');\nconst wheelClickEvent = new Event('wheelclick');\nconst menuClickEvent = new Event('menuclick');\nconst backClickEvent = new Event('backclick');\nconst forwardClickEvent = new Event('forwardclick');\nconst playPauseClickEvent = new Event('playpauseclick');\n\nconst ScrollWheel = () => {\n  const [count, setCount] = useState(0);\n\n  const handleCenterClick = useCallback(\n    () => window.dispatchEvent(centerClickEvent),\n    []\n  );\n\n  const handleCenterLongPress = useCallback((e: any) => {\n    e.preventDefault();\n    window.dispatchEvent(centerLongClickEvent);\n  }, []);\n\n  const handleClockwiseScroll = useCallback(\n    () => window.dispatchEvent(forwardScrollEvent),\n    []\n  );\n\n  const handleCounterClockwiseScroll = useCallback(() => {\n    window.dispatchEvent(backwardScrollEvent);\n  }, []);\n\n  const handleWheelClick = useCallback((quadrant: number) => {\n    window.dispatchEvent(wheelClickEvent);\n\n    switch (quadrant) {\n      case WHEEL_QUADRANT.TOP:\n        window.dispatchEvent(menuClickEvent);\n        break;\n      case WHEEL_QUADRANT.BOTTOM:\n        window.dispatchEvent(playPauseClickEvent);\n        break;\n      case WHEEL_QUADRANT.LEFT:\n        window.dispatchEvent(backClickEvent);\n        break;\n      case WHEEL_QUADRANT.RIGHT:\n        window.dispatchEvent(forwardClickEvent);\n        break;\n    }\n  }, []);\n\n  /** Allows for keyboard navigation. */\n  const handleKeyPress = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      switch (event.keyCode) {\n        case KEY_CODE.ARROW_UP:\n        case KEY_CODE.ARROW_LEFT:\n          handleCounterClockwiseScroll();\n          break;\n        case KEY_CODE.ARROW_DOWN:\n        case KEY_CODE.ARROW_RIGHT:\n          handleClockwiseScroll();\n          break;\n        case KEY_CODE.ENTER:\n          handleCenterClick();\n          break;\n        case KEY_CODE.SPACE:\n          handleWheelClick(WHEEL_QUADRANT.BOTTOM);\n          break;\n        case KEY_CODE.ESC:\n          handleWheelClick(WHEEL_QUADRANT.TOP);\n          break;\n      }\n    },\n    [\n      handleCounterClockwiseScroll,\n      handleClockwiseScroll,\n      handleCenterClick,\n      handleWheelClick,\n    ]\n  );\n\n  /** Determine if clockwise/counter-clockwise based on the Knob onChange value. */\n  const handleScroll = useCallback(\n    (val: number) => {\n      if (val === 0 && count === 100) {\n        handleClockwiseScroll();\n      } else if (val === 100 && count === 0) {\n        handleCounterClockwiseScroll();\n      } else if (val > count) {\n        handleClockwiseScroll();\n      } else if (val < count) {\n        handleCounterClockwiseScroll();\n      }\n      setCount(val);\n    },\n    [count, handleClockwiseScroll, handleCounterClockwiseScroll]\n  );\n\n  useEventListener('keydown', handleKeyPress);\n\n  return (\n    <Knob\n      value={count}\n      min={0}\n      max={100}\n      width={220}\n      height={220}\n      step={5}\n      fgColor=\"transparent\"\n      bgColor={'white'}\n      thickness={0.6}\n      onClick={handleCenterClick}\n      onLongPress={handleCenterLongPress}\n      onWheelClick={handleWheelClick}\n      onChange={handleScroll}\n    />\n  );\n};\n\nexport default ScrollWheel;\n","import { fade } from 'animation';\nimport { Header } from 'components';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { WindowOptions } from 'services/window';\nimport styled from 'styled-components';\n\nconst Container = styled(motion.div)`\n  z-index: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\ninterface Props {\n  window?: WindowOptions;\n}\n\nconst CoverFlowInterface = ({ window }: Props) => {\n  return (\n    <AnimatePresence>\n      {window && (\n        <Container {...fade} data-stack-type=\"coverflow\">\n          <Header />\n          <window.component />\n        </Container>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default CoverFlowInterface;\n","import { noAnimation, slideRightAnimation } from 'animation';\nimport { motion } from 'framer-motion';\nimport { useWindowService, WindowOptions } from 'services/window';\nimport styled from 'styled-components';\n\ninterface ContainerProps {\n  index: number;\n  showHeader: boolean;\n}\n\n/** Responsible for putting the window at the proper z-index. */\nexport const Container = styled(motion.div)<ContainerProps>`\n  z-index: ${(props) => props.index};\n  position: absolute;\n  top: ${(props) => (props.showHeader ? '20px' : 0)};\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: white;\n`;\n\ninterface ContentTransitionContainerProps {\n  isHidden: boolean;\n}\n\n/** Slides the view to the left if it isn't at the top of the stack. */\nconst ContentTransitionContainer = styled.div<ContentTransitionContainerProps>`\n  height: 100%;\n  transition: transform 0.3s;\n  transform: ${(props) => props.isHidden && 'translateX(-100%)'};\n  overflow: auto;\n`;\n\ninterface Props {\n  windowStack: WindowOptions[];\n  index: number;\n  isHidden: boolean;\n}\n\nconst Window = ({ windowStack, index, isHidden }: Props) => {\n  const { headerTitle } = useWindowService();\n  const options = windowStack[index];\n  const firstInStack = index === 0;\n\n  return (\n    <Container\n      data-window-id={options.id}\n      index={index}\n      showHeader={!!headerTitle}\n      {...(firstInStack ? noAnimation : slideRightAnimation)}\n    >\n      <ContentTransitionContainer isHidden={isHidden}>\n        <options.component />\n      </ContentTransitionContainer>\n    </Container>\n  );\n};\n\nexport default Window;\n","import Window from 'App/Interface/Window';\nimport { Header } from 'components';\nimport { AnimatePresence } from 'framer-motion';\nimport { WindowOptions } from 'services/window';\nimport styled from 'styled-components';\n\ninterface ContainerProps {\n  isHidden: boolean;\n}\n\nconst Container = styled.div<ContainerProps>`\n  z-index: 3;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: white;\n  transition: all 0.35s;\n  transform: ${(props) => props.isHidden && 'translateX(100%)'};\n`;\n\ninterface Props {\n  windowStack: WindowOptions[];\n}\n\nconst FullScreenInterface = ({ windowStack }: Props) => {\n  const isHidden = windowStack.length === 0;\n\n  return (\n    <Container data-stack-type=\"fullscreen\" isHidden={isHidden}>\n      <Header />\n      <AnimatePresence>\n        {windowStack.map((window, index) => (\n          <Window\n            key={`window-${window.id}`}\n            windowStack={windowStack}\n            index={index}\n            isHidden={index < windowStack.length - 1}\n          />\n        ))}\n      </AnimatePresence>\n    </Container>\n  );\n};\n\nexport default FullScreenInterface;\n","import { slideUpAnimation } from 'animation';\nimport ViewOptions from 'App/views';\nimport { SelectableListOption, Unit } from 'components';\nimport { motion } from 'framer-motion';\nimport { useEventListener, useMenuHideWindow, useScrollHandler } from 'hooks';\nimport { useWindowService, WindowOptions } from 'services/window';\nimport styled, { css } from 'styled-components';\n\ninterface RootContainerProps {\n  index: number;\n}\n\n/** Responsible for putting the window at the proper z-index. */\nexport const RootContainer = styled(motion.div)<RootContainerProps>`\n  z-index: ${(props) => props.index};\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\ninterface ContentTransitionContainerProps {\n  isHidden: boolean;\n}\n\n/** Slides the view in from the bottom if it is at the top of the stack. */\nconst ContentTransitionContainer = styled.div<ContentTransitionContainerProps>`\n  position: relative;\n  background: linear-gradient(180deg, #bbbcbf 0%, #626770 11.69%, #626770 100%);\n  width: 100%;\n  padding: ${Unit.XS} 0;\n  box-shadow: 0 0px 4px black;\n`;\n\nconst OptionText = styled.h3`\n  margin: 0;\n  padding: ${Unit.XS} ${Unit.XXS};\n  font-size: 16px;\n  background: linear-gradient(180deg, #ffffff 0%, #cbccce 48.44%, #dfdfdf 100%);\n  border: 3px solid #3e4249;\n  border-radius: 12px;\n  text-shadow: 0px 0px 1px #505050;\n`;\n\nconst OptionContainer = styled.div<{ highlighted: boolean }>`\n  padding: ${Unit.XXS} ${Unit.MD};\n  text-align: center;\n  border: 3px solid transparent;\n\n  ${({ highlighted }) =>\n    highlighted &&\n    css`\n      ${OptionText} {\n        background: linear-gradient(\n          rgb(60, 184, 255) 0%,\n          rgb(52, 122, 181) 100%\n        ) !important;\n        color: white !important;\n        border: 3px solid #ececec;\n      }\n    `};\n\n  :last-of-type {\n    margin-top: ${Unit.XXS};\n\n    ${OptionText} {\n      background: linear-gradient(\n        180deg,\n        #707379 0%,\n        #3b3f46 48.44%,\n        #363c44 100%\n      );\n      color: white;\n    }\n  }\n`;\n\ninterface Props {\n  windowStack: WindowOptions[];\n  index: number;\n  isHidden: boolean;\n}\n\nconst Popup = ({ windowStack, index, isHidden }: Props) => {\n  useMenuHideWindow(ViewOptions.mediaPopup.id);\n  const { hideWindow } = useWindowService();\n  const windowOptions = windowStack[index];\n\n  const options: SelectableListOption[] = [\n    ...(windowOptions.listOptions ?? []),\n    {\n      type: 'Action',\n      label: 'Cancel',\n      onSelect: () => {},\n    },\n  ];\n\n  useEventListener('centerclick', () => {\n    hideWindow();\n  });\n\n  const [scrollIndex] = useScrollHandler(ViewOptions.mediaPopup.id, options);\n\n  return (\n    <RootContainer\n      data-window-id={windowOptions.id}\n      index={index}\n      {...slideUpAnimation}\n    >\n      <ContentTransitionContainer isHidden={isHidden}>\n        {options.map((option, i) => (\n          <OptionContainer\n            key={`popup-option-${option.label}`}\n            highlighted={scrollIndex === i}\n          >\n            <OptionText>{option.label}</OptionText>\n          </OptionContainer>\n        ))}\n      </ContentTransitionContainer>\n    </RootContainer>\n  );\n};\n\nexport default Popup;\n","import { AnimatePresence } from 'framer-motion';\nimport { WindowOptions } from 'services/window';\nimport styled from 'styled-components';\n\nimport Popup from '../Popup';\n\ninterface ContainerProps {\n  isHidden: boolean;\n}\n\nconst RootContainer = styled.div<ContainerProps>`\n  z-index: 4;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n`;\n\ninterface Props {\n  windowStack: WindowOptions[];\n}\n\nconst PopupInterface = ({ windowStack }: Props) => {\n  const isHidden = windowStack.length === 0;\n\n  return (\n    <RootContainer data-stack-type=\"popup\" isHidden={isHidden}>\n      <AnimatePresence>\n        {windowStack.map((window, index) => (\n          <Popup\n            key={`window-${window.id}`}\n            windowStack={windowStack}\n            index={index}\n            isHidden={index < windowStack.length - 1}\n          />\n        ))}\n      </AnimatePresence>\n    </RootContainer>\n  );\n};\n\nexport default PopupInterface;\n","import { PREVIEW, Previews } from 'App/previews';\nimport { AnimatePresence } from 'framer-motion';\nimport { useWindowService } from 'services/window';\nimport styled, { css } from 'styled-components';\n\ninterface ContainerProps {\n  isHidden: boolean;\n}\n\nconst Container = styled.div<ContainerProps>`\n  z-index: 0;\n  position: relative;\n  flex: 0 0 50%;\n  background: white;\n  transition: all 0.35s;\n\n  ${props =>\n    props.isHidden &&\n    css`\n      transform: translateX(100%);\n      opacity: 0;\n      overflow: hidden;\n    `};\n`;\n\ninterface Props {\n  isHidden: boolean;\n}\n\nconst PreviewPanel = ({ isHidden }: Props) => {\n  const { preview } = useWindowService();\n  const PreviewComponent = Previews[preview];\n\n  return (\n    <Container isHidden={isHidden}>\n      <AnimatePresence>\n        {/* Music preview slides in, whereas the other previews simply appear. */}\n        {preview === PREVIEW.MUSIC && <PreviewComponent />}\n      </AnimatePresence>\n      {preview !== PREVIEW.MUSIC && <PreviewComponent />}\n    </Container>\n  );\n};\n\nexport default PreviewPanel;\n","import Window from 'App/Interface/Window';\nimport { Header } from 'components';\nimport { AnimatePresence } from 'framer-motion';\nimport { WindowOptions } from 'services/window';\nimport styled, { css } from 'styled-components';\n\nimport PreviewPanel from './PreviewPanel';\n\nconst Container = styled.div`\n  z-index: 2;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n`;\n\ninterface PanelProps {\n  isHidden: boolean;\n}\n\nconst LeftPanel = styled.div<PanelProps>`\n  z-index: 1;\n  position: relative;\n  flex: 0 0 50%;\n  box-shadow: 0 0 24px black;\n  transition: all 0.35s;\n  overflow: hidden;\n\n  ${(props) =>\n    props.isHidden &&\n    css`\n      transition-delay: 0.05s;\n      transform: translateX(-100%);\n      box-shadow: none;\n    `};\n`;\n\ninterface Props {\n  windowStack: WindowOptions[];\n  menuHidden: boolean;\n  allHidden: boolean;\n}\n\nconst SplitScreenInterface = ({\n  windowStack,\n  menuHidden,\n  allHidden,\n}: Props) => {\n  return (\n    <Container data-stack-type=\"splitscreen\">\n      <LeftPanel isHidden={menuHidden || allHidden}>\n        <Header />\n        <AnimatePresence>\n          {windowStack.map((window, index) => (\n            <Window\n              key={`window-${window.id}`}\n              windowStack={windowStack}\n              index={index}\n              isHidden={index < windowStack.length - 1}\n            />\n          ))}\n        </AnimatePresence>\n      </LeftPanel>\n      <PreviewPanel isHidden={allHidden} />\n    </Container>\n  );\n};\n\nexport default SplitScreenInterface;\n","import { WINDOW_TYPE } from 'App/views';\nimport { ErrorScreen, Screen, Unit } from 'components';\nimport { useMusicKit } from 'hooks/useMusicKit';\nimport { useWindowService } from 'services/window';\nimport styled from 'styled-components';\n\nimport CoverFlowInterface from './CoverFlowInterface';\nimport FullScreenInterface from './FullScreenInterface';\nimport PopupInterface from './PopupInterface';\nimport SplitScreenInterface from './SplitScreenInterface';\n\nconst Container = styled.div`\n  position: relative;\n  height: 260px;\n  margin: ${Unit.LG} ${Unit.LG} ${Unit.XL};\n  border: 4px solid black;\n  border-radius: ${Unit.XS};\n  overflow: hidden;\n  background: white;\n  animation: fadeFromBlack 0.5s;\n\n  @keyframes fadeFromBlack {\n    0% {\n      filter: brightness(0);\n    }\n  }\n\n  ${Screen.SM} {\n    @media screen and (max-height: 750px) {\n      margin: ${Unit.SM} ${Unit.SM} ${Unit.XL};\n    }\n  }\n`;\n\n/** Prevents the user from scrolling the display with a mouse. */\nconst Mask = styled.div`\n  z-index: 100;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst Interface = () => {\n  const { isConfigured, hasDevToken } = useMusicKit();\n  const { windowStack } = useWindowService();\n  const splitViewWindows = windowStack.filter(\n    (window) => window.type === WINDOW_TYPE.SPLIT\n  );\n  const fullViewWindows = windowStack.filter(\n    (window) => window.type === WINDOW_TYPE.FULL\n  );\n  const coverFlowWindow = windowStack.find(\n    (window) => window.type === WINDOW_TYPE.COVER_FLOW\n  );\n  const popupWindows = windowStack.filter(\n    (window) => window.type === WINDOW_TYPE.POPUP\n  );\n\n  const isReady = isConfigured && hasDevToken;\n\n  return (\n    <Container>\n      {isReady ? (\n        <>\n          <CoverFlowInterface window={coverFlowWindow} />\n          <SplitScreenInterface\n            windowStack={splitViewWindows}\n            menuHidden={fullViewWindows.length > 0}\n            allHidden={!!coverFlowWindow}\n          />\n          <FullScreenInterface windowStack={fullViewWindows} />\n          <PopupInterface windowStack={popupWindows} />\n        </>\n      ) : (\n        <ErrorScreen message={'Missing developer token'} />\n      )}\n      <Mask />\n    </Container>\n  );\n};\n\nexport default Interface;\n","import * as React from 'react';\n\nimport { ScrollWheel } from 'components';\nimport MusicKitProvider from 'hooks/useMusicKit';\nimport WindowProvider from 'services/window';\nimport styled, { createGlobalStyle } from 'styled-components';\n\nimport Interface from './Interface';\n\nconst GlobalStyles = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n  }\n\n   body {\n      font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n      font-size: 16px;\n\n      @media (prefers-color-scheme: dark) {\n        background: black;\n      }\n   }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  @media screen and (min-width: 750px) {\n    height: 100vh;\n    display: flex;\n  }\n`;\n\nconst Shell = styled.div`\n  position: relative;\n  height: 100vh;\n  margin: auto;\n  max-height: 36.5em;\n  width: 370px;\n  border-radius: 30px;\n  box-shadow: inset 0 0 2.4em #555;\n  background: linear-gradient(180deg, #e3e3e3 0%, #d6d6d6 100%);\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(50%, transparent), to(rgba(250, 250, 250, 0.3)));\n  animation: descend 1.5s ease;\n\n  @media (prefers-color-scheme: dark) {\n    box-shadow: inset 0 0 2.4em black;\n  }\n\n  @media screen and (max-width: 400px) {\n    animation: none;\n    border-radius: 0;\n    -webkit-box-reflect: unset;\n  }\n\n  @keyframes descend {\n    0% {\n      transform: scale(0.3);\n      opacity: 0;\n    }\n\n    100% {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n`;\n\nconst App: React.FC = () => {\n  return (\n    <Container>\n      <GlobalStyles />\n      <MusicKitProvider>\n        <WindowProvider>\n          <Shell>\n            <Interface />\n            <ScrollWheel />\n          </Shell>\n        </WindowProvider>\n      </MusicKitProvider>\n    </Container>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import ReactDOM from 'react-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}