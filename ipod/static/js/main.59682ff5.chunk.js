(this["webpackJsonpipod-classic"]=this["webpackJsonpipod-classic"]||[]).push([[0],{89:function(e,t,n){"use strict";n.r(t);var i,r,a,o,c,s,l,u,d,b,p,f,v,h,j,g,x,m,O,y,w,k,S,P,C,M,I,L,T,A,E,z,N,H,F,U,V,B,R,_,X,D,W,G,K,Y,Q=n(43),q=n.n(Q),Z=n(3),J=n(1),$=n(19),ee=n(10),te=n(7),ne=n(0),ie=function(){return Object(ne.jsxs)("svg",{width:"95",height:"124",viewBox:"0 0 95 124",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(ne.jsx)("path",{d:"M4 2L92 2",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("path",{d:"M16 14L80 14",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4H4V12V64V104H16H80H91V64V12V4H80H16ZM80 12H16V64H80V12Z",fill:"#C4C4C4"}),Object(ne.jsx)("rect",{x:"16",y:"16",width:"64",height:"48",fill:"#CBCCFE"}),Object(ne.jsx)("path",{d:"M93 104L93 3.99999",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("path",{d:"M2 104L2 4",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("path",{d:"M14 64L14 16",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("path",{d:"M82 64L82 16",stroke:"white",strokeWidth:"4"}),Object(ne.jsx)("path",{d:"M30 32V24",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("path",{d:"M66 32V24",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("path",{d:"M50 44L50 24",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("path",{d:"M49 42H44",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("path",{d:"M60 54H36",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("path",{d:"M64 58H60",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("path",{d:"M36 58H32",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("path",{d:"M80 86H48",stroke:"black",strokeWidth:"4"}),Object(ne.jsx)("g",{filter:"url(#filter0_d)",children:Object(ne.jsx)("path",{d:"M20 94H12",stroke:"#18AB1C",strokeWidth:"4"})}),Object(ne.jsx)("g",{filter:"url(#filter1_d)",children:Object(ne.jsx)("path",{d:"M20 98H12",stroke:"#BF4131",strokeWidth:"4"})}),Object(ne.jsx)("path",{d:"M80 90H48",stroke:"white",strokeWidth:"4"}),Object(ne.jsx)("rect",{x:"4",y:"104",width:"88",height:"20",fill:"black"}),Object(ne.jsx)("rect",{x:"8",y:"108",width:"44",height:"4",fill:"#575757"}),Object(ne.jsx)("rect",{x:"44",y:"108",width:"44",height:"4",fill:"#222222"}),Object(ne.jsx)("rect",{x:"64",y:"112",width:"24",height:"4",fill:"#222222"}),Object(ne.jsx)("rect",{x:"76",y:"116",width:"12",height:"4",fill:"#222222"}),Object(ne.jsx)("rect",{x:"8",y:"112",width:"32",height:"4",fill:"#575757"}),Object(ne.jsx)("rect",{x:"8",y:"116",width:"44",height:"4",fill:"#575757"}),Object(ne.jsx)("rect",{x:"40",y:"112",width:"24",height:"4",fill:"#444444"}),Object(ne.jsx)("path",{d:"M16 66L80 66",stroke:"white",strokeWidth:"4"}),Object(ne.jsxs)("defs",{children:[Object(ne.jsxs)("filter",{id:"filter0_d",x:"4",y:"84",width:"24",height:"20",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(ne.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(ne.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Object(ne.jsx)("feOffset",{}),Object(ne.jsx)("feGaussianBlur",{stdDeviation:"4"}),Object(ne.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.690196 0 0 0 0 0.952941 0 0 0 0 0.658824 0 0 0 1 0"}),Object(ne.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),Object(ne.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),Object(ne.jsxs)("filter",{id:"filter1_d",x:"4",y:"88",width:"24",height:"20",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(ne.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(ne.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Object(ne.jsx)("feOffset",{}),Object(ne.jsx)("feGaussianBlur",{stdDeviation:"4"}),Object(ne.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.964706 0 0 0 0 0.745098 0 0 0 0 0.72549 0 0 0 1 0"}),Object(ne.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),Object(ne.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})]})]})},re=n(4),ae={XS:{MediaQuery:"@media (min-width: 0)",Size:{Min:0,Max:575},ContainerMaxWidth:"100%"},SM:{MediaQuery:"@media (max-width: 576px)",Size:{Min:576,Max:767},ContainerMaxWidth:"540px"},MD:{MediaQuery:"@media (min-width: 768px)",Size:{Min:768,Max:991},ContainerMaxWidth:"720px"},LG:{MediaQuery:"@media (min-width: 992px)",Size:{Min:992,Max:1199},ContainerMaxWidth:"960px"},XL:{MediaQuery:"@media (min-width: 1200px)",Size:{Min:1200,Max:null},ContainerMaxWidth:"1140px"}},oe=ae,ce={XXXL:"8rem",XXL:"4rem",XL:"2rem",LG:"1.5rem",MD:"1rem",SM:"0.75rem",XS:"0.5rem",XXS:"0.25rem"},se=ce,le=re.c.div(i||(i=Object(Z.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  height: 100%;\n"]))),ue=re.c.p(r||(r=Object(Z.a)(["\n  margin-top: ",";\n  font-size: 14px;\n  max-width: 180px;\n  color: rgb(100, 100, 100);\n"])),se.MD),de="Something went wrong",be=function(e){var t=e.message,n=e.showImage,i=void 0===n||n;return Object(ne.jsx)(le,{children:Object(ne.jsxs)("div",{children:[i&&Object(ne.jsx)(ie,{}),Object(ne.jsx)(ue,{children:null!==t&&void 0!==t?t:de})]})})},pe=n(90),fe=n(91),ve=n(5),he=n.n(ve),je=n(8),ge=n(6),xe=n(47),me=function(e,t){if(t)return t.replace("{w}","".concat(e||100)).replace("{h}","".concat(e||100))},Oe=function(e){var t,n,i,r,a,o,c,s,l,u,d,b;return{id:e.id,name:null!==(t=null===(n=e.attributes)||void 0===n?void 0:n.name)&&void 0!==t?t:"Unknown name",url:null!==(i=e.href)&&void 0!==i?i:"",artwork:{url:null!==(r=me(100,null===(a=e.attributes)||void 0===a||null===(o=a.artwork)||void 0===o?void 0:o.url))&&void 0!==r?r:""},albumName:null===(c=e.attributes)||void 0===c?void 0:c.albumName,artistName:null===(s=e.attributes)||void 0===s?void 0:s.artistName,duration:null!==(l=null===(u=e.attributes)||void 0===u?void 0:u.durationInMillis)&&void 0!==l?l:0,trackNumber:null!==(d=null===(b=e.attributes)||void 0===b?void 0:b.trackNumber)&&void 0!==d?d:0}},ye=function(e){var t,n;return{id:e.id,name:e.name,url:e.uri,artwork:{url:null!==(t=null===(n=e.album.images[0])||void 0===n?void 0:n.url)&&void 0!==t?t:""},albumName:e.album.name,artistName:e.artists.map((function(e){return e.name})).join(", "),duration:e.duration_ms,trackNumber:e.track_number}},we=function(e){var t,n,i,r,a,o,c,s,l,u,d,b,p;return{id:e.id,name:null!==(t=null===(n=e.attributes)||void 0===n?void 0:n.name)&&void 0!==t?t:"\u2013",url:null!==(i=e.href)&&void 0!==i?i:"",curatorName:null!==(r=null===(a=e.attributes)||void 0===a?void 0:a.curatorName)&&void 0!==r?r:"",artwork:{url:null!==(o=me(100,null===(c=e.attributes)||void 0===c||null===(s=c.artwork)||void 0===s?void 0:s.url))&&void 0!==o?o:""},description:null===(l=e.attributes)||void 0===l||null===(u=l.description)||void 0===u?void 0:u.standard,songs:null!==(d=null===(b=e.relationships)||void 0===b||null===(p=b.tracks)||void 0===p?void 0:p.data.map(Oe))&&void 0!==d?d:[]}},ke=function(e){var t,n,i;return{id:e.id,name:e.name,curatorName:null!==(t=e.owner.display_name)&&void 0!==t?t:"",url:e.uri,artwork:{url:null!==(n=null===(i=e.images[0])||void 0===i?void 0:i.url)&&void 0!==n?n:""},description:e.description?Object(xe.decode)(e.description):"",songs:[]}},Se=function(e){var t,n,i,r;return{id:e.uri,name:e.name,curatorName:null!==(t=e.owner.display_name)&&void 0!==t?t:"",url:e.uri,artwork:{url:null!==(n=null===(i=e.images[0])||void 0===i?void 0:i.url)&&void 0!==n?n:""},description:null!==(r=e.description)&&void 0!==r?r:"",songs:e.tracks.items.filter((function(e){return!!e})).map((function(e){return ye(e.track)}))}},Pe=function(e,t){var n,i,r,a,o,c,s,l,u,d,b;return{id:e.id,name:null!==(n=null===(i=e.attributes)||void 0===i?void 0:i.name)&&void 0!==n?n:"\u2013",artistName:null===(r=e.attributes)||void 0===r?void 0:r.artistName,url:null!==(a=e.href)&&void 0!==a?a:"",artwork:{url:null!==(o=me(null!==t&&void 0!==t?t:100,null===(c=e.attributes)||void 0===c||null===(s=c.artwork)||void 0===s?void 0:s.url))&&void 0!==o?o:""},songs:null!==(l=null===(u=e.relationships)||void 0===u||null===(d=u.tracks)||void 0===d||null===(b=d.data)||void 0===b?void 0:b.map(Oe))&&void 0!==l?l:[]}},Ce=function(e){var t,n;return{id:e.id,name:e.name,artistName:e.artists.map((function(e){return e.name})).join(", "),url:e.uri,artwork:{url:null!==(t=null===(n=e.images[0])||void 0===n?void 0:n.url)&&void 0!==t?t:""},songs:[]}},Me=function(e){var t,n;return{id:e.id,name:e.name,artistName:e.artists.map((function(e){return e.name})).join(", "),url:e.uri,artwork:{url:null!==(t=null===(n=e.images[0])||void 0===n?void 0:n.url)&&void 0!==t?t:""},songs:e.tracks.items.map((function(e){return function(e){return{id:e.id,name:e.name,url:e.uri,artistName:e.artists.map((function(e){return e.name})).join(", "),duration:e.duration_ms,trackNumber:e.track_number}}(e)}))}},Ie=function(e){var t,n,i,r,a,o,c;return{id:e.id,name:null!==(t=null===(n=e.attributes)||void 0===n?void 0:n.name)&&void 0!==t?t:"\u2013",url:null!==(i=null===(r=e.attributes)||void 0===r?void 0:r.url)&&void 0!==i?i:"",albums:null!==(a=null===(o=e.relationships)||void 0===o||null===(c=o.albums)||void 0===c?void 0:c.data.map(Pe))&&void 0!==a?a:[]}},Le=function(e){var t;return{id:e.id,name:e.name,url:e.uri,artwork:{url:null===(t=e.images[0])||void 0===t?void 0:t.url}}},Te=function(e){var t;return{albumName:e.albumName,artistName:e.artistName,artwork:{url:null!==(t=me(100,e.artworkURL))&&void 0!==t?t:""},duration:e.playbackDuration,id:e.id,name:e.title,trackNumber:e.trackNumber,url:""}},Ae=function(e){var t,n,i,r=e.track_window.current_track;return{albumName:r.album.name,artistName:r.artists.map((function(e){return e.name})).join(", "),artwork:{url:null!==(t=null===(n=r.album.images[0])||void 0===n?void 0:n.url)&&void 0!==t?t:""},duration:e.duration,id:null!==(i=r.id)&&void 0!==i?i:"",name:r.name,trackNumber:0,url:r.uri}},Ee=function(e){var t,n,i,r,a,o,c,s;return{artists:null!==(t=null===(n=e.artists)||void 0===n?void 0:n.items.map(Le))&&void 0!==t?t:[],albums:null!==(i=null===(r=e.albums)||void 0===r?void 0:r.items.map(Ce))&&void 0!==i?i:[],songs:null!==(a=null===(o=e.tracks)||void 0===o?void 0:o.items.map(ye))&&void 0!==a?a:[],playlists:null!==(c=null===(s=e.playlists)||void 0===s?void 0:s.items.map(ke))&&void 0!==c?c:[]}},ze=function(e){var t,n,i,r,a,o,c,s,l=e.results;return{artists:null!==(t=null===(n=l.artists)||void 0===n?void 0:n.data.map(Ie))&&void 0!==t?t:[],albums:null!==(i=null===(r=l.albums)||void 0===r?void 0:r.data.map((function(e){return Pe(e,100)})))&&void 0!==i?i:[],songs:null!==(a=null===(o=l.songs)||void 0===o?void 0:o.data.map(Oe))&&void 0!==a?a:[],playlists:null!==(c=null===(s=l.playlists)||void 0===s?void 0:s.data.map(we))&&void 0!==c?c:[]}},Ne={isPlaying:!1,isPaused:!1,isLoading:!1,currentTime:0,timeRemaining:0,percent:0,duration:0},He=Object(J.createContext)({}),Fe=function(e){var t=e.children,n=lr().windowStack,i=ct(),r=i.service,a=i.isSpotifyAuthorized,o=i.isAppleAuthorized,c=yr(),s=c.spotifyPlayer,l=c.accessToken,u=c.deviceId,d=_e().music,b=Object(J.useState)(.5),p=Object(te.a)(b,2),f=p[0],v=p[1],h=Object(J.useState)(),j=Object(te.a)(h,2),g=j[0],x=j[1],m=Object(J.useState)(Ne),O=Object(te.a)(m,2),y=O[0],w=O[1],k=Object(J.useCallback)(function(){var e=Object(je.a)(he.a.mark((function e(t){var n,i,r,a,c,s,l;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}throw new Error("Unable to play: Not authorized");case 2:return s=null===(n=t.playlist)||void 0===n||null===(i=n.songs)||void 0===i?void 0:i.map((function(e){return e.id})),l=Object.fromEntries(Object.entries({album:null===(r=t.album)||void 0===r?void 0:r.id,songs:null!==s&&void 0!==s?s:null===(a=t.songs)||void 0===a?void 0:a.map((function(e){return e.url})),song:null===(c=t.song)||void 0===c?void 0:c.id,startPosition:t.startPosition}).filter((function(e){var t=Object(te.a)(e,2);t[0];return void 0!==t[1]}))),e.next=6,d.setQueue(Object(ge.a)({},l));case 6:return e.next=8,d.play();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,d]),S=Object(J.useCallback)(function(){var e=Object(je.a)(he.a.mark((function e(t){var n,i,r,o,c,d,b,p,f,v;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Unable to play: Not authorized");case 2:return e.next=4,s.activateElement();case 4:return v=[].concat(Object(ee.a)(null!==(n=null===(i=t.album)||void 0===i||null===(r=i.songs)||void 0===r?void 0:r.map((function(e){return e.url})))&&void 0!==n?n:[]),Object(ee.a)(null!==(o=null===(c=t.playlist)||void 0===c||null===(d=c.songs)||void 0===d?void 0:d.map((function(e){return e.url})))&&void 0!==o?o:[]),Object(ee.a)(null!==(b=null===(p=t.songs)||void 0===p?void 0:p.map((function(e){return e.url})))&&void 0!==b?b:[]),[null===(f=t.song)||void 0===f?void 0:f.url]).filter((function(e){return!!e})),w((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isLoading:!0})})),e.next=8,fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(u),{method:"PUT",body:JSON.stringify({uris:v,offset:{position:t.startPosition}}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)}});case 8:w((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isLoading:!1})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l,u,a,s]),P=Object(J.useCallback)(function(){var e=Object(je.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next="apple"===e.t0?3:"spotify"===e.t0?4:5;break;case 3:return e.abrupt("return",k(t));case 4:return e.abrupt("return",S(t));case 5:throw new Error("Unable to play: service not specified");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k,S,r]),C=Object(J.useCallback)(Object(je.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next="apple"===e.t0?3:"spotify"===e.t0?4:5;break;case 3:return e.abrupt("return",s.pause());case 4:return e.abrupt("return",d.pause());case 5:throw new Error("Unable to play: service not specified");case 6:case"end":return e.stop()}}),e)}))),[d,r,s]),M=Object(J.useCallback)(Object(je.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n[n.length-1],g&&t.id!==tr.keyboard.id){e.next=3;break}return e.abrupt("return");case 3:e.t0=r,e.next="apple"===e.t0?6:"spotify"===e.t0?8:10;break;case 6:return d.isPlaying?d.pause():d.isPlaying||d.play(),e.abrupt("break",11);case 8:return s.togglePlay(),e.abrupt("break",11);case 10:throw new Error("Unable to play: service not specified");case 11:case"end":return e.stop()}}),e)}))),[d,g,r,s,n]),I=Object(J.useCallback)(Object(je.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:w((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isLoading:!0})})),e.t0=r,e.next="apple"===e.t0?6:"spotify"===e.t0?10:13;break;case 6:if(!d.nowPlayingItem){e.next=9;break}return e.next=9,d.skipToNextItem();case 9:return e.abrupt("break",14);case 10:return e.next=12,s.nextTrack();case 12:return e.abrupt("break",14);case 13:throw new Error("Unable to play: service not specified");case 14:w((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isLoading:!1})}));case 15:case"end":return e.stop()}}),e)}))),[d,g,r,s]),L=Object(J.useCallback)(Object(je.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:w((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isLoading:!0})})),e.t0=r,e.next="apple"===e.t0?6:"spotify"===e.t0?10:13;break;case 6:if(!d.nowPlayingItem){e.next=9;break}return e.next=9,d.skipToPreviousItem();case 9:return e.abrupt("break",14);case 10:return e.next=12,s.previousTrack();case 12:return e.abrupt("break",14);case 13:throw new Error("Unable to play: service not specified");case 14:w((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isLoading:!1})}));case 15:case"end":return e.stop()}}),e)}))),[d,g,r,s]),T=Object(J.useCallback)(Object(je.a)(he.a.mark((function e(){var t,n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("apple"!==r||!d.nowPlayingItem){e.next=4;break}t=Te(d.nowPlayingItem),e.next=9;break;case 4:if("spotify"!==r){e.next=9;break}return e.next=7,s.getCurrentState();case 7:(n=e.sent)&&(t=Ae(n));case 9:x(t);case 10:case"end":return e.stop()}}),e)}))),[d,r,s]),A=Object(J.useCallback)((function(e){var t=e.state,n=!1,i=!1,r=!1;switch(t){case MusicKit.PlaybackStates.playing:i=!0;break;case MusicKit.PlaybackStates.paused:r=!0;break;case MusicKit.PlaybackStates.loading:case MusicKit.PlaybackStates.waiting:case MusicKit.PlaybackStates.stalled:n=!0}w((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isPlaying:i,isPaused:r,isLoading:n})})),T()}),[T]),E=Object(J.useCallback)((function(e){e&&(e.disallows.resuming?w((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isPlaying:!0,isPaused:!1,isLoading:!1})})):e.paused&&w((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isPlaying:!1,isPaused:!0,isLoading:!1})})),T())}),[T]),z=Object(J.useCallback)(Object(je.a)(he.a.mark((function e(){var t,n,i,a,o,c,l,u;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("apple"!==r){e.next=4;break}w((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{currentTime:d.currentPlaybackTime,timeRemaining:d.currentPlaybackTimeRemaining,percent:100*d.currentPlaybackProgress,duration:d.currentPlaybackDuration})})),e.next=24;break;case 4:if("spotify"!==r){e.next=24;break}return e.next=7,s.getCurrentState();case 7:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=11;break}e.t0=void 0!==t;case 11:if(!e.t0){e.next=15;break}e.t2=t,e.next=16;break;case 15:e.t2={};case 16:n=e.t2,i=n.position,a=n.duration,l=(c=(null!==a&&void 0!==a?a:0)/1e3)-(o=(null!==i&&void 0!==i?i:0)/1e3),u=Math.round(o/c*100),w((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{currentTime:o,timeRemaining:l,percent:u,duration:c})}));case 24:case"end":return e.stop()}}),e)}))),[d,r,s]),N=Object(J.useCallback)(function(){var e=Object(je.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("apple"!==r){e.next=5;break}return e.next=3,d.player.seekToTime(t);case 3:e.next=8;break;case 5:if("spotify"!==r){e.next=8;break}return e.next=8,s.seek(1e3*t);case 8:z();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d,r,s,z]),H=Object(J.useCallback)((function(e){a&&s.setVolume(e),o&&(d.volume=e),localStorage.setItem(at,"".concat(e)),v(e)}),[o,a,d,s]);return Qe("playpauseclick",(function(){M()})),Qe("forwardclick",(function(){I()})),Qe("backwardclick",(function(){L()})),De("playbackStateDidChange",A),De("queuePositionDidChange",T),Object(J.useEffect)((function(){if(a){var e;s.addListener("player_state_changed",E);var t=parseFloat(null!==(e=localStorage.getItem(at))&&void 0!==e?e:"0.5");return H(t),function(){return s.removeListener("player_state_changed",E)}}}),[H,E,a,s]),Object(J.useEffect)((function(){if(o){var e,t=parseFloat(null!==(e=localStorage.getItem(at))&&void 0!==e?e:"0.5");H(t)}}),[H,o]),Object(ne.jsx)(He.Provider,{value:{playbackInfo:y,nowPlayingItem:g,volume:f,play:P,pause:C,seekToTime:N,setVolume:H,updateNowPlayingItem:T,updatePlaybackInfo:z},children:t})},Ue=function(){var e=Object(J.useContext)(He);return Object(ge.a)({},e)},Ve=function(){var e=Ue(),t=e.volume,n=e.setVolume,i=Object(J.useState)(!1),r=Object(te.a)(i,2),a=r[0],o=r[1],c=Object(J.useState)(!0),s=Object(te.a)(c,2),l=s[0],u=s[1],d=Object(J.useRef)();bt((function(){return function(){d.current&&clearTimeout(d.current)}}));var b=Object(J.useCallback)((function(e){!e&&d.current?(o(!1),u(!1),clearTimeout(d.current)):(o(!1),u(!0),clearTimeout(d.current))}),[]),p=Object(J.useCallback)((function(){l&&(o(!0),d.current&&clearTimeout(d.current),d.current=setTimeout((function(){o(!1)}),3e3))}),[l]),f=Object(J.useCallback)((function(){if(p(),1!==t&&l){var e=Math.min(t+.04,1);n(e)}}),[p,t,l,n]),v=Object(J.useCallback)((function(){if(p(),l){var e=Math.max(t-.04,.01);n(e)}}),[p,t,l,n]);return Qe("forwardscroll",f),Qe("backwardscroll",v),Qe("wheelclick",(function(){return o(!1)})),{setEnabled:b,volume:t,active:a}},Be="eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjY5MkNaMzU4RzgifQ.eyJpYXQiOjE2NzMzOTUzODEsImV4cCI6MTY4ODk0NzM4MSwiaXNzIjoiRzZIM0NLV005QyJ9.vBkD0gOmMGjF-YGwKirIh0OyXrtXQESWuPt-8MucZ7o9yX5vRScql66gENdNyanJ1i_jQJF59XZ8k8KMLwSZuQ",Re=Object(J.createContext)({}),_e=function(){var e=window.MusicKit,t=ct(),n=t.setIsAppleAuthorized,i=t.isSpotifyAuthorized,r=t.setService,a=Object(J.useContext)(Re),o=a.isConfigured,c=a.hasDevToken,s=Object(J.useMemo)((function(){var e;return o&&c?null===(e=window.MusicKit)||void 0===e?void 0:e.getInstance():{}}),[c,o]),l=Object(J.useCallback)(Object(je.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.isAuthorized){e.next=3;break}return e.next=3,s.authorize();case 3:r("apple");case 4:case"end":return e.stop()}}),e)}))),[s,r]),u=Object(J.useCallback)((function(){s.unauthorize(),n(!1),r(i?"spotify":void 0)}),[i,s,n,r]);return{isConfigured:o,hasDevToken:c,musicKit:e,music:s,signIn:l,signOut:u}},Xe=function(e){var t=e.children,n=window.MusicKit,i=Object(J.useState)(!1),r=Object(te.a)(i,2),a=r[0],o=r[1],c=Object(J.useState)(!1),s=Object(te.a)(c,2),l=s[0],u=s[1],d=ct(),b=d.isSpotifyAuthorized,p=d.setIsAppleAuthorized,f=d.setService,v=Object(J.useCallback)(Object(je.a)(he.a.mark((function e(){var t,i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.configure({developerToken:null!==(t=Be)?t:void 0,app:{name:"iPod.js",build:"1.0"}});case 3:(i=e.sent)&&o(!0),i.isAuthorized&&p(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[n,p]);return Object(J.useEffect)((function(){l||v()}),[v,l]),De("userTokenDidChange",(function(e){e.userToken?(p(!0),f("apple")):(p(!1),f(b?"spotify":void 0))})),Qe("musickitconfigured",(function(){u(!0)})),Object(ne.jsx)(Re.Provider,{value:{musicKit:n,isConfigured:l,hasDevToken:a},children:t})},De=function(e,t){Object(J.useEffect)((function(){var n,i=window.MusicKit||void 0;if(i&&!(null===(n=i.errors)||void 0===n?void 0:n.length)){var r=i.getInstance();if(r)return r.addEventListener(e,t),function(){r.removeEventListener(e,t)}}else console.log({musicKitErrors:null===i||void 0===i?void 0:i.errors})}),[t,e])},We=n(30),Ge=n.n(We),Ke=function(e){var t=e.limit,n=e.offset,i=e.prevPageParam,r=e.totalResults;return n>=(void 0===r?0:r)-t?void 0:i+1},Ye=function(){var e=_e(),t=e.music,n=e.isConfigured,i=Object(J.useCallback)(function(){var e=Object(je.a)(he.a.mark((function e(i){var r,a,o,c,s,l,u,d,b;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.endpoint,a=i.inLibrary,o=void 0!==a&&a,c=i.params,s=void 0===c?{}:c,t&&n){e.next=4;break}return console.error("MusicKit is not configured. Unable to fetch ".concat(r,".")),e.abrupt("return");case 4:return l=o?"/v1/me/library/".concat(r):"/v1/catalog/{{storefrontId}}/".concat(r),u=Ge.a.stringify(s),d="".concat(l,"?").concat(u),e.prev=7,e.next=10,t.api.music(d);case 10:return b=e.sent,e.abrupt("return",b.data);case 14:e.prev=14,e.t0=e.catch(7),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),[n,t]),r=Object(J.useCallback)(function(){var e=Object(je.a)(he.a.mark((function e(t){var n,r,a,o,c,s;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pageParam,a=t.limit,o=r*a,e.next=4,i({endpoint:"/albums",inLibrary:!0,params:{limit:a,offset:o}});case 4:return c=e.sent,s=Ke({limit:a,offset:o,prevPageParam:r,totalResults:null===c||void 0===c?void 0:c.meta.total}),e.abrupt("return",{data:null!==(n=null===c||void 0===c?void 0:c.data.map((function(e){return Pe(e,300)})))&&void 0!==n?n:[],nextPageParam:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),a=Object(J.useCallback)(function(){var e=Object(je.a)(he.a.mark((function e(t){var n,r,a=arguments;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,i({endpoint:"albums/".concat(t),inLibrary:n});case 3:if(!(r=e.sent)){e.next=6;break}return e.abrupt("return",Pe(r.data[0]));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),o=Object(J.useCallback)(function(){var e=Object(je.a)(he.a.mark((function e(t){var n,r,a,o,c,s,l;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,a=t.pageParam,o=a*r,e.next=4,i({endpoint:"/artists",params:{limit:r,offset:o},inLibrary:!0});case 4:return c=e.sent,s=Ke({limit:r,offset:o,prevPageParam:a,totalResults:null===c||void 0===c?void 0:c.meta.total}),l={data:null!==(n=null===c||void 0===c?void 0:c.data.map(Ie))&&void 0!==n?n:[],nextPageParam:s},e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),c=Object(J.useCallback)(function(){var e=Object(je.a)(he.a.mark((function e(t){var n,r,a=arguments;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,i({endpoint:"/artists/".concat(t,"/albums"),inLibrary:n});case 3:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data.map((function(e){return Pe(e)})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),s=Object(J.useCallback)(function(){var e=Object(je.a)(he.a.mark((function e(t){var n,r,a,o,c,s,l;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,a=t.pageParam,o=a*r,e.next=4,i({endpoint:"/playlists",params:{limit:50,offset:o},inLibrary:!0});case 4:return c=e.sent,s=Ke({limit:r,offset:o,prevPageParam:a,totalResults:null===c||void 0===c?void 0:c.meta.total}),l={data:null!==(n=null===c||void 0===c?void 0:c.data.map(we))&&void 0!==n?n:[],nextPageParam:s},e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),l=Object(J.useCallback)(function(){var e=Object(je.a)(he.a.mark((function e(t){var n,r,a=arguments;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,i({endpoint:"/playlists/".concat(t),params:{include:"tracks"},inLibrary:n});case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",we(null===r||void 0===r?void 0:r.data[0]));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),u=Object(J.useCallback)(function(){var e=Object(je.a)(he.a.mark((function e(t){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({endpoint:"search",params:{term:t,types:"albums,artists,playlists,songs"}});case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",ze(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]);return{fetchAlbums:r,fetchAlbum:a,fetchArtists:o,fetchArtistAlbums:c,fetchPlaylists:s,fetchPlaylist:l,fetchSearchResults:u}},Qe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,i=Object(J.useRef)();Object(J.useEffect)((function(){i.current=t}),[e,t]),Object(J.useEffect)((function(){if(n&&n.addEventListener){var t=function(e){return i&&i.current&&i.current(e)};return n.addEventListener(e,t),function(){n.removeEventListener(e,t)}}}),[e,n])},qe=function(e){var t=lr(),n=t.windowStack,i=t.hideWindow,r=Object(J.useCallback)((function(){n[n.length-1].id===e&&i()}),[i,e,n]);Qe("menuclick",r)},Ze={body:{background:"linear-gradient(180deg, #e3e3e3 0%, #d6d6d6 100%)"},knob:{background:"#FFFFFF",outline:"#b9b9b9",button:"#AFAFAF",centerButton:{background:"#ffffff",boxShadow:"rgb(191, 191, 191)",outline:"#b9b9b9"}}},Je={body:{background:"linear-gradient(180deg, #7d7c7d 0%, #1e1e1e 100%)"},knob:{background:"#2a2a2a",outline:"#1a1a1a",button:"#FFFFFF",centerButton:{background:"#7d7c7d",boxShadow:"rgb(50, 50, 50)",outline:"#1a1a1a"}}},$e={body:{background:"linear-gradient(180deg, #7d7c7d 0%, #1e1e1e 100%)"},knob:{background:"#de2029",outline:"#1a1a1a",button:"#ffffff",centerButton:{background:"#5d5c5d",boxShadow:"rgb(50, 50, 50)",outline:"#1a1a1a"}}},et={body:{background:"linear-gradient(193.42deg, #8676d6 49.48%, rgba(238, 65, 122, 0.74) 100%);",sticker1:{background:"url(palm.svg) no-repeat bottom left",styles:{bottom:0,left:0,height:"40%",width:"50%",marginLeft:"-10%",marginBottom:"-10%",mixBlendMode:"multiply"}},sticker2:{background:"url(palm.svg) no-repeat",styles:{position:"absolute",bottom:0,right:0,height:"40%",width:"50%",marginRight:"-10%",marginBottom:"-35%",mixBlendMode:"multiply"}},sticker3:{background:'url("mnelia_signature.png") no-repeat',styles:{position:"absolute",bottom:"42%",width:"60px",height:"40px",backgroundSize:"contain",right:15,opacity:"50%"}}},knob:{background:"#2a2a2acf",outline:"#62315e",button:"#ffffff",centerButton:{background:"#c69edb",boxShadow:"rgb(142 54 101)",outline:"#62315e"}}},tt={silver:"silver",black:"black",u2:"u2",mnelia:"mnelia"},nt=function(e){switch(e){case"black":return Je;case"u2":return $e;case"mnelia":return et;default:return Ze}},it="ipodSelectedService",rt="ipodSelectedDeviceTheme",at="ipodVolume",ot=Object(J.createContext)([{},function(){}]),ct=function(){var e=Object(J.useContext)(ot),t=Object(te.a)(e,2),n=t[0],i=t[1],r=Object(J.useCallback)((function(e){return i((function(t){return Object(ge.a)(Object(ge.a)({},t),{},{isSpotifyAuthorized:e})}))}),[i]),a=Object(J.useCallback)((function(e){return i((function(t){return Object(ge.a)(Object(ge.a)({},t),{},{isAppleAuthorized:e})}))}),[i]),o=Object(J.useCallback)((function(e){i((function(t){return Object(ge.a)(Object(ge.a)({},t),{},{service:e})})),e?localStorage.setItem(it,e):localStorage.removeItem(it)}),[i]),c=Object(J.useCallback)((function(e){i((function(t){return Object(ge.a)(Object(ge.a)({},t),{},{deviceTheme:e})})),localStorage.setItem(rt,e)}),[i]);return Object(ge.a)(Object(ge.a)({},n),{},{isAuthorized:n.isAppleAuthorized||n.isSpotifyAuthorized,setIsSpotifyAuthorized:r,setIsAppleAuthorized:a,setService:o,setDeviceTheme:c})},st=Object(J.memo)((function(e){var t,n,i=e.children,r=function(){var e,t=null===(e=new URLSearchParams(window.location.search).get("theme"))||void 0===e?void 0:e.toLowerCase();if(t&&t in tt)return localStorage.setItem(rt,t),t}(),a=Object(J.useState)({isAppleAuthorized:!1,isSpotifyAuthorized:!1,service:null!==(t=localStorage.getItem(it))&&void 0!==t?t:void 0,deviceTheme:null!==(n=null!==r&&void 0!==r?r:localStorage.getItem(rt))&&void 0!==n?n:"silver"}),o=Object(te.a)(a,2),c=o[0],s=o[1];return Object(ne.jsx)(ot.Provider,{value:[c,s],children:i})})),lt=function(){var e=Pr(),t=Ye(),n=ct(),i=n.service,r=n.isAppleAuthorized,a=n.isSpotifyAuthorized,o=_e().isConfigured;return{spotifyDataFetcher:e,appleDataFetcher:t,service:i,enabled:"apple"===i&&r&&o||"spotify"===i&&a}},ut=function(e){var t=lt(),n=t.spotifyDataFetcher,i=t.appleDataFetcher,r=t.service,a=t.enabled;return Object($.useQuery)(["album",{id:e.id}],Object(je.a)(he.a.mark((function t(){return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("apple"!==r){t.next=4;break}return t.abrupt("return",i.fetchAlbum(e.id,e.inLibrary));case 4:if("spotify"!==r){t.next=6;break}return t.abrupt("return",n.fetchAlbum({id:e.id}));case 6:case"end":return t.stop()}}),t)}))),{enabled:a&&!e.lazy})},dt=function(e){var t=lt(),n=t.spotifyDataFetcher,i=t.appleDataFetcher,r=t.service,a=t.enabled;return Object($.useInfiniteQuery)(["albums"],function(){var e=Object(je.a)(he.a.mark((function e(t){var a,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.pageParam,o={pageParam:void 0===a?0:a,limit:50},"apple"!==r){e.next=6;break}return e.abrupt("return",i.fetchAlbums(o));case 6:if("spotify"!==r){e.next=8;break}return e.abrupt("return",n.fetchAlbums(o));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{enabled:a&&!e.lazy,getNextPageParam:function(e){return null===e||void 0===e?void 0:e.nextPageParam}})},bt=function(e){return Object(J.useEffect)(e,[])},pt=function(e,t){var n=Object(J.useRef)();Object(J.useEffect)((function(){n.current=e}),[e]),Object(J.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(J.useRef)(),i=Object(J.useCallback)((function(){var e=n.current;e&&(n.current=void 0,clearTimeout(e))}),[n]);return Object(J.useEffect)((function(){return n.current=setTimeout(e,t),i}),[e,t,i]),i},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialValue,n=void 0===t?"":t,i=e.readOnly,r=void 0===i||i,a=e.onEnterPress,o=void 0===a?function(){}:a,c=e.onChange,s=void 0===c?function(){}:c,l=lr(),u=l.showWindow,d=l.hideWindow,b=Object(J.useState)(n),p=Object(te.a)(b,2),f=p[0],v=p[1];Qe("input",(function(e){var t=e.detail.key;if("Enter"===t)return o(),void d(tr.keyboard.id);v((function(e){var n=e;return n="Backspace"===t||"delete"===t?e.slice(0,-1):" "===t?"".concat(e," "):"".concat(e).concat(t),s(n),n}))}));var h=Object(J.useCallback)((function(e){var t=e.key;if(!r){var n=new CustomEvent("input",{detail:{key:t}});window.dispatchEvent(n)}}),[r]),j=Object(J.useCallback)((function(e){var t=e.key;"Backspace"===t&&h({key:t})}),[h]);Qe("keypress",h),Qe("keydown",j);var g=Object(J.useCallback)((function(){u({id:tr.keyboard.id,type:Nn.KEYBOARD})}),[u]);return{value:f,showKeyboard:g}},ht=re.c.div(a||(a=Object(Z.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),jt=re.c.img(o||(o=Object(Z.a)(["\n  height: ",";\n  width: auto;\n  margin: ",";\n"])),se.XL,se.XS),gt=re.c.div(c||(c=Object(Z.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: "," "," 0;\n"])),se.MD,se.MD),xt=re.c.h3(s||(s=Object(Z.a)(["\n  margin: 0;\n  font-size: 16px;\n  font-weight: 900;\n"]))),mt=re.c.h3(l||(l=Object(Z.a)(["\n  margin: 0 0 ",";\n  font-size: 14px;\n  font-weight: normal;\n  text-align: center;\n"])),se.MD),Ot=re.c.div(u||(u=Object(Z.a)(["\n  flex: 1;\n"]))),yt=function(){qe(tr.about.id);var e=[{type:"Link",label:"GitHub Repo",url:"https://github.com/tvillarete/ipod-classic-js"},{type:"Link",label:"My Website",url:"http://tannerv.com"},{type:"Link",label:"LinkedIn",url:"https://linkedin.com/in/tvillarete"}],t=or(tr.about.id,e),n=Object(te.a)(t,1)[0];return Object(ne.jsx)(ht,{children:Object(ne.jsxs)(Ot,{children:[Object(ne.jsxs)(gt,{children:[Object(ne.jsx)(jt,{alt:"iPod",src:"ipod_logo.svg"}),Object(ne.jsx)(xt,{children:"iPod.js"})]}),Object(ne.jsxs)(mt,{children:["Made with"," ",Object(ne.jsx)("span",{"aria-label":"heart",role:"img",children:"\u2764\ufe0f"})," ","by Tanner Villarete"]}),Object(ne.jsx)(Fr,{options:e,activeIndex:n})]})})},wt=n(14),kt=function(e,t){if(t)return t.replace("{w}","".concat(e)).replace("{h}","".concat(e))},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),a=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),(r=r>0||o>0?"".concat(r,":"):"")+(i="".concat((r||a>=10)&&i<10?"0".concat(i):i,":"))+(n=n<10?"0".concat(n):n)},Pt=function(e,t){var n=window.MusicKit.getInstance();return[{type:"Action",label:"Play Next",onSelect:function(){return n.playNext(Object(wt.a)({},e,t))}},{type:"Action",label:"Play Later",onSelect:function(){return n.playLater(Object(wt.a)({},e,t))}}]},Ct=function(e){var t=e.id,n=e.inLibrary,i=void 0!==n&&n;qe(tr.album.id);var r=ut({id:t,inLibrary:i}),a=r.data,o=r.isLoading,c=Object(J.useMemo)((function(){var e;return null!==(e=null===a||void 0===a?void 0:a.songs.map((function(e,t){return{type:"Song",label:e.name,queueOptions:{album:a,startPosition:t},showNowPlayingView:!0,longPressOptions:Pt("song",e.id)}})))&&void 0!==e?e:[]}),[a]),s=or(tr.album.id,c),l=Object(te.a)(s,1)[0];return Object(ne.jsx)(Fr,{loading:o,options:c,activeIndex:l,emptyMessage:"No saved songs"})},Mt=function(e){var t=e.albums,n=e.inLibrary,i=void 0===n||n,r=ct().isAuthorized;qe(nr.albums.id);var a=dt({lazy:!!t}),o=a.data,c=a.isLoading,s=a.fetchNextPage,l=a.isFetchingNextPage,u=Object(J.useMemo)((function(){var e,n=null!==t&&void 0!==t?t:null===o||void 0===o?void 0:o.pages.flatMap((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.data)&&void 0!==t?t:[]}));return null!==(e=null===n||void 0===n?void 0:n.map((function(e){var t;return{type:"View",headerTitle:e.name,label:e.name,sublabel:e.artistName,imageUrl:kt(50,null===(t=e.artwork)||void 0===t?void 0:t.url),viewId:nr.album.id,component:function(){var t;return Object(ne.jsx)(Ct,{id:null!==(t=e.id)&&void 0!==t?t:"",inLibrary:i})}}})))&&void 0!==e?e:[]}),[t,o,i]),d=or(nr.albums.id,u,void 0,s),b=Object(te.a)(d,1)[0];return r?Object(ne.jsx)(Fr,{loading:c,loadingNextItems:l,options:u,activeIndex:b,emptyMessage:"No albums"}):Object(ne.jsx)(Xr,{})},It=function(e){var t=e.artists,n=e.inLibrary,i=void 0===n||n,r=e.showImages,a=void 0!==r&&r;qe(nr.artists.id);var o=ct().isAuthorized,c=function(e){var t=lt(),n=t.spotifyDataFetcher,i=t.appleDataFetcher,r=t.service,a=t.enabled;return Object($.useInfiniteQuery)(["artists"],function(){var e=Object(je.a)(he.a.mark((function e(t){var a,o,c;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.pageParam,c={pageParam:o=void 0===a?0:a,limit:20,after:o},"apple"!==r){e.next=6;break}return e.abrupt("return",i.fetchArtists(c));case 6:if("spotify"!==r){e.next=8;break}return e.abrupt("return",n.fetchArtists(c));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{enabled:a&&!e.lazy,getNextPageParam:function(e){return"spotify"===r?null===e||void 0===e?void 0:e.after:null===e||void 0===e?void 0:e.nextPageParam}})}({lazy:!!t}),s=c.data,l=c.fetchNextPage,u=c.isFetchingNextPage,d=c.isLoading,b=Object(J.useMemo)((function(){var e,n=null!==t&&void 0!==t?t:null===s||void 0===s?void 0:s.pages.flatMap((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.data)&&void 0!==t?t:[]}));return null!==(e=null===n||void 0===n?void 0:n.map((function(e){var t,n;return{type:"View",headerTitle:e.name,label:e.name,viewId:nr.artist.id,imageUrl:a?null!==(t=kt(50,null===(n=e.artwork)||void 0===n?void 0:n.url))&&void 0!==t?t:"artists_icon.svg":"",component:function(){return Object(ne.jsx)(Lt,{id:e.id,inLibrary:i})}}})))&&void 0!==e?e:[]}),[t,s,i,a]),p=!b.length&&d,f=or(nr.artists.id,b,void 0,l),v=Object(te.a)(f,1)[0];return o?Object(ne.jsx)(Fr,{activeIndex:v,emptyMessage:"No saved artists",loading:p,loadingNextItems:u,options:b}):Object(ne.jsx)(Xr,{message:"Sign in to view your artists"})},Lt=function(e){var t=e.id,n=e.inLibrary,i=void 0!==n&&n;qe(tr.artist.id);var r=function(e){var t=lt(),n=t.spotifyDataFetcher,i=t.appleDataFetcher,r=t.service,a=t.enabled;return Object($.useQuery)(["artistAlbums",{id:e.id}],Object(je.a)(he.a.mark((function t(){return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("apple"!==r){t.next=4;break}return t.abrupt("return",i.fetchArtistAlbums(e.id,e.inLibrary));case 4:if("spotify"!==r){t.next=6;break}return t.abrupt("return",n.fetchArtist(e.userId,e.id));case 6:case"end":return t.stop()}}),t)}))),{enabled:a&&!e.lazy})}({id:t,inLibrary:i}),a=r.data,o=r.isLoading,c=Object(J.useMemo)((function(){var e;return null!==(e=null===a||void 0===a?void 0:a.map((function(e){var t;return{type:"View",headerTitle:e.name,label:e.name,sublabel:e.artistName,imageUrl:kt(100,null===(t=e.artwork)||void 0===t?void 0:t.url),viewId:tr.album.id,component:function(){var t;return Object(ne.jsx)(Ct,{id:null!==(t=e.id)&&void 0!==t?t:"",inLibrary:i})},longPressOptions:Pt("album",e.id)}})))&&void 0!==e?e:[]}),[a,i]),s=or(tr.artist.id,c),l=Object(te.a)(s,1)[0];return Object(ne.jsx)(Fr,{loading:o,options:c,activeIndex:l,emptyMessage:"No albums by this artist"})},Tt=n(48),At=n(27),Et=function e(t){var n=this;Object(At.a)(this,e),this.app=void 0,this.position=void 0,this.score=void 0,this.lives=void 0,this.physics=void 0,this.size=void 0,this.draw=function(){n.app.context&&(n.app.context.fillStyle="black",n.app.context.fillRect(n.position.x,n.position.y,n.size.width,n.size.height))},this.moveLeft=function(){n.position.x>0&&(n.position.x-=1.5*n.physics.speed)},this.moveRight=function(){n.app.canvas&&n.position.x<n.app.canvas.width-n.size.width&&(n.position.x+=1.5*n.physics.speed)},this.reset=function(){n.lives=3,n.score=0,n.resetPosition()},this.resetPosition=function(){n.position.x=200},this.app=t,this.position={x:200,y:480},this.score=0,this.lives=3,this.physics={speed:10},this.size={height:20,width:150}},zt=function e(t){var n=this;Object(At.a)(this,e),this.app=void 0,this.position=void 0,this.size=void 0,this.physics=void 0,this.direction=void 0,this.draw=function(){if(n.app.context){var e=n.app.context,t=n.position.x,i=n.position.y;e.fillStyle="transparent",e.beginPath(),e.arc(t,i,10,0,2*Math.PI,!1),e.fillStyle="black",e.fill(),e.lineWidth=5,e.strokeStyle="black",e.stroke()}},this.reset=function(){n.position.x=0,n.position.y=250,n.direction.x=Math.cos(Math.PI/4),n.direction.y=Math.sin(Math.PI/4)},this.update=function(){n.app.canvas&&((n.position.x<0||n.position.x>n.app.canvas.width)&&(n.direction.x=-n.direction.x),n.position.y<0&&(n.direction.y=-n.direction.y),n.position.y>n.app.canvas.height&&n.app.die(),n.app.waiting||n.app.inStasis||(n.checkCollisionWithPlayer(),n.checkCollisionWithBricks(),n.position.x+=n.physics.speed*n.direction.x,n.position.y+=n.physics.speed*n.direction.y),n.draw())},this.checkCollisionWithPlayer=function(){if(!(n.position.y+n.size.height<n.app.player.position.y)&&!(n.position.y>n.app.player.position.y+n.app.player.size.height)&&!(n.position.x>n.app.player.position.x+n.app.player.size.width)&&!(n.position.x+n.size.width<n.app.player.position.x)){var e,t,i,r,a,o=n.position.x-n.app.player.position.x,c=(e=o,t=0,i=n.app.player.size.width,r=.5,a=Math.PI-.5,(e-t)*(a-r)/(i-t)+r),s=Math.cos(c),l=Math.sin(c);n.direction.x=-s,n.direction.y=-l}},this.checkCollisionWithBricks=function(){for(var e=0;e<n.app.bricks.length;e++){var t=n.app.bricks[e];n.position.y+n.size.height<t.position.y||(n.position.y>t.position.y+t.size.height||n.position.x>t.position.x+t.size.width||n.position.x+n.size.width<t.position.x||(t.health-=1,n.app.player.score+=20,t.health<1&&n.app.bricks.splice(e,1),n.direction.x>0&&n.direction.y>0||n.direction.x<0&&n.direction.y>0?n.position.y>t.position.y?n.direction.x=-n.direction.x:n.direction.y=-n.direction.y:n.direction.x>0&&n.direction.y<0?n.position.x>t.position.x?n.direction.y=-n.direction.y:n.direction.x=-n.direction.x:n.direction.x<0&&n.direction.y<0&&(n.position.x>t.position.x+t.size.width?n.direction.x=-n.direction.x:n.direction.y=-n.direction.y)))}},this.app=t,this.position={x:0,y:250},this.size={height:10,width:10},this.physics={speed:5},this.direction={x:Math.cos(Math.PI/4),y:Math.sin(Math.PI/4)}},Nt=function e(t){var n=this;Object(At.a)(this,e),this.app=void 0,this.health=void 0,this.size=void 0,this.position=void 0,this.draw=function(){if(n.app.context){switch(n.health){case 3:n.app.context.fillStyle="rgb(0, 240, 0)";break;case 2:n.app.context.fillStyle="rgb(255, 140, 0)";break;case 1:n.app.context.fillStyle="rgb(200, 0, 0)"}n.health>0&&n.app.context.fillRect(n.position.x,n.position.y,n.size.width-5,n.size.height-5)}},this.app=t,this.health=3,this.size={height:20,width:60},this.position={x:0,y:0}},Ht=function e(){var t=this;Object(At.a)(this,e),this.initialized=void 0,this.waiting=void 0,this.player=void 0,this.ball=void 0,this.bricks=void 0,this.canvas=void 0,this.context=void 0,this.timeout=void 0,this.inStasis=void 0,this.init=function(){t.context?(window.addEventListener("centerclick",t.handleCenterClick),t.inStasis=!1,t.initialized||(window.addEventListener("forwardscroll",(function(){return t.player.moveRight()}),!0),window.addEventListener("backwardscroll",(function(){return t.player.moveLeft()}),!0),window.addEventListener("menuclick",(function(){t.inStasis=!0})),t.setupBricks(),t.player.draw(),t.drawBricks(),t.ball.update(),t.update(),t.initialized=!0)):console.log("Error getting application context")},this.handleCenterClick=function(){t.waiting&&!t.inStasis&&(t.waiting=!1)},this.update=function(){t.clearContext(),t.player.draw(),t.drawBricks(),t.ball.update(),requestAnimationFrame((function(){t.update()}))},this.clearContext=function(){t.context&&t.canvas&&t.context.clearRect(0,0,t.canvas.width,t.canvas.height)},this.die=function(){t.player.position.x=200,t.player.lives-=1,t.player.lives<1&&t.reset(),t.ball.reset(),t.waiting=!0},this.drawBricks=function(){var e,n=Object(Tt.a)(t.bricks);try{for(n.s();!(e=n.n()).done;){e.value.draw()}}catch(i){n.e(i)}finally{n.f()}},this.setupBricks=function(){t.bricks=[];for(var e=0;e<10;e++){var n=new Nt(t);n.position.x=100+e*n.size.width+e,n.position.y=50,n.health=1,t.bricks.push(n)}for(var i=0;i<8;i++){var r=new Nt(t);r.position.x=150+i*r.size.width+i,r.position.y=50+r.size.height+1,r.health=2,t.bricks.push(r)}for(var a=0;a<6;a++){var o=new Nt(t);o.position.x=200+a*o.size.width+a,o.position.y=50+2*o.size.height+1,o.health=3,t.bricks.push(o)}},this.reset=function(){t.player.reset(),t.ball.reset(),t.setupBricks()},this.initialized=!1,this.waiting=!0,this.player=new Et(this),this.ball=new zt(this),this.bricks=[],this.canvas=document.querySelector("#brickBreakerCanvas"),this.context=this.canvas?this.canvas.getContext("2d"):null,this.timeout=33,this.inStasis=!1},Ft=re.c.div(d||(d=Object(Z.a)(["\n  height: 100%;\n  background: rgb(2, 0, 36);\n  background: linear-gradient(\n    90deg,\n    rgba(2, 0, 36, 1) 0%,\n    rgba(107, 173, 255, 1) 0%,\n    rgba(0, 212, 255, 1) 100%\n  );\n"]))),Ut=re.c.canvas(b||(b=Object(Z.a)(["\n  height: 100%;\n  width: 100%;\n"]))),Vt=function(){return qe(nr.brickGame.id),Object(J.useEffect)((function(){(new Ht).init()}),[]),Object(ne.jsx)(Ft,{children:Object(ne.jsx)(Ut,{width:"800",height:"500",id:"brickBreakerCanvas",children:Object(ne.jsx)("p",{children:"Your browser does not support this feature"})})})},Bt={variants:{closed:{x:"100%"},open:{x:0,transition:{duration:.3,type:"tween"}},closing:{x:"100%",transition:{duration:.3,type:"tween"}}},initial:"closed",animate:"open",exit:"closing"},Rt={variants:{closed:{y:"110%"},open:{y:0,transition:{duration:.3,type:"tween"}},closing:{y:"110%",transition:{duration:.3,type:"tween"}}},initial:"closed",animate:"open",exit:"closing"},_t={variants:{closed:{scale:.6,opacity:0},open:{scale:1,opacity:1,transition:{duration:.3,type:"spring"}},closing:{scale:.6,opacity:0,transition:{duration:.3,type:"spring"}}},initial:"closed",animate:"open",exit:"closing"},Xt={variants:{closed:{opacity:0},open:{opacity:1},closing:{opacity:0,transition:{duration:.3,type:"tween"}}},initial:"closed",animate:"open",exit:"closing"},Dt={variants:{closed:{opacity:0,scale:.3},open:{opacity:1,scale:1,transition:{duration:.5,type:"tween"}},closing:{opacity:0,scale:.3,transition:{duration:.3,type:"tween"}}},initial:"closed",animate:"open",exit:"closing"},Wt={variants:{closed:{x:"130%",opacity:0},open:{x:0,opacity:1,transition:{duration:.4,type:"tween"}},closing:{x:"130%",opacity:0,transition:{duration:.4,type:"tween"}}},initial:"closed",animate:"open",exit:"closing"},Gt={variants:{closed:{},open:{},closing:{opacity:0,transition:{duration:.3,type:"tween"}}},initial:"closed",animate:"open",exit:"closing"},Kt=re.c.div(p||(p=Object(Z.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  top: -28%;\n  bottom: -50%;\n  left: -50%;\n  right: -50%;\n  border: 1px solid lightgray;\n  background: white;\n  transform: rotateY(180deg);\n"]))),Yt=re.c.div(f||(f=Object(Z.a)(["\n  padding: 4px 8px;\n  background: linear-gradient(180deg, #6585ad 0%, #789ab3 100%);\n  border-bottom: 1px solid #6d87a3;\n"]))),Qt=re.c.h3(v||(v=Object(Z.a)(["\n  font-size: 16px;\n  margin: 0;\n  color: white;\n"]))),qt=Object(re.c)(Qt)(h||(h=Object(Z.a)(["\n  font-size: 14px;\n"]))),Zt=re.c.div(j||(j=Object(Z.a)(["\n  position: relative;\n  flex: 1;\n  overflow: auto;\n"]))),Jt=function(e){var t=e.albumId,n=e.setPlayingAlbum,i=ut({id:t,inLibrary:!0}),r=i.data,a=i.isLoading,o=Object(J.useMemo)((function(){var e;return null!==(e=null===r||void 0===r?void 0:r.songs.map((function(e,t){return{type:"Song",label:e.name,queueOptions:{album:r,startPosition:t}}})))&&void 0!==e?e:[]}),[r]),c=or(nr.coverFlow.id,o),s=Object(te.a)(c,1)[0];return Qe("centerclick",(function(){return n(!0)})),Object(ne.jsx)(Kt,{children:a?Object(ne.jsx)(Ea,{}):Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)(Yt,{children:[Object(ne.jsx)(Qt,{children:null===r||void 0===r?void 0:r.name}),Object(ne.jsx)(qt,{children:null===r||void 0===r?void 0:r.artistName})]}),Object(ne.jsx)(Zt,{children:Object(ne.jsx)(Fr,{activeIndex:s,options:o})})]})})},$t=re.c.div.attrs((function(e){return{style:{background:"transparent",backgroundSize:"cover"}}}))(g||(g=Object(Z.a)(["\n  z-index: ",";\n  position: absolute;\n  height: 8em;\n  width: 8em;\n  transition: transform 0.25s, opacity 0.35s, background 0.35s;\n  transform-style: preserve-3d;\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(70%, transparent), to(rgba(240, 240, 240, 0.2)));\n  opacity: ",";\n\n  ",";\n\n  ",";\n"])),(function(e){return 1-Math.abs(e.index-e.activeIndex)}),(function(e){return e.isHidden&&0}),(function(e){return e.isActive&&Object(re.b)(x||(x=Object(Z.a)(["\n      transition: transform 0.3s, opacity 0.35s, background 0.35s;\n      transform: translate3d(","px, 4px, 20px)\n        ",";\n\n      ",";\n\n      ",";\n    "])),e.midpoint.x-60,e.isSelected&&"rotateY(-180deg) translateY(10%) scale(0.96)",e.isSelected&&Object(re.b)(m||(m=Object(Z.a)(["\n        transition: transform 0.5s, opacity 0.35s, background 0.35s;\n        -webkit-box-reflect: none;\n\n        "," {\n          opacity: 0;\n        }\n      "])),en),e.isPlaying&&Object(re.b)(O||(O=Object(Z.a)(["\n        transform: translate(","px, -10px) rotateY(18deg);\n\n        "," {\n          opacity: 1;\n        }\n      "])),e.midpoint.x/6,en))}),(function(e){return!e.isActive&&Object(re.b)(y||(y=Object(Z.a)(["\n      transform: translateX(","px) scale(1.1) translateZ(-65px)\n        rotateY(",");\n    "])),e.offset,e.index<e.activeIndex?"70deg":"-70deg")})),en=re.c.img(w||(w=Object(Z.a)(["\n  z-index: 0;\n  position: absolute;\n  height: 8em;\n  width: 8em;\n  transition: opacity 0.5s;\n"]))),tn=Object(re.c)(pe.a.div)(k||(k=Object(Z.a)(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n"]))),nn=function(e){var t,n=e.album,i=e.midpoint,r=e.index,a=e.activeIndex,o=e.isSelected,c=e.playingAlbum,s=e.setPlayingAlbum,l=r>a-15&&r<a+15,u=r===a,d=function(e,t){return 0===e?0:t-46+48*e+(e<0?-48:24)}(r-a,i.x),b=!u&&c;return l?Object(ne.jsxs)($t,{isActive:u,isSelected:o,isHidden:b,midpoint:i,offset:d,index:r,activeIndex:a,isPlaying:o&&c,children:[Object(ne.jsx)(en,{src:kt(300,null===(t=n.artwork)||void 0===t?void 0:t.url)}),Object(ne.jsx)(fe.a,{children:o&&!c&&Object(ne.jsx)(tn,Object(ge.a)(Object(ge.a)({},Dt),{},{children:Object(ne.jsx)(Jt,{albumId:n.id,setPlayingAlbum:s})}))})]}):null},rn=re.c.div(S||(S=Object(Z.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]))),an=re.c.div(P||(P=Object(Z.a)(["\n  z-index: 2;\n  position: relative;\n  display: flex;\n  flex-wrap: nowrap;\n  flex: 1;\n  padding-top: 8%;\n  -webkit-overflow-scrolling: touch; /* [3] */\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  perspective: 500px;\n"]))),on=Object(re.c)(pe.a.div)(C||(C=Object(Z.a)(["\n  z-index: 0;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 30%;\n"]))),cn=Object(re.c)(pe.a.div)(M||(M=Object(Z.a)(["\n  z-index: 1;\n  position: absolute;\n  top: 20px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]))),sn=re.c.h3(I||(I=Object(Z.a)(["\n  margin: 0;\n  font-size: 16px;\n  text-align: center;\n\n  :first-of-type {\n    margin-top: 24px;\n  }\n"]))),ln=function(e){var t,n=e.albums,i=Object(J.useState)(0),r=Object(te.a)(i,2),a=r[0],o=r[1],c=Object(J.useState)({x:0,y:0}),s=Object(te.a)(c,2),l=s[0],u=s[1],d=Object(J.useRef)(null),b=Object(J.useState)(),p=Object(te.a)(b,2),f=p[0],v=p[1],h=Object(J.useState)(!1),j=Object(te.a)(h,2),g=j[0],x=j[1],m=lr().hideWindow,O=Object(J.useCallback)((function(){if(!f){var e=n[a];v(e)}}),[a,n,f]),y=Object(J.useCallback)((function(){f&&g?x(!1):f?v(void 0):m()}),[m,g,f]),w=Object(J.useCallback)((function(){a<n.length-1&&!f&&!g&&o(a+1)}),[a,n.length,g,f]),k=Object(J.useCallback)((function(){a>0&&!f&&!g&&o(a-1)}),[a,g,f]),S=Object(J.useCallback)((function(){if(d.current){var e=d.current.getBoundingClientRect(),t=e.width,n=e.height;u({x:t/2,y:n/2})}}),[]);return Object(J.useEffect)(S,[S]),Qe("centerclick",O),Qe("menuclick",y),Qe("forwardscroll",w),Qe("backwardscroll",k),Object(ne.jsxs)(rn,{children:[Object(ne.jsx)(an,{ref:d,children:n.map((function(e,t){return Object(ne.jsx)(nn,{index:t,activeIndex:a,midpoint:l,album:e,playingAlbum:g,isSelected:!!f&&e.id===f.id,setPlayingAlbum:x},"cf-artwork-".concat(e.id))}))}),Object(ne.jsxs)(fe.a,{children:[n.length&&!g&&Object(ne.jsx)(on,Object(ge.a)(Object(ge.a)({},Xt),{},{children:Object(ne.jsx)(sn,{children:null===(t=n[a])||void 0===t?void 0:t.name})})),g&&Object(ne.jsx)(cn,Object(ge.a)(Object(ge.a)({},Xt),{},{children:Object(ne.jsx)(_a,{hideArtwork:!0,onHide:y})}))]})]})},un=re.c.div(L||(L=Object(Z.a)(["\n  flex: 1;\n"]))),dn=function(){var e=lr().hideWindow,t=ct().isAuthorized,n=dt({artworkSize:350}),i=n.data,r=n.isLoading,a=Object(J.useMemo)((function(){var e;return null!==(e=null===i||void 0===i?void 0:i.pages.flatMap((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.data)&&void 0!==t?t:[]})))&&void 0!==e?e:[]}),[i]),o=Object(J.useCallback)((function(){t&&!r||e()}),[e,t,r]);return Qe("menuclick",o),Object(ne.jsx)(un,{children:r?Object(ne.jsx)(Ea,{backgroundColor:"white"}):t?Object(ne.jsx)(ln,{albums:a}):Object(ne.jsx)(Xr,{message:"Sign in to view Cover Flow"})})},bn=Object(re.c)(pe.a.div)(T||(T=Object(Z.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: white;\n  background: linear-gradient(180deg, #b1b5c0 0%, #686e7a 100%);\n"]))),pn=re.c.img(A||(A=Object(Z.a)(["\n  height: 6em;\n  width: 6em;\n  margin: ",";\n"])),se.XS),fn=re.c.h3(E||(E=Object(Z.a)(["\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n"]))),vn=function(){return Object(ne.jsxs)(bn,{children:[Object(ne.jsx)(pn,{src:"dice.svg"}),Object(ne.jsx)(fn,{children:"Games"})]})},hn=Object(re.c)(pe.a.div)(z||(z=Object(Z.a)(["\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]))),jn=function(){var e=ct(),t=e.isSpotifyAuthorized,n=e.isAppleAuthorized,i=dt({artworkSize:400}),r=i.data,a=i.isLoading,o=i.error,c=Object(J.useMemo)((function(){return r&&!o?r.pages.flatMap((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.data.map((function(e){var t,n;return null!==(t=null===(n=e.artwork)||void 0===n?void 0:n.url)&&void 0!==t?t:""})))&&void 0!==t?t:[]})):[]}),[r,o]);return Object(ne.jsx)(hn,Object(ge.a)(Object(ge.a)({},Wt),{},{children:t||n?a&&!r?Object(ne.jsx)(Ea,{backgroundColor:"linear-gradient(180deg, #B1B5C0 0%, #686E7A 100%)"}):Object(ne.jsx)(Ta,{urls:c}):Object(ne.jsx)(Xr,{message:"Sign in to view your library"})}))},gn=Object(re.c)(pe.a.div)(N||(N=Object(Z.a)(["\n  height: 100%;\n"]))),xn=re.c.img(H||(H=Object(Z.a)(["\n  height: 100%;\n  width: auto;\n"]))),mn=function(){var e,t=Ue().nowPlayingItem;return t?Object(ne.jsx)(gn,{children:Object(ne.jsx)(xn,{src:kt(300,null===(e=t.artwork)||void 0===e?void 0:e.url),alt:"now playing artwork"})}):null},On=Object(re.c)(pe.a.div)(F||(F=Object(Z.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: white;\n  background: linear-gradient(180deg, #b1b5c0 0%, #686e7a 100%);\n"]))),yn=re.c.img(U||(U=Object(Z.a)(["\n  height: 6em;\n  width: 6em;\n  margin: ",";\n"])),se.XS),wn=re.c.h3(V||(V=Object(Z.a)(["\n  margin: 4px 0 0;\n  font-size: 16px;\n  font-weight: 600;\n"]))),kn=Object(re.c)(wn)(B||(B=Object(Z.a)(["\n  font-size: 14px;\n  font-weight: 400;\n"]))),Sn={spotify:"Spotify",apple:"Apple Music",none:"None",selected:"Selected service"},Pn=function(){var e=ct().service,t="spotify"===e?"spotify_icon.svg":"apple_music_icon.svg",n=Sn[null!==e&&void 0!==e?e:"none"];return Object(ne.jsxs)(On,{children:[Object(ne.jsx)(yn,{src:t}),Object(ne.jsx)(wn,{children:n}),Object(ne.jsx)(kn,{children:Sn.selected})]})},Cn=Object(re.c)(pe.a.div)(R||(R=Object(Z.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: white;\n  background: linear-gradient(180deg, #b1b5c0 0%, #686e7a 100%);\n"]))),Mn=re.c.img(_||(_=Object(Z.a)(["\n  height: 4em;\n  width: 4em;\n  margin: ",";\n"])),se.XS),In=re.c.h3(X||(X=Object(Z.a)(["\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n"]))),Ln=re.c.h3(D||(D=Object(Z.a)(["\n  margin: 0;\n  font-size: 14px;\n  font-weight: 500;\n"]))),Tn=function(){return Object(ne.jsxs)(Cn,{children:[Object(ne.jsx)(Mn,{src:"react_logo.svg"}),Object(ne.jsx)(In,{children:"iPod.js"}),Object(ne.jsx)(Ln,{children:"by Tanner V"})]})},An=Object(re.c)(pe.a.div)(W||(W=Object(Z.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: white;\n"]))),En=re.c.img(G||(G=Object(Z.a)(["\n  height: 100%;\n  width: 100%;\n"]))),zn=function(){return Object(ne.jsx)(An,{children:Object(ne.jsx)(En,{src:"themes_preview.png"})})};!function(e){e.MUSIC="music",e.GAMES="games",e.SETTINGS="settings",e.NOW_PLAYING="nowPlaying",e.SERVICE="service",e.THEME="theme"}(Y||(Y={}));var Nn,Hn=(K={},Object(wt.a)(K,Y.MUSIC,(function(){return Object(ne.jsx)(jn,{})})),Object(wt.a)(K,Y.GAMES,(function(){return Object(ne.jsx)(vn,{})})),Object(wt.a)(K,Y.SETTINGS,(function(){return Object(ne.jsx)(Tn,{})})),Object(wt.a)(K,Y.NOW_PLAYING,(function(){return Object(ne.jsx)(mn,{})})),Object(wt.a)(K,Y.SERVICE,(function(){return Object(ne.jsx)(Pn,{})})),Object(wt.a)(K,Y.THEME,(function(){return Object(ne.jsx)(zn,{})})),K),Fn=function(){qe(tr.games.id);var e=[{type:"View",label:"Brick",viewId:tr.brickGame.id,component:function(){return Object(ne.jsx)(Vt,{})},preview:Y.GAMES}],t=or(tr.games.id,e),n=Object(te.a)(t,1)[0];return Object(ne.jsx)(Fr,{options:e,activeIndex:n})},Un="Now Playing",Vn=function(){var e=ct().isAuthorized,t=_e(),n=t.signIn,i=t.isConfigured,r=Ue().nowPlayingItem,a=yr().signIn,o=lr(),c=o.showWindow,s=o.windowStack,l=Object(J.useMemo)((function(){return[{type:"View",label:"Cover Flow",viewId:tr.coverFlow.id,component:function(){return Object(ne.jsx)(dn,{})},preview:Y.MUSIC},{type:"View",label:"Music",viewId:tr.music.id,component:function(){return Object(ne.jsx)(Bn,{})},preview:Y.MUSIC},{type:"View",label:"Games",viewId:tr.games.id,component:function(){return Object(ne.jsx)(Fn,{})},preview:Y.GAMES},{type:"View",label:"Settings",viewId:tr.settings.id,component:function(){return Object(ne.jsx)(Kn,{})},preview:Y.SETTINGS}].concat(Object(ee.a)(zr(!e,{type:"ActionSheet",id:tr.signinPopup.id,label:"Sign in",listOptions:[].concat(Object(ee.a)(zr(i,{type:"Action",label:"Apple Music",onSelect:n})),[{type:"Action",label:"Spotify",onSelect:a}]),preview:Y.MUSIC})),Object(ee.a)(zr(!!r,{type:"View",label:Un,viewId:tr.nowPlaying.id,component:function(){return Object(ne.jsx)(Rn,{})},preview:Y.NOW_PLAYING})))}),[e,i,r,n,a]),u=or(tr.home.id,l),d=Object(te.a)(u,1)[0],b=Object(J.useCallback)((function(){var e=s[s.length-1];!!r&&e.id!==tr.nowPlaying.id&&e.id!==tr.coverFlow.id&&e.id!==tr.keyboard.id&&c({id:tr.nowPlaying.id,type:Nn.FULL,component:Rn})}),[r,c,s]);return Qe("idle",b),Object(ne.jsx)(Fr,{options:l,activeIndex:d})},Bn=function(){var e,t,n=_e().music;qe(tr.music.id);var i=Object(J.useMemo)((function(){var e,t,i=[{type:"View",label:"Cover Flow",viewId:tr.coverFlow.id,component:function(){return Object(ne.jsx)(dn,{})},preview:Y.MUSIC},{type:"View",label:"Playlists",viewId:tr.playlists.id,component:function(){return Object(ne.jsx)(Xn,{})},preview:Y.MUSIC},{type:"View",label:"Artists",viewId:tr.artists.id,component:function(){return Object(ne.jsx)(It,{})},preview:Y.MUSIC},{type:"View",label:"Albums",viewId:tr.albums.id,component:function(){return Object(ne.jsx)(Mt,{})},preview:Y.MUSIC},{type:"View",label:"Search",viewId:tr.search.id,component:function(){return Object(ne.jsx)(Gn,{})},preview:Y.MUSIC}];return n.isAuthorized&&(null===(e=n.player)||void 0===e||null===(t=e.nowPlayingItem)||void 0===t?void 0:t.isPlayable)&&i.push({type:"View",label:"Now playing",viewId:tr.nowPlaying.id,component:function(){return Object(ne.jsx)(Rn,{})},preview:Y.NOW_PLAYING}),i}),[n.isAuthorized,null===(e=n.player)||void 0===e||null===(t=e.nowPlayingItem)||void 0===t?void 0:t.isPlayable]),r=or(tr.music.id,i),a=Object(te.a)(r,1)[0];return Object(ne.jsx)(Fr,{options:i,activeIndex:a})},Rn=function(){qe(nr.nowPlaying.id);var e=lr().hideWindow;return Object(ne.jsx)(_a,{onHide:e})},_n=function(e){var t=e.id,n=e.inLibrary,i=void 0!==n&&n;qe(tr.playlist.id);var r=function(e){var t=lt(),n=t.spotifyDataFetcher,i=t.appleDataFetcher,r=t.service,a=t.enabled;return Object($.useQuery)(["playlists",{id:e.id}],Object(je.a)(he.a.mark((function t(){return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("apple"!==r){t.next=4;break}return t.abrupt("return",i.fetchPlaylist(e.id,e.inLibrary));case 4:if("spotify"!==r){t.next=6;break}return t.abrupt("return",n.fetchPlaylist(e.id));case 6:case"end":return t.stop()}}),t)}))),{enabled:a&&!e.lazy})}({id:t,inLibrary:i}),a=r.data,o=r.isLoading,c=Object(J.useMemo)((function(){var e;return null!==(e=null===a||void 0===a?void 0:a.songs.map((function(e,t){var n,i;return{type:"Song",label:e.name,sublabel:null!==(n=e.artistName)&&void 0!==n?n:"Unknown artist",imageUrl:null===(i=e.artwork)||void 0===i?void 0:i.url,queueOptions:{playlist:a,startPosition:t},showNowPlayingView:!0,longPressOptions:Pt("song",e.id)}})))&&void 0!==e?e:[]}),[a]),s=or(tr.playlist.id,c),l=Object(te.a)(s,1)[0];return Object(ne.jsx)(Fr,{loading:o,options:c,activeIndex:l,emptyMessage:"No songs in this playlist"})},Xn=function(e){var t=e.playlists,n=e.inLibrary,i=void 0===n||n;qe(nr.playlists.id);var r=ct().isAuthorized,a=function(e){var t=lt(),n=t.spotifyDataFetcher,i=t.appleDataFetcher,r=t.service,a=t.enabled;return Object($.useInfiniteQuery)(["playlists"],function(){var e=Object(je.a)(he.a.mark((function e(t){var a,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.pageParam,o={limit:20,pageParam:void 0===a?0:a},"apple"!==r){e.next=6;break}return e.abrupt("return",i.fetchPlaylists(o));case 6:if("spotify"!==r){e.next=8;break}return e.abrupt("return",n.fetchPlaylists(o));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{enabled:a&&!e.lazy,getNextPageParam:function(e){return null===e||void 0===e?void 0:e.nextPageParam}})}({lazy:!!t}),o=a.data,c=a.fetchNextPage,s=a.isFetchingNextPage,l=a.isLoading,u=Object(J.useMemo)((function(){var e,n=null!==t&&void 0!==t?t:null===o||void 0===o?void 0:o.pages.flatMap((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.data)&&void 0!==t?t:[]}));return null!==(e=null===n||void 0===n?void 0:n.map((function(e){var t;return{type:"View",label:e.name,sublabel:e.description||"By ".concat(e.curatorName),imageUrl:null===(t=e.artwork)||void 0===t?void 0:t.url,viewId:nr.playlist.id,headerTitle:e.name,component:function(){return Object(ne.jsx)(_n,{id:e.id,inLibrary:i})},longPressOptions:Pt("playlist",e.id)}})))&&void 0!==e?e:[]}),[o,i,t]),d=!u.length&&l,b=or(nr.playlists.id,u,void 0,c),p=Object(te.a)(b,1)[0];return r?Object(ne.jsx)(Fr,{activeIndex:p,emptyMessage:"No saved playlists",loading:d,loadingNextItems:s,options:u}):Object(ne.jsx)(Xr,{message:"Sign in to view your playlists"})},Dn=n(28),Wn=n.n(Dn),Gn=function(){qe(tr.search.id);var e=ct().isAuthorized,t=Object(J.useState)(""),n=Object(te.a)(t,2),i=n[0],r=n[1],a=function(e){var t=lt(),n=t.spotifyDataFetcher,i=t.appleDataFetcher,r=t.service,a=t.enabled;return Object($.useQuery)(["search",{query:e.query}],Object(je.a)(he.a.mark((function t(){return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("spotify"!==r){t.next=4;break}return t.abrupt("return",n.fetchSearchResults(e.query));case 4:if("apple"!==r){t.next=6;break}return t.abrupt("return",i.fetchSearchResults(e.query));case 6:case"end":return t.stop()}}),t)}))),{enabled:a&&!e.lazy})}({query:i,lazy:!0}),o=a.refetch,c=a.data,s=a.isFetching,l=Object(J.useCallback)((function(){i&&o()}),[o,i]),u=vt({onChange:function(e){return r(e)},onEnterPress:l}).showKeyboard,d=Object(J.useMemo)((function(){var e=null===c||void 0===c?void 0:c.artists,t=null===c||void 0===c?void 0:c.albums,n=null===c||void 0===c?void 0:c.songs,r=null===c||void 0===c?void 0:c.playlists;return[{type:"Action",label:"Search",sublabel:i?"Results for: ".concat(i):"Enter text to search",imageUrl:"search_icon.svg",onSelect:u}].concat(Object(ee.a)(zr(!!(null===e||void 0===e?void 0:e.length),{type:"View",label:"Artists",viewId:tr.artists.id,component:function(){return Object(ne.jsx)(It,{artists:e,inLibrary:!1,showImages:!0})},imageUrl:"artists_icon.svg",sublabel:"".concat(null===e||void 0===e?void 0:e.length," ").concat(Wn()("artist",null===e||void 0===e?void 0:e.length))})),Object(ee.a)(zr(!!(null===t||void 0===t?void 0:t.length),{type:"View",label:"Albums",viewId:tr.albums.id,component:function(){return Object(ne.jsx)(Mt,{albums:t,inLibrary:!1})},imageUrl:"albums_icon.svg",sublabel:"".concat(null===t||void 0===t?void 0:t.length," ").concat(Wn()("album",null===t||void 0===t?void 0:t.length))})),Object(ee.a)(zr(!!(null===n||void 0===n?void 0:n.length),{type:"View",label:"Songs",viewId:tr.songs.id,component:function(){return Object(ne.jsx)(Yn,{songs:n})},imageUrl:"song_icon.svg",sublabel:"".concat(null===n||void 0===n?void 0:n.length," ").concat(Wn()("song",null===n||void 0===n?void 0:n.length))})),Object(ee.a)(zr(!!(null===r||void 0===r?void 0:r.length),{type:"View",label:"Playlists",viewId:tr.playlists.id,component:function(){return Object(ne.jsx)(Xn,{playlists:r,inLibrary:!1})},imageUrl:"playlist_icon.svg",sublabel:"".concat(null===r||void 0===r?void 0:r.length," ").concat(Wn()("playlist",null===r||void 0===r?void 0:r.length))})))}),[null===c||void 0===c?void 0:c.albums,null===c||void 0===c?void 0:c.artists,null===c||void 0===c?void 0:c.playlists,null===c||void 0===c?void 0:c.songs,i,u]);bt((function(){e&&u()}));var b=or(tr.search.id,d),p=Object(te.a)(b,1)[0];return e?Object(ne.jsx)(Fr,{loading:s,options:d,activeIndex:p,emptyMessage:"No results"}):Object(ne.jsx)(Xr,{message:"Sign in to search"})},Kn=function(){qe(nr.settings.id);var e=ct(),t=e.isAuthorized,n=e.isAppleAuthorized,i=e.isSpotifyAuthorized,r=e.service,a=e.deviceTheme,o=e.setDeviceTheme,c=_e(),s=c.signIn,l=c.signOut,u=c.isConfigured,d=yr(),b=d.signOut,p=d.signIn,f=Object(J.useMemo)((function(){return[{type:"View",label:"About",viewId:nr.about.id,component:function(){return Object(ne.jsx)(yt,{})},preview:Y.SETTINGS}].concat(Object(ee.a)(zr(t,{type:"ActionSheet",id:nr.serviceTypeActionSheet.id,label:"Choose service",listOptions:[{type:"Action",isSelected:"apple"===r,label:"Apple Music ".concat("apple"===r?"(Current)":""),onSelect:s},{type:"Action",isSelected:"spotify"===r,label:"Spotify ".concat("spotify"===r?"(Current)":""),onSelect:p}],preview:Y.SERVICE})),[{type:"ActionSheet",id:nr.deviceThemeActionSheet.id,label:"Device theme",listOptions:[{type:"Action",isSelected:"silver"===a,label:"Silver ".concat("silver"===a?"(Current)":""),onSelect:function(){return o("silver")}},{type:"Action",isSelected:"black"===a,label:"Black ".concat("black"===a?"(Current)":""),onSelect:function(){return o("black")}},{type:"Action",isSelected:"u2"===a,label:"U2 Edition ".concat("u2"===a?"(Current)":""),onSelect:function(){return o("u2")}}],preview:Y.THEME}],Object(ee.a)(zr(!t,{type:"ActionSheet",id:nr.signinPopup.id,label:"Sign in",listOptions:[].concat(Object(ee.a)(zr(u,{type:"Action",label:"Apple Music",onSelect:l})),[{type:"Action",label:"Spotify",onSelect:p}]),preview:Y.MUSIC})),Object(ee.a)(zr(t,{type:"ActionSheet",id:nr.signOutPopup.id,label:"Sign out",listOptions:[].concat(Object(ee.a)(zr(n,{type:"Action",label:"Apple Music",onSelect:l})),Object(ee.a)(zr(i,{type:"Action",label:"Spotify",onSelect:b}))),preview:Y.SERVICE})))}),[t,r,s,p,a,u,l,n,i,b,o]),v=or(nr.settings.id,f),h=Object(te.a)(v,1)[0];return Object(ne.jsx)(Fr,{options:f,activeIndex:h})},Yn=function(e){var t=e.songs;qe(tr.songs.id);var n=Object(J.useMemo)((function(){var e;return null!==(e=t.map((function(e){var t;return{type:"Song",label:e.name,sublabel:"".concat(e.artistName," \u2022 ").concat(e.albumName),queueOptions:{song:e,startPosition:0},imageUrl:kt(50,null===(t=e.artwork)||void 0===t?void 0:t.url),showNowPlayingView:!0,longPressOptions:Pt("song",e.id)}})))&&void 0!==e?e:[]}),[t]),i=or(tr.songs.id,n),r=Object(te.a)(i,1)[0];return Object(ne.jsx)(Fr,{options:n,activeIndex:r,emptyMessage:"No songs to show"})};!function(e){e.SPLIT="SPLIT",e.FULL="FULL",e.COVER_FLOW="COVER_FLOW",e.ACTION_SHEET="ACTION_SHEET",e.POPUP="POPUP",e.KEYBOARD="KEYBOARD"}(Nn||(Nn={}));var Qn,qn,Zn,Jn,$n,ei,ti,ni,ii,ri,ai,oi,ci,si,li,ui,di,bi,pi,fi,vi,hi,ji,gi,xi,mi,Oi,yi,wi,ki,Si,Pi,Ci,Mi,Ii,Li,Ti,Ai,Ei,zi,Ni,Hi,Fi,Ui,Vi,Bi,Ri,_i,Xi,Di,Wi,Gi,Ki,Yi,Qi,qi,Zi,Ji,$i,er,tr={home:{id:"home",title:"iPod.js",type:Nn.SPLIT},music:{id:"music",title:"Music",type:Nn.SPLIT},games:{id:"games",title:"Games",type:Nn.SPLIT},settings:{id:"settings",title:"Settings",type:Nn.SPLIT},about:{id:"about",title:"About",type:Nn.FULL},artists:{id:"artists",title:"Artists",type:Nn.FULL},artist:{id:"artist",title:"Artist",type:Nn.FULL},albums:{id:"albums",title:"Albums",type:Nn.FULL},album:{id:"album",title:"Album",type:Nn.FULL},songs:{id:"songs",title:"Songs",type:Nn.FULL},nowPlaying:{id:"nowPlaying",title:"Now Playing",type:Nn.FULL},playlists:{id:"playlists",title:"Playlists",type:Nn.FULL},playlist:{id:"playlist",title:"Playlist",type:Nn.FULL},search:{id:"search",title:"Search",type:Nn.FULL},brickGame:{id:"brickGame",title:"Brick",type:Nn.FULL},coverFlow:{id:"coverFlow",title:"Cover Flow",type:Nn.COVER_FLOW},mediaActionSheet:{id:"mediaActionSheet",title:"Media Options",type:Nn.ACTION_SHEET},serviceTypeActionSheet:{id:"serviceTypeActionSheet",title:"Service",type:Nn.ACTION_SHEET},deviceThemeActionSheet:{id:"deviceThemeActionSheet",title:"Device theme",type:Nn.ACTION_SHEET},signinPopup:{id:"signinPopup",title:"Sign in",type:Nn.ACTION_SHEET},signOutPopup:{id:"signOutPopup",title:"Sign out",type:Nn.ACTION_SHEET},spotifyNotSupportedPopup:{id:"spotifyNotSupportedPopup",title:"Unsupported browser",type:Nn.POPUP},spotifyNonPremiumPopup:{id:"spotifyNonPremiumPopup",title:"Premium",type:Nn.POPUP},keyboard:{id:"keyboard",title:"Keyboard",type:Nn.KEYBOARD}},nr=tr,ir="undefined"!==typeof navigator&&"vibrate"in navigator,rr=function(){var e=Object(J.useCallback)((function(e){ir&&navigator.vibrate(e)}),[]);return Object(J.useMemo)((function(){return{triggerHaptics:e}}),[e])},ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t){var n=e.findIndex((function(e){return e===t}));if(n>-1)return n}return 0},or=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=rr(),a=r.triggerHaptics,o=lr(),c=o.showWindow,s=o.windowStack,l=o.setPreview,u=Ue(),d=u.play,b=Object(J.useState)(ar(t,n)),p=Object(te.a)(b,2),f=p[0],v=p[1],h=Object(J.useRef)(),j=s[s.length-1].id===e,g=Object(J.useCallback)((function(e){if(h.current&&clearTimeout(h.current),j&&t[e])return h.current=setTimeout((function(){var n=t[e].preview;n&&l(n)}),750),function(){h.current&&clearTimeout(h.current)}}),[j,t,l]),x=Object(J.useCallback)((function(){v((function(e){return e<t.length-1&&j?(a(10),g(e+1),e===Math.round(t.length/2)&&(null===i||void 0===i||i(t.length)),e+1):e}))}),[g,j,i,t.length,a]),m=Object(J.useCallback)((function(){v((function(e){return e>0&&j?(a(10),g(e+1),e-1):e}))}),[g,j,a]),O=Object(J.useCallback)((function(e,t,n,i){var r,a;c({id:e,type:null!==(r=null!==n&&void 0!==n?n:null===(a=nr[e])||void 0===a?void 0:a.type)&&void 0!==r?r:Nn.FULL,component:t,headerTitle:i})}),[c]),y=Object(J.useCallback)((function(e){c({type:Nn.POPUP,id:e.popupId,title:e.title,description:e.description,listOptions:e.listOptions})}),[c]),w=Object(J.useCallback)((function(e){c({type:Nn.ACTION_SHEET,id:e.id,listOptions:e.listOptions})}),[c]),k=Object(J.useCallback)(Object(je.a)(he.a.mark((function e(){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[f],j&&n){e.next=3;break}return e.abrupt("return");case 3:a(10),h.current&&clearTimeout(h.current),e.t0=n.type,e.next="Song"===e.t0?8:"Link"===e.t0?12:"View"===e.t0?14:"Action"===e.t0?16:"Popup"===e.t0?18:"ActionSheet"===e.t0?20:22;break;case 8:return e.next=10,d(n.queueOptions);case 10:return n.showNowPlayingView&&O(nr.nowPlaying.id,(function(){return Object(ne.jsx)(Rn,{})})),e.abrupt("break",22);case 12:return window.open(n.url,"_blank"),e.abrupt("break",22);case 14:return O(n.viewId,n.component,n.windowType,n.headerTitle),e.abrupt("break",22);case 16:return n.onSelect(),e.abrupt("break",22);case 18:return y(n),e.abrupt("break",22);case 20:return w(n),e.abrupt("break",22);case 22:case"end":return e.stop()}}),e)}))),[w,y,O,f,j,t,d,a]),S=Object(J.useCallback)(Object(je.a)(he.a.mark((function e(){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[f],j&&n){e.next=3;break}return e.abrupt("return");case 3:n.longPressOptions&&c({type:Nn.ACTION_SHEET,id:nr.mediaActionSheet.id,listOptions:n.longPressOptions});case 4:case"end":return e.stop()}}),e)}))),[f,j,t,c]);return Object(J.useEffect)((function(){t.length&&f>t.length-1&&v(0)}),[f,t.length]),bt((function(){if(t&&t[0]){var e=t[0].preview;e&&l(e)}})),Qe("centerclick",k),Qe("centerlongclick",S),Qe("forwardscroll",x),Qe("backwardscroll",m),[f]},cr=Object(J.createContext)([{windowStack:[],headerTitle:"iPod.js",preview:Y.MUSIC},function(){}]),sr=function(e){var t=e.children,n=[{id:nr.home.id,type:Nn.SPLIT,component:Vn}],i=Object(J.useState)({windowStack:n,headerTitle:nr.home.title,preview:Y.MUSIC}),r=Object(te.a)(i,2),a=r[0],o=r[1];return Object(ne.jsx)(cr.Provider,{value:[a,o],children:t})},lr=function(){var e=Object(J.useContext)(cr),t=Object(te.a)(e,2),n=t[0],i=t[1],r=Object(J.useCallback)((function(e){i((function(t){var n;return Object(ge.a)(Object(ge.a)({},t),{},{windowStack:[].concat(Object(ee.a)(t.windowStack),[e]),headerTitle:null!==(n=e.headerTitle)&&void 0!==n?n:nr[e.id].title})}))}),[i]),a=Object(J.useCallback)((function(e){1!==n.windowStack.length&&i((function(t){var n,i=e?t.windowStack.filter((function(t){return t.id!==e})):t.windowStack.slice(0,-1),r=i[i.length-1],a=null!==(n=r.headerTitle)&&void 0!==n?n:nr[r.id].title;return Object(ge.a)(Object(ge.a)({},t),{},{windowStack:i,headerTitle:a})}))}),[i,n.windowStack.length]),o=Object(J.useCallback)((function(){i((function(e){return Object(ge.a)(Object(ge.a)({},e),{},{windowStack:e.windowStack.slice(0,1)})}))}),[i]),c=Object(J.useCallback)((function(e){var t=n.windowStack;return t[t.length-1].id===e}),[n]),s=Object(J.useCallback)((function(e){i((function(t){return Object(ge.a)(Object(ge.a)({},t),{},{headerTitle:e})}))}),[i]),l=Object(J.useCallback)((function(e){i((function(t){return Object(ge.a)(Object(ge.a)({},t),{},{preview:e})}))}),[i]);return{showWindow:r,hideWindow:a,resetWindows:o,isWindowActive:c,windowStack:n.windowStack,headerTitle:n.headerTitle,preview:n.preview,setHeaderTitle:s,setPreview:l}},ur="spotify_access_token",dr="spotify_refresh_token",br="spotify_token_timestamp",pr=function(){var e=Object(je.a)(he.a.mark((function e(){var t,n,i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=fr(),n=t.storedAccessToken,i=t.storedRefreshToken,n&&i){e.next=3;break}return e.abrupt("return",jr());case 3:if(!gr()){e.next=5;break}return e.abrupt("return",hr(i));case 5:return e.abrupt("return",{accessToken:n,refreshToken:i});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fr=function(){var e,t;return{storedAccessToken:null!==(e=localStorage.getItem(ur))&&void 0!==e?e:void 0,storedRefreshToken:null!==(t=localStorage.getItem(dr))&&void 0!==t?t:void 0}},vr=function(){localStorage.removeItem(ur),localStorage.removeItem(dr),localStorage.removeItem(br)},hr=function(){var e=Object(je.a)(he.a.mark((function e(t){var n,i,r;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(mr,"/refresh_token?refresh_token=").concat(t),{credentials:"same-origin",mode:"cors"});case 3:return n=e.sent,e.next=6,n.json();case 6:return i=e.sent,r=i.access_token,console.log("Got refreshed tokens:",{accessToken:r,storedRefreshToken:t}),xr(r,t),e.abrupt("return",{accessToken:r,refreshToken:t});case 13:e.prev=13,e.t0=e.catch(0),console.error("Error fetchinng refresh token:",{error:e.t0});case 16:return e.abrupt("return",{accessToken:void 0,refreshToken:void 0});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),jr=function(){var e=Object(je.a)(he.a.mark((function e(){var t,n,i,r,a,o,c,s,l,u;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=new URL(window.document.URL),r=i.searchParams,a=null!==(t=r.get("code"))&&void 0!==t?t:void 0,o=null!==(n=r.get("state"))&&void 0!==n?n:void 0,a&&o){e.next=6;break}return e.abrupt("return",{});case 6:return e.prev=6,e.next=9,fetch("".concat(mr,"/callback?state=").concat(o,"&code=").concat(a),{credentials:"same-origin",mode:"cors"});case 9:return c=e.sent,e.next=12,c.json();case 12:return s=e.sent,l=s.accessToken,u=s.refreshToken,xr(l,u),r.delete("code"),r.delete("state"),window.history.replaceState({},"",i.toString()),e.abrupt("return",{accessToken:l,refreshToken:u,isNew:!0});case 22:e.prev=22,e.t0=e.catch(6),console.error("error fetching token:",{error:e.t0});case 25:return e.abrupt("return",{accessToken:void 0,refreshToken:void 0});case 26:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(){return e.apply(this,arguments)}}(),gr=function(){var e,t=parseInt(null!==(e=localStorage.getItem(br))&&void 0!==e?e:""),n=Date.now();if(!t)return!0;var i=Math.round((n-t)/1e3/60);return console.log("Last token refresh: ".concat(i," minutes ago")),i>30},xr=function(e,t){e&&t?(localStorage.setItem(ur,e),localStorage.setItem(dr,t),localStorage.setItem(br,"".concat(Date.now()))):console.error("Error: Attempting to save undefined tokens:",{accessToken:e,refreshToken:t})},mr="https://915d-174-127-165-218.ngrok.io",Or=Object(J.createContext)({}),yr=function(){var e=ct(),t=e.isSpotifyAuthorized,n=e.setIsSpotifyAuthorized,i=e.isAppleAuthorized,r=e.setService,a=lr().showWindow,o=Object(J.useContext)(Or),c=Object(J.useCallback)((function(){o.isMounted?t?r("spotify"):window.open("".concat(mr,"/").concat(window.location.origin.includes("localhost:3000")?"login_dev":"login"),"_self"):a({type:Nn.POPUP,id:nr.spotifyNotSupportedPopup.id,title:nr.spotifyNotSupportedPopup.title,description:"Spotify sadly only supports web playback on Chrome (desktop)",listOptions:[{type:"Action",label:"Okay \ud83d\ude1e",onSelect:function(){}}]})}),[t,r,a,o.isMounted]),s=Object(J.useCallback)((function(){o.spotifyPlayer.disconnect(),n(!1),vr(),r(i?"apple":void 0)}),[i,n,r,o.spotifyPlayer]);return Object(ge.a)(Object(ge.a)({},o),{},{signIn:c,signOut:s})},wr=function(e){var t,n=e.children,i=lr(),r=i.showWindow,a=i.hideWindow,o=ct(),c=o.setIsSpotifyAuthorized,s=o.setService,l=Object(J.useState)(),u=Object(te.a)(l,2),d=u[0],b=u[1],p=Object(J.useState)(),f=Object(te.a)(p,2),v=f[0],h=f[1],j=Object(J.useRef)(),g=Object(J.useState)(!1),x=Object(te.a)(g,2),m=x[0],O=x[1],y=Object(J.useCallback)((function(){r({type:Nn.POPUP,id:nr.spotifyNonPremiumPopup.id,title:"Unable to sign in",description:"Spotify requires a Premium account to play music on the web",listOptions:[{type:"Action",label:"Okay \ud83d\ude1e",onSelect:a}]})}),[a,r]),w=Object(J.useCallback)(Object(je.a)(he.a.mark((function e(){var t,n,i,r,a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pr();case 2:t=e.sent,n=t.accessToken,i=t.refreshToken,r=t.isNew,O(!0),n&&i&&(b(n),a=new window.Spotify.Player({name:"iPod Classic",getOAuthToken:function(){var e=Object(je.a)(he.a.mark((function e(t){var n,i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=fr(),i=n.storedAccessToken){e.next=4;break}return console.error("ERROR: Didn't find stored access token"),e.abrupt("return");case 4:t(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),a.addListener("ready",(function(e){var t=e.device_id;console.log({device_id:t}),h(t),c(!0)})),a.addListener("authentication_error",(function(e){var t=e.message;console.error("Spotify authentication error: ".concat(t)),c(!1)})),a.addListener("account_error",(function(){y(),c(!1),vr()})),a.addListener("playback_error",(function(e){var t=e.message;console.error(t)})),a.connect(),j.current=a,r&&s("spotify"));case 8:case"end":return e.stop()}}),e)}))),[y,c,s]);return bt((function(){window.Spotify?w():window.onSpotifyWebPlaybackSDKReady=w})),Object(ne.jsx)(Or.Provider,{value:{spotifyPlayer:null!==(t=j.current)&&void 0!==t?t:{},accessToken:d,deviceId:v,isMounted:m},children:n})},kr=n(49),Sr=function(){var e=Object(je.a)(he.a.mark((function e(t){var n,i,r,a,o,c,s;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.endpoint,i=t.accessToken,r=t.params,a=void 0===r?{}:r,o=t.onError,e.prev=1,i){e.next=4;break}throw new Error("Provide a Spotify API Access token");case 4:return c=Ge.a.stringify(a),e.next=7,fetch("https://api.spotify.com/v1/".concat(n,"?").concat(c),{headers:{Authorization:"Bearer ".concat(i)}});case 7:return s=e.sent,e.next=10,s.json();case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(1),o(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Pr=function(){var e=yr().accessToken,t=Object(J.useCallback)(function(){var t=Object(je.a)(he.a.mark((function t(n){var i,r,a,o,c,s;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.pageParam,a=n.limit,o=r*a,t.next=4,Sr({endpoint:"me/albums",params:{limit:a,offset:o},accessToken:e,onError:function(e){throw new Error(e)}});case 4:return c=t.sent,s={data:null!==(i=null===c||void 0===c?void 0:c.items.map((function(e){return Me(e.album)})))&&void 0!==i?i:[],nextPageParam:(null===c||void 0===c?void 0:c.next)?r+1:void 0},t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),n=Object(J.useCallback)(function(){var t=Object(je.a)(he.a.mark((function t(n){var i,r;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.id,t.next=3,Sr({endpoint:"albums/".concat(i),accessToken:e,onError:function(e){throw new Error(e)}});case 3:if(!(r=t.sent)){t.next=6;break}return t.abrupt("return",Me(r));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),i=Object(J.useCallback)(function(){var t=Object(je.a)(he.a.mark((function t(n){var i,r,a,o,c,s,l,u;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.limit,c=n.after,t.next=3,Sr({endpoint:"me/following",params:{type:"artist",limit:o,after:c},accessToken:e,onError:function(e){throw new Error(e)}});case 3:return s=t.sent,l=null!==(i=null===s||void 0===s||null===(r=s.artists)||void 0===r?void 0:r.items.map(Le))&&void 0!==i?i:[],u={data:l,after:(null===s||void 0===s?void 0:s.artists.next)?null===(a=l[l.length-1])||void 0===a?void 0:a.id:void 0},t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),r=Object(J.useCallback)(Object(je.a)(he.a.mark((function t(){var n,i,r=arguments;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1?r[1]:void 0,t.next=4,Sr({endpoint:"artists/".concat(n,"/albums"),accessToken:e,onError:function(e){throw new Error(e)}});case 4:if(!(i=t.sent)){t.next=7;break}return t.abrupt("return",Object(kr.uniqBy)(i.items.map(Ce),(function(e){return e.name})));case 7:case"end":return t.stop()}}),t)}))),[e]),a=Object(J.useCallback)(function(){var t=Object(je.a)(he.a.mark((function t(n){var i,r,a,o,c,s,l;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.pageParam,o=n.limit,c=a*o,t.next=4,Sr({endpoint:"me/playlists",params:{limit:o,offset:c},accessToken:e,onError:function(e){throw new Error(e)}});case 4:return s=t.sent,l={data:null!==(i=null===s||void 0===s||null===(r=s.items)||void 0===r?void 0:r.map(ke))&&void 0!==i?i:[],nextPageParam:(null===s||void 0===s?void 0:s.next)?a+1:void 0},t.abrupt("return",l);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),o=Object(J.useCallback)(function(){var t=Object(je.a)(he.a.mark((function t(n){var i;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr({endpoint:"playlists/".concat(n),accessToken:e,onError:function(e){throw new Error(e)}});case 2:if(!(i=t.sent)){t.next=5;break}return t.abrupt("return",Se(i));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),c=Object(J.useCallback)(function(){var t=Object(je.a)(he.a.mark((function t(n){var i;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr({endpoint:"search",accessToken:e,params:{q:n,type:"track,artist,album,playlist",limit:15},onError:function(e){throw new Error(e)}});case 2:if(!(i=t.sent)){t.next=5;break}return t.abrupt("return",Ee(i));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return{fetchAlbums:t,fetchAlbum:n,fetchArtists:i,fetchArtist:r,fetchPlaylists:a,fetchPlaylist:o,fetchSearchResults:c}},Cr=re.c.div(Qn||(Qn=Object(Z.a)(["\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: ",";\n"])),se.MD),Mr=re.c.h3(qn||(qn=Object(Z.a)(["\n  margin: 0;\n  padding: ",";\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),se.XXS),Ir=Object(re.c)(Mr)(Zn||(Zn=Object(Z.a)(["\n  padding: 0 "," ",";\n  margin-top: -4px;\n  font-weight: normal;\n  font-size: 12px;\n  color: rgb(100, 100, 100);\n"])),se.XXS,se.XXS),Lr=re.c.div(Jn||(Jn=Object(Z.a)(["\n  display: flex;\n  align-items: center;\n  overflow: auto;\n\n  ",";\n"])),(function(e){return e.isActive&&Object(re.b)($n||($n=Object(Z.a)(["\n      "," {\n        padding-right: 0;\n      }\n\n      ",", "," {\n        color: white;\n      }\n      background: linear-gradient(rgb(60, 184, 255) 0%, rgb(52, 122, 181) 100%);\n    "])),Cr,Mr,Ir)})),Tr=re.c.img(ei||(ei=Object(Z.a)(["\n  height: 3rem;\n  width: 3rem;\n  margin-right: ",";\n"])),se.XXS),Ar=re.c.img(ti||(ti=Object(Z.a)(["\n  margin-left: auto;\n"]))),Er=function(e){var t=e.option,n=e.isActive;return Object(ne.jsxs)(Lr,{isActive:n,children:[t.imageUrl&&Object(ne.jsx)(Tr,{src:t.imageUrl}),Object(ne.jsxs)(Cr,{children:[Object(ne.jsx)(Mr,{children:t.label}),t.sublabel&&Object(ne.jsx)(Ir,{children:t.sublabel})]}),n&&Object(ne.jsx)(Ar,{src:"arrow_right.svg"})]})},zr=function(e,t){return t&&e?[t]:[]},Nr=re.c.div(ni||(ni=Object(Z.a)(["\n  width: 100%;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n"]))),Hr=Object(re.c)(pe.a.div)(ii||(ii=Object(Z.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 2rem;\n"]))),Fr=function(e){var t=e.options,n=e.activeIndex,i=e.loading,r=e.loadingNextItems,a=e.emptyMessage,o=void 0===a?"Nothing to see here":a,c=Object(J.useRef)(null),s=Object(J.useState)(!1),l=Object(te.a)(s,2),u=l[0],d=l[1];ft((function(){return d(!0)}),350);var b=Object(J.useMemo)((function(){return[].concat(Object(ee.a)(t),Object(ee.a)(zr(r,{type:"Action",label:Object(ne.jsx)(Hr,{children:Object(ne.jsx)(ba,{size:16})}),onSelect:function(){}})))}),[t,r]);return Object(J.useEffect)((function(){if(u&&c.current&&b.length){var e,t,i=c.current.children;if(r)null===(e=i[n+1])||void 0===e||e.scrollIntoView({block:"nearest"});else null===(t=i[n])||void 0===t||t.scrollIntoView({block:"nearest"})}}),[n,u,b.length,r]),Object(ne.jsx)(fe.a,{children:i?Object(ne.jsx)(Ea,{backgroundColor:"white"}):t.length>0?Object(ne.jsx)(Nr,{ref:c,children:b.map((function(e,t){return Object(ne.jsx)(Er,{option:e,isActive:t===n},"option-".concat(e.label,"-").concat(t))}))}):Object(ne.jsx)(be,{showImage:!1,message:o})})},Ur=re.c.div(ri||(ri=Object(Z.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  height: 100%;\n  background: white;\n"]))),Vr=re.c.img(ai||(ai=Object(Z.a)(["\n  height: 60px;\n  width: 60px;\n  transition: all 0.5s ease-in-out;\n\n  ",";\n\n  :last-of-type {\n    margin-top: -60px;\n  }\n"])),(function(e){return e.isHidden&&Object(re.b)(oi||(oi=Object(Z.a)(["\n      opacity: 0;\n    "])))})),Br=re.c.h3(ci||(ci=Object(Z.a)(["\n  margin: "," 0 ",";\n  font-weight: bold;\n  font-size: 18px;\n"])),se.XS,se.XXS),Rr=re.c.p(si||(si=Object(Z.a)(["\n  font-size: 14px;\n  margin: 0;\n  max-width: 120px;\n  color: rgb(100, 100, 100);\n"]))),_r={title:{apple:"Apple Music",spotify:"Spotify"},defaultMessage:"Sign into view this content"},Xr=function(e){var t=e.message,n=_e().isConfigured,i=Object(J.useState)(n?"apple":"spotify"),r=Object(te.a)(i,2),a=r[0],o=r[1];return pt((function(){return o((function(e){return"apple"!==e&&n?"apple":"spotify"}))}),4e3),Object(ne.jsxs)(Ur,{children:[Object(ne.jsx)(Vr,{isHidden:"spotify"===a,alt:"app_icon",src:"apple_music_icon.svg"}),n&&Object(ne.jsx)(Vr,{isHidden:"apple"===a,alt:"app_icon",src:"spotify_icon.svg"}),Object(ne.jsx)(Br,{children:_r.title[a]}),Object(ne.jsx)(Rr,{children:null!==t&&void 0!==t?t:_r.defaultMessage})]})},Dr=function(){},Wr=function(){var e=Object(J.useState)(100),t=Object(te.a)(e,2),n=t[0],i=t[1],r=Object(J.useState)(!1),a=Object(te.a)(r,2),o=a[0],c=a[1];return Object(J.useEffect)((function(){var e=Dr,t=function(){var t=Object(je.a)(he.a.mark((function t(){var n,r,a;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(navigator.getBattery){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,navigator.getBattery();case 5:n=t.sent,r=function(){i(Math.round(100*n.level))},a=function(){c(n.charging)},n.addEventListener("levelchange",r),n.addEventListener("chargingchange",a),r(),a(),e=function(){n.removeEventListener("levelchange",r),n.removeEventListener("chargingchange",a)},t.next=17;break;case 15:t.prev=15,t.t0=t.catch(2);case 17:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){return e()}}),[i,c]),{chargePercent:n,isCharging:o}},Gr=re.c.div(li||(li=Object(Z.a)(["\n  width: fit-content;\n  height: 12px;\n  display: flex;\n  align-items: center;\n"]))),Kr=re.c.div(ui||(ui=Object(Z.a)(["\n  height: 100%;\n  width: 24px;\n  position: relative;\n  display: flex;\n  border: 1px solid #626262ff;\n  background: #54585b\n    linear-gradient(180deg, transparent 25%, 65%, rgba(255, 255, 255, 0.5));\n"]))),Yr=re.c.div(di||(di=Object(Z.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n\n  ",";\n"])),(function(e){var t=e.percent,n=void 0===t?100:t,i=e.isCharging,r=void 0!==i&&i;return Object(re.b)(bi||(bi=Object(Z.a)(["\n    width: ","%;\n    background: ","\n      linear-gradient(\n        180deg,\n        transparent 10%,\n        rgba(255, 255, 255, 0.5) 20%,\n        35%,\n        transparent 40%,\n        rgba(0, 0, 0, 0.2) 55%,\n        rgba(0, 0, 0, 0.3) 65%,\n        rgba(0, 0, 0, 0.4) 80%\n      );\n  "])),n,n>20||r?"#A5E07F":"#D17F6B")})),Qr=re.c.div(pi||(pi=Object(Z.a)(["\n  width: 2px;\n  height: 4px;\n\n  border: 1px solid #626262;\n  border-left: 0;\n  border-radius: 0 1.5px 1.5px 0;\n\n  background: #c4c4c4;\n"]))),qr=re.c.div(fi||(fi=Object(Z.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* bump the icons above the charge level */\n  z-index: 1;\n"]))),Zr=re.c.img(vi||(vi=Object(Z.a)(["\n  opacity: 0.8;\n"]))),Jr=Object(re.c)(Zr)(hi||(hi=Object(Z.a)(["\n  height: 8px;\n"]))),$r=Object(re.c)(Zr)(ji||(ji=Object(Z.a)(["\n  height: 6px;\n"]))),ea=function(e){var t=e.className,n=Wr(),i=n.chargePercent,r=n.isCharging,a=i<=15?15:i,o=r&&100===i,c=r&&i<100;return Object(ne.jsxs)(Gr,{className:t,children:[Object(ne.jsxs)(Kr,{children:[Object(ne.jsxs)(qr,{children:[o&&Object(ne.jsx)($r,{src:"plug.svg"}),c&&Object(ne.jsx)(Jr,{src:"bolt.svg"})]}),Object(ne.jsx)(Yr,{percent:a,isCharging:r})]}),Object(ne.jsx)(Qr,{})]})},ta=n(50),na=re.c.div(gi||(gi=Object(Z.a)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n"]))),ia=re.c.div(xi||(xi=Object(Z.a)(["\n  position: relative;\n  flex: 1;\n  margin: 0 8px;\n"]))),ra=re.c.div(mi||(mi=Object(Z.a)(["\n  position: absolute;\n  width: 100%;\n  background: url('gloss-overlay.svg') repeat-x;\n  background-size: contain;\n  height: 100%;\n"]))),aa=re.c.div.attrs((function(e){return{style:{width:"".concat(e.percent,"%")}}}))(Oi||(Oi=Object(Z.a)(["\n  position: relative;\n  height: 100%;\n  background: ",";\n  transition: width 0.1s;\n"])),(function(e){return!e.transparent&&'url("gloss-blue.svg") repeat-x'})),oa=re.c.img(yi||(yi=Object(Z.a)(["\n  position: absolute;\n  height: 100%;\n  right: -8px;\n  filter: brightness(0.85);\n"]))),ca=function(e){var t=e.percent,n=e.isScrubber;return Object(ne.jsx)(na,{children:Object(ne.jsxs)(ia,{children:[Object(ne.jsx)(ra,{}),Object(ne.jsx)(aa,{percent:t,transparent:n,children:n&&Object(ne.jsx)(oa,{src:"scrubber.svg"})})]})})},sa=re.c.div(wi||(wi=Object(Z.a)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  padding: 0 ",";\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n"])),se.SM),la=re.c.h3(ki||(ki=Object(Z.a)(["\n  font-size: 12px;\n  margin: auto 0;\n  width: 30px;\n  text-align: ",";\n  white-space: nowrap;\n"])),(function(e){return e.textAlign})),ua=function(e){var t=e.isScrubbing,n=Ue(),i=n.playbackInfo,r=n.seekToTime,a=i.currentTime,o=i.duration,c=i.isPlaying,s=Object(J.useState)(a),l=Object(te.a)(s,2),u=l[0],d=l[1],b=Object(J.useMemo)((function(){return Math.round(u/o*100)}),[o,u]),p=Object(J.useMemo)((function(){return o-u}),[o,u]),f=Object(J.useState)(!1),v=Object(te.a)(f,2),h=v[0],j=v[1],g=Object(ta.useDebouncedCallback)((function(e){r(e),j(!1)}),300),x=Object(J.useCallback)((function(){if(u!==o&&t){var e=u+1;e<o&&(j(!0),g(e),d(e))}}),[u,o,t,g]),m=Object(J.useCallback)((function(){if(0!==u&&t){var e=u-1;e>=0&&(j(!0),g(e),d(e))}}),[u,g,t]),O=Object(J.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(!h&&c||e)&&d(a)}),[a,h,c]);return Qe("forwardscroll",x),Qe("backwardscroll",m),pt(O,1e3),Object(ne.jsxs)(sa,{children:[Object(ne.jsx)(la,{textAlign:"left",children:St(u)}),Object(ne.jsx)(ca,{percent:b,isScrubber:!0}),Object(ne.jsxs)(la,{textAlign:"right",children:["-",St(p)]})]})},da=re.c.svg(Si||(Si=Object(Z.a)([""]))),ba=function(e){var t=e.size,n=void 0===t?24:t,i=e.className;return Object(ne.jsx)(da,{className:i,version:"1.1",x:"0px",y:"0px",viewBox:"0 0 2400 2400",width:n,height:n,children:Object(ne.jsxs)("g",{strokeWidth:"200",strokeLinecap:"round",stroke:"#000000",fill:"none",id:"spinner",children:[Object(ne.jsx)("line",{x1:"1200",y1:"600",x2:"1200",y2:"100"}),Object(ne.jsx)("line",{opacity:"0.5",x1:"1200",y1:"2300",x2:"1200",y2:"1800"}),Object(ne.jsx)("line",{opacity:"0.917",x1:"900",y1:"680.4",x2:"650",y2:"247.4"}),Object(ne.jsx)("line",{opacity:"0.417",x1:"1750",y1:"2152.6",x2:"1500",y2:"1719.6"}),Object(ne.jsx)("line",{opacity:"0.833",x1:"680.4",y1:"900",x2:"247.4",y2:"650"}),Object(ne.jsx)("line",{opacity:"0.333",x1:"2152.6",y1:"1750",x2:"1719.6",y2:"1500"}),Object(ne.jsx)("line",{opacity:"0.75",x1:"600",y1:"1200",x2:"100",y2:"1200"}),Object(ne.jsx)("line",{opacity:"0.25",x1:"2300",y1:"1200",x2:"1800",y2:"1200"}),Object(ne.jsx)("line",{opacity:"0.667",x1:"680.4",y1:"1500",x2:"247.4",y2:"1750"}),Object(ne.jsx)("line",{opacity:"0.167",x1:"2152.6",y1:"650",x2:"1719.6",y2:"900"}),Object(ne.jsx)("line",{opacity:"0.583",x1:"900",y1:"1719.6",x2:"650",y2:"2152.6"}),Object(ne.jsx)("line",{opacity:"0.083",x1:"1750",y1:"247.4",x2:"1500",y2:"680.4"}),Object(ne.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",keyTimes:"0;0.08333;0.16667;0.25;0.33333;0.41667;0.5;0.58333;0.66667;0.75;0.83333;0.91667",values:"0 1199 1199;30 1199 1199;60 1199 1199;90 1199 1199;120 1199 1199;150 1199 1199;180 1199 1199;210 1199 1199;240 1199 1199;270 1199 1199;300 1199 1199;330 1199 1199",dur:"0.83333s",begin:"0s",repeatCount:"indefinite",calcMode:"discrete"})]})})},pa=re.c.div(Pi||(Pi=Object(Z.a)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  padding: 0 ",";\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n"])),se.SM),fa=re.c.h3(Ci||(Ci=Object(Z.a)(["\n  font-size: 12px;\n  margin: auto 0;\n  width: 30px;\n  text-align: ",";\n"])),(function(e){return e.textAlign})),va=function(){var e=Ue(),t=e.playbackInfo,n=e.updatePlaybackInfo,i=t.isLoading,r=t.isPlaying,a=t.isPaused,o=t.currentTime,c=t.percent,s=t.timeRemaining;return pt((function(){r&&!a&&n()}),1e3),Object(ne.jsxs)(pa,{children:[i?Object(ne.jsx)(ba,{size:14}):Object(ne.jsx)(fa,{textAlign:"left",children:St(o)}),Object(ne.jsx)(ca,{percent:c}),Object(ne.jsxs)(fa,{textAlign:"right",children:["-",St(s)]})]})},ha=re.c.div(Mi||(Mi=Object(Z.a)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  padding: 0 ",";\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n"])),se.SM),ja=re.c.img(Ii||(Ii=Object(Z.a)(["\n  font-size: 12px;\n  margin: auto 0;\n  width: 30px;\n  height: 16px;\n"]))),ga=function(e){var t=e.percent;return Object(ne.jsxs)(ha,{children:[Object(ne.jsx)(ja,{src:"volume_mute.svg"}),Object(ne.jsx)(ca,{percent:t}),Object(ne.jsx)(ja,{src:"volume_full.svg"})]})},xa=re.c.div(Li||(Li=Object(Z.a)(["\n  position: relative;\n  width: 100%;\n  padding: 0 "," ",";\n"])),se.MD,se.MD),ma=re.c.div(Ti||(Ti=Object(Z.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: ",";\n  right: ",";\n  transition: transform 0.3s;\n\n  transform: ",";\n"])),se.XS,se.XS,(function(e){return e.isHidden&&"translateX(-110%)"})),Oa=re.c.div(Ai||(Ai=Object(Z.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: ",";\n  right: ",";\n  transition: transform 0.3s;\n\n  transform: ",";\n"])),se.XS,se.XS,(function(e){return e.isHidden&&"translateX(110%)"})),ya=function(){var e=Ve(),t=e.volume,n=e.active,i=e.setEnabled,r=Object(J.useState)(!1),a=Object(te.a)(r,2),o=a[0],c=a[1],s=Object(J.useCallback)((function(){o?(i(!0),c(!1)):(i(!1),c(!0))}),[o,i]);return Qe("centerclick",s),Object(ne.jsxs)(xa,{children:[Object(ne.jsx)(ma,{isHidden:o,children:n&&!o&&Object(ne.jsx)(ga,{percent:100*t})}),Object(ne.jsx)(ma,{hidden:n&&!o,isHidden:o,children:Object(ne.jsx)(va,{})}),Object(ne.jsx)(Oa,{isHidden:!o,children:Object(ne.jsx)(ua,{isScrubbing:o})})]})},wa=re.c.div(Ei||(Ei=Object(Z.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 6px;\n  height: 20px;\n  background: linear-gradient(180deg, #feffff 0%, #b1b6b9 100%);\n  border-bottom: 1px solid #7995a3;\n  box-sizing: border-box;\n"]))),ka=re.c.h3(zi||(zi=Object(Z.a)(["\n  margin: 0;\n  font-size: 13px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),Sa=re.c.div(Ni||(Ni=Object(Z.a)(["\n  display: flex;\n"]))),Pa=re.c.img(Hi||(Hi=Object(Z.a)(["\n  max-height: 12px;\n  margin-left: 8px;\n"]))),Ca=Object(re.c)(ea)(Fi||(Fi=Object(Z.a)(["\n  margin-left: 8px;\n"]))),Ma=function(){var e=lr().headerTitle,t=Ue().playbackInfo,n=t.isPlaying,i=t.isPaused,r=t.isLoading;return e?Object(ne.jsxs)(wa,{children:[Object(ne.jsx)(ka,{children:e}),Object(ne.jsxs)(Sa,{children:[r&&Object(ne.jsx)(Sa,{children:Object(ne.jsx)(ba,{size:10})}),n&&!i&&Object(ne.jsx)(Pa,{src:"play.svg"}),i&&Object(ne.jsx)(Pa,{src:"pause.svg"}),Object(ne.jsx)(Ca,{})]})]}):null},Ia=re.c.div(Ui||(Ui=Object(Z.a)([""]))),La=re.c.img(Vi||(Vi=Object(Z.a)(["\n  z-index: ",";\n  position: absolute;\n  height: 100%;\n  right: 0;\n  animation: "," 20s;\n  opacity: ",";\n  transition: opacity 2s;\n\n  @keyframes kenBurns {\n    0% {\n      transform: translateX(0%);\n    }\n\n    100% {\n      transform: translateX(10%);\n    }\n  }\n"])),(function(e){return e.zIndex}),(function(e){return e.startedAnimation&&"kenBurns"}),(function(e){return e.isHidden&&0})),Ta=function(e){var t=e.urls,n=Object(J.useState)([]),i=Object(te.a)(n,2),r=i[0],a=i[1],o=Object(J.useState)(!1),c=Object(te.a)(o,2),s=c[0],l=c[1],u=Object(J.useRef)();Object(J.useEffect)((function(){a(t)}),[t]);var d=Object(J.useCallback)((function(){return l(!0),u.current=setTimeout((function(){var e=r.slice(1);a([].concat(Object(ee.a)(e),[r[0]])),l(!1)}),2e3),function(){u.current&&clearTimeout(u.current)}}),[r]);return pt(d,5e3),Object(ne.jsx)(Ia,{children:r.slice(0,2).map((function(e,t){return Object(ne.jsx)(La,{zIndex:3-t,src:e,startedAnimation:0===t||s,isHidden:s&&0===t},"ken-burns-".concat(e))}))})},Aa=Object(re.c)(pe.a.div)(Bi||(Bi=Object(Z.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  background: ",";\n"])),(function(e){return e.backgroundColor})),Ea=function(e){var t=e.size,n=e.backgroundColor;return Object(ne.jsx)(Aa,Object(ge.a)(Object(ge.a)({},Xt),{},{backgroundColor:n,children:Object(ne.jsx)("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 2400 2400",width:t||24,height:t||24,children:Object(ne.jsxs)("g",{strokeWidth:"200",strokeLinecap:"round",stroke:"#000000",fill:"none",id:"spinner",children:[Object(ne.jsx)("line",{x1:"1200",y1:"600",x2:"1200",y2:"100"}),Object(ne.jsx)("line",{opacity:"0.5",x1:"1200",y1:"2300",x2:"1200",y2:"1800"}),Object(ne.jsx)("line",{opacity:"0.917",x1:"900",y1:"680.4",x2:"650",y2:"247.4"}),Object(ne.jsx)("line",{opacity:"0.417",x1:"1750",y1:"2152.6",x2:"1500",y2:"1719.6"}),Object(ne.jsx)("line",{opacity:"0.833",x1:"680.4",y1:"900",x2:"247.4",y2:"650"}),Object(ne.jsx)("line",{opacity:"0.333",x1:"2152.6",y1:"1750",x2:"1719.6",y2:"1500"}),Object(ne.jsx)("line",{opacity:"0.75",x1:"600",y1:"1200",x2:"100",y2:"1200"}),Object(ne.jsx)("line",{opacity:"0.25",x1:"2300",y1:"1200",x2:"1800",y2:"1200"}),Object(ne.jsx)("line",{opacity:"0.667",x1:"680.4",y1:"1500",x2:"247.4",y2:"1750"}),Object(ne.jsx)("line",{opacity:"0.167",x1:"2152.6",y1:"650",x2:"1719.6",y2:"900"}),Object(ne.jsx)("line",{opacity:"0.583",x1:"900",y1:"1719.6",x2:"650",y2:"2152.6"}),Object(ne.jsx)("line",{opacity:"0.083",x1:"1750",y1:"247.4",x2:"1500",y2:"680.4"}),Object(ne.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",keyTimes:"0;0.08333;0.16667;0.25;0.33333;0.41667;0.5;0.58333;0.66667;0.75;0.83333;0.91667",values:"0 1199 1199;30 1199 1199;60 1199 1199;90 1199 1199;120 1199 1199;150 1199 1199;180 1199 1199;210 1199 1199;240 1199 1199;270 1199 1199;300 1199 1199;330 1199 1199",dur:"0.83333s",begin:"0s",repeatCount:"indefinite",calcMode:"discrete"})]})})}))},za=re.c.div(Ri||(Ri=Object(Z.a)(["\n  height: 100%;\n  overflow: hidden;\n"]))),Na=re.c.div(_i||(_i=Object(Z.a)(["\n  display: flex;\n  height: 70%;\n  padding: 0 ",";\n"])),se.XS),Ha=re.c.div(Xi||(Xi=Object(Z.a)(["\n  height: 8em;\n  width: 8em;\n  margin: auto ",";\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(70%, transparent), to(rgba(250, 250, 250, 0.1)));\n  transform-style: preserve-3d;\n  perspective: 500px;\n  opacity: ",";\n"])),se.SM,(function(e){return e.isHidden&&0})),Fa=re.c.img(Di||(Di=Object(Z.a)(["\n  height: 100%;\n  width: 100%;\n  transform: rotateY(18deg);\n  border: 1px solid #f3f3f3;\n"]))),Ua=re.c.div(Wi||(Wi=Object(Z.a)(["\n  flex: 1;\n  margin: auto 0 auto clamp(0.5rem, 5vw, 0.5rem);\n"]))),Va=re.c.h3(Gi||(Gi=Object(Z.a)(["\n  margin: 0;\n  font-size: 0.92rem;\n"]))),Ba=Object(re.c)(Va)(Ki||(Ki=Object(Z.a)(["\n  color: rgb(99, 101, 103);\n  font-size: 0.75rem;\n"]))),Ra=re.c.div(Yi||(Yi=Object(Z.a)(["\n  display: flex;\n  align-items: center;\n  height: 30%;\n"]))),_a=function(e){var t,n=e.hideArtwork,i=e.onHide,r=Ue(),a=r.nowPlayingItem,o=r.updateNowPlayingItem,c=r.updatePlaybackInfo,s=Object(J.useCallback)((function(e){e.state===MusicKit.PlaybackStates.completed&&i()}),[i]);return bt((function(){o(),c()})),De("playbackStateDidChange",s),Object(ne.jsxs)(za,{children:[Object(ne.jsxs)(Na,{children:[Object(ne.jsx)(Ha,{isHidden:n,children:Object(ne.jsx)(Fa,{src:null===a||void 0===a||null===(t=a.artwork)||void 0===t?void 0:t.url})}),Object(ne.jsxs)(Ua,{children:[Object(ne.jsx)(Va,{children:null===a||void 0===a?void 0:a.name}),Object(ne.jsx)(Ba,{children:null===a||void 0===a?void 0:a.artistName}),Object(ne.jsx)(Ba,{children:null===a||void 0===a?void 0:a.albumName})]})]}),Object(ne.jsx)(Ra,{children:Object(ne.jsx)(ya,{})})]})},Xa=re.c.svg(Qi||(Qi=Object(Z.a)(["\n  position: absolute;\n  margin: ",";\n  top: ",";\n  bottom: ",";\n  left: ",";\n  right: ",";\n  user-select: none;\n  pointer-events: none;\n  max-height: 13px;\n"])),(function(e){return e.margin}),(function(e){return e.top}),(function(e){return e.bottom}),(function(e){return e.left}),(function(e){return e.right})),Da=function(e){return Object(ne.jsxs)(Xa,Object(ge.a)(Object(ge.a)({width:"33",height:"16",viewBox:"0 0 33 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(ne.jsx)("path",{d:"M16 8L4 14.9282L4 1.0718L16 8Z",fill:e.color}),Object(ne.jsx)("path",{d:"M29 8L17 14.9282V1.0718L29 8Z",fill:e.color}),Object(ne.jsx)("rect",{x:"29",width:"4",height:"15",fill:e.color})]}))},Wa=function(e){return Object(ne.jsx)(Xa,Object(ge.a)(Object(ge.a)({width:"61",height:"17",viewBox:"0 0 61 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(ne.jsx)("path",{d:"M10.6177 0.885742H15.1602V16H12.2173V5.77686C12.2173 5.48291 12.2207 5.07275 12.2275 4.54639C12.2344 4.01318 12.2378 3.60303 12.2378 3.31592L9.37695 16H6.31104L3.4707 3.31592C3.4707 3.60303 3.47412 4.01318 3.48096 4.54639C3.48779 5.07275 3.49121 5.48291 3.49121 5.77686V16H0.54834V0.885742H5.14209L7.89014 12.77L10.6177 0.885742ZM29.6895 3.56201H21.6915V6.77148H29.0333V9.39648H21.6915V13.2827H30.0587V16H18.6051V0.885742H29.6895V3.56201ZM32.8883 0.885742H36.2004L42.2194 11.437V0.885742H45.1623V16H42.0041L35.8312 5.26416V16H32.8883V0.885742ZM48.5354 0.885742H51.7449V10.1758C51.7449 11.2148 51.8679 11.9736 52.114 12.4521C52.4968 13.2998 53.3308 13.7236 54.616 13.7236C55.8943 13.7236 56.7248 13.2998 57.1077 12.4521C57.3537 11.9736 57.4768 11.2148 57.4768 10.1758V0.885742H60.6863V10.1758C60.6863 11.7822 60.4368 13.0332 59.9377 13.9287C59.008 15.5693 57.2341 16.3896 54.616 16.3896C51.9978 16.3896 50.2204 15.5693 49.2839 13.9287C48.7849 13.0332 48.5354 11.7822 48.5354 10.1758V0.885742Z",fill:e.color})}))},Ga=function(e){return Object(ne.jsxs)(Xa,Object(ge.a)(Object(ge.a)({width:"39",height:"18",viewBox:"0 0 39 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(ne.jsx)("path",{d:"M18 9L4.5 16.7942L4.5 1.20577L18 9Z",fill:e.color}),Object(ne.jsx)("rect",{x:"26",y:"1",width:"4",height:"16",fill:e.color}),Object(ne.jsx)("rect",{x:"35",y:"1",width:"4",height:"16",fill:e.color})]}))},Ka=function(e){return Object(ne.jsxs)(Xa,Object(ge.a)(Object(ge.a)({width:"33",height:"16",viewBox:"0 0 33 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(ne.jsx)("path",{d:"M17 8L29 1.0718V14.9282L17 8Z",fill:e.color}),Object(ne.jsx)("path",{d:"M4 8L16 1.0718V14.9282L4 8Z",fill:e.color}),Object(ne.jsx)("rect",{x:"4",y:"16",width:"4",height:"15",transform:"rotate(-180 4 16)",fill:e.color})]}))},Ya=re.c.div(qi||(qi=Object(Z.a)(["\n  user-select: none;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  margin: auto 0;\n  touch-action: none;\n  transform: translate3d(0, 0, 0);\n"]))),Qa=re.c.div(Zi||(Zi=Object(Z.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ","px;\n  height: ","px;\n"])),(function(e){return e.width}),(function(e){return e.height})),qa=re.c.canvas(Ji||(Ji=Object(Z.a)(["\n  border-radius: 50%;\n  border: 1px solid ",";\n  background: ",";\n"])),(function(e){var t=e.deviceTheme;return nt(t).knob.outline}),(function(e){var t=e.deviceTheme;return nt(t).knob.background})),Za=re.c.div($i||($i=Object(Z.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  width: ","px;\n  height: ","px;\n  border-radius: 50%;\n  box-shadow: ","\n    0px 1em 3em inset;\n  background: ",";\n  border: 1px solid\n    ","};\n\n  :active {\n    filter: brightness(0.9);\n  }\n"])),(function(e){return e.size/2.5}),(function(e){return e.size/2.5}),(function(e){var t=e.deviceTheme;return nt(t).knob.centerButton.boxShadow}),(function(e){var t=e.deviceTheme;return nt(t).knob.centerButton.background}),(function(e){var t=e.deviceTheme;return nt(t).knob.centerButton.outline})),Ja=360*Math.PI/180,$a=0*Math.PI/180,eo=1.5*Math.PI+$a,to=1.5*Math.PI+$a+Ja,no=function(e){var t=e.value,n=e.onChange,i=e.onChangeEnd,r=void 0===i?function(){}:i,a=e.onWheelClick,o=void 0===a?function(){}:a,c=e.onClick,s=void 0===c?function(){}:c,l=e.onLongPress,u=void 0===l?function(){}:l,d=e.onMenuLongPress,b=void 0===d?function(){}:d,p=e.min,f=void 0===p?0:p,v=e.max,h=void 0===v?100:v,j=e.step,g=void 0===j?1:j,x=e.width,m=void 0===x?200:x,O=e.height,y=void 0===O?200:O,w=e.thickness,k=void 0===w?.35:w,S=e.bgColor,P=void 0===S?"#EEE":S,C=e.fgColor,M=void 0===C?"#EA2":C,I=e.className,L=e.canvasClassName,T=ct().deviceTheme,A=Object(J.useRef)(),E=Object(J.useRef)(),z=function(e){return e.preventDefault(),e.target.setAttribute("longpress",(new Date).getTime()),u(e),!1},N=function(e){e.preventDefault(),e.target.setAttribute("longpress",(new Date).getTime());var t=e.target.getBoundingClientRect(),n=e.detail.clientX-t.left,i=e.detail.clientY-t.top;console.log({x:n,y:i});var r=t.width;1===X(r,n,i)&&function(e){b(e)}(e)},H=function(e){var t,n=null===(t=A.current)||void 0===t?void 0:t.getBoundingClientRect();if(!n)return 0;var i=e.clientX-n.left,r=e.clientY-n.top,a=Math.atan2(i-m/2,m/2-r)-$a;return Ja!==2*Math.PI&&a<0&&a>-.5?a=0:a<0&&(a+=2*Math.PI),function(e){var t=~~((e<0?-.5:.5)+e/g)*g;return t=Math.max(Math.min(t,h),f),isNaN(t)&&(t=0),Math.round(1e3*t)/1e3}(a*(h-f)/Ja+f)},F=function(e){n(H(e)),document.addEventListener("mousemove",V),document.addEventListener("mouseup",D)},U=function(e){n(H(e)),document.addEventListener("touchmove",B),document.addEventListener("touchend",W),document.removeEventListener("mousedown",F)},V=function(e){e.preventDefault(),H(e)!==t&&n(H(e)),document.removeEventListener("mouseup",D),document.addEventListener("mouseup",R)},B=function(e){e.preventDefault();var i=e,r=i.targetTouches.length-1,a=H(i.targetTouches[r]);a!==t&&n(a),A.current&&(A.current.removeEventListener("long-press",N),document.removeEventListener("touchend",W),document.addEventListener("touchend",_))},R=function e(t){r(H(t)),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",e)},_=function e(t){var n=t,i=n.targetTouches.length-1;r(n.targetTouches[i]),document.removeEventListener("touchmove",B),document.removeEventListener("touchend",e),A.current&&A.current.addEventListener("long-press",N)},X=function(e,t,n){return n<e/4?1:n>.75*e?2:t<e/4?3:t>.75*e?4:-1},D=function e(t){var n=t,i=n.target.getBoundingClientRect(),r=n.clientX-i.left,a=n.clientY-i.top,c=i.width,s=X(c,r,a);s>0&&s<=4&&o(s),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",R),document.removeEventListener("mouseup",e)},W=function e(t){var n=t,i=n.target.getBoundingClientRect(),r=n.changedTouches[n.changedTouches.length-1],a=r.pageX-i.left,c=r.pageY-i.top,s=i.width,l=X(s,a,c);l>0&&l<=4&&o(l),document.removeEventListener("touchmove",B),document.removeEventListener("touchend",_),document.removeEventListener("touchend",e)},G=function(){if(A.current){var e=A.current.getContext("2d"),n=function(e){return(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI||1)/(e.webkitBackingStorePixelRatio||1)}(e);A.current.width=m*n,A.current.height=y*n,e.scale(n,n);var i=m/2,r=i*k,a=i-r/2;e.lineWidth=r,e.lineCap="butt",e.beginPath(),e.strokeStyle=P,e.arc(i,i,a,to-1e-5,eo+1e-5,!0),e.stroke();var o=function(e){var t=eo-1e-5;return{startAngle:t,endAngle:t+(e-f)*Ja/(h-f)+1e-5,acw:!1}}(t);e.beginPath(),e.strokeStyle=M,e.arc(i,i,a,o.startAngle,o.endAngle,o.acw),e.stroke()}};bt((function(){if(A.current&&E.current){var e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;return G(),e?A.current.addEventListener("touchstart",U):A.current.addEventListener("mousedown",F),E.current.addEventListener("long-press",z),A.current.addEventListener("long-press",N),function(){A.current&&E.current?(e?A.current.removeEventListener("touchstart",U):A.current.removeEventListener("mousedown",F),E.current.removeEventListener("long-press",z),A.current.removeEventListener("long-press",N)):console.error("Things didn't mount properly!")}}console.error("Things didn't mount properly!")})),Object(J.useEffect)((function(){G()}));var K=nt(T).knob.button;return Object(ne.jsx)(Ya,{className:I,children:Object(ne.jsxs)(Qa,{width:m,height:y,children:[Object(ne.jsx)(qa,{ref:function(e){A.current=null!==e&&void 0!==e?e:void 0},className:L,style:{width:"100%",height:"100%"},deviceTheme:T}),Object(ne.jsx)(Za,{ref:function(e){E.current=null!==e&&void 0!==e?e:void 0},onClick:s,size:m,deviceTheme:T}),Object(ne.jsx)(Wa,{top:"8%",margin:"0 auto",color:K}),Object(ne.jsx)(Ga,{bottom:"8%",margin:"0 auto",color:K}),Object(ne.jsx)(Ka,{left:"8%",margin:"auto 0",color:K}),Object(ne.jsx)(Da,{right:"8%",margin:"auto 0",color:K})]})})},io=function(e){return new Event(e)};!function(e){e[e.TOP=1]="TOP",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT"}(er||(er={}));var ro,ao,oo,co,so,lo,uo,bo,po,fo,vo,ho,jo,go,xo,mo,Oo,yo,wo,ko,So,Po,Co,Mo,Io,Lo,To,Ao,Eo,zo,No,Ho,Fo,Uo,Vo,Bo,Ro,_o,Xo,Do=io("centerclick"),Wo=io("centerlongclick"),Go=io("forwardscroll"),Ko=io("backwardscroll"),Yo=io("wheelclick"),Qo=io("menuclick"),qo=io("menulongpress"),Zo=io("backwardclick"),Jo=io("forwardclick"),$o=io("playpauseclick"),ec=io("idle"),tc=function(){var e=ct().deviceTheme,t=Object(J.useState)(0),n=Object(te.a)(t,2),i=n[0],r=n[1],a=Object(J.useRef)(),o=Object(J.useCallback)((function(){return window.dispatchEvent(Do)}),[]),c=Object(J.useCallback)((function(e){e.preventDefault(),window.dispatchEvent(Wo)}),[]),s=Object(J.useCallback)((function(e){e.preventDefault(),window.dispatchEvent(qo)}),[]),l=Object(J.useCallback)((function(){return window.dispatchEvent(Go)}),[]),u=Object(J.useCallback)((function(){window.dispatchEvent(Ko)}),[]),d=Object(J.useCallback)((function(){clearTimeout(a.current),a.current=setTimeout((function(){window.dispatchEvent(ec)}),1e4)}),[]),b=Object(J.useCallback)((function(e){switch(window.dispatchEvent(Yo),e){case er.TOP:window.dispatchEvent(Qo);break;case er.BOTTOM:window.dispatchEvent($o);break;case er.LEFT:window.dispatchEvent(Zo);break;case er.RIGHT:window.dispatchEvent(Jo)}d()}),[d]),p=Object(J.useCallback)((function(e){switch(e.key){case"ArrowUp":case"ArrowLeft":u();break;case"ArrowDown":case"ArrowRight":l();break;case"Enter":o();break;case" ":case"Spacebar":b(er.BOTTOM);break;case"Escape":b(er.TOP)}d()}),[d,u,l,o,b]),f=Object(J.useCallback)((function(e){r((function(t){return 5===e&&100===t?l():100===e&&5===t?u():e>t?l():e<t&&u(),e})),d()}),[l,u,d]);return Qe("keydown",p),bt(d),Object(ne.jsx)(no,{value:i,min:0,max:100,width:220,height:220,step:5,fgColor:"transparent",bgColor:nt(e).knob.background,thickness:.6,onClick:o,onLongPress:c,onMenuLongPress:s,onWheelClick:b,onChange:f})},nc=Object(re.c)(pe.a.div)(ro||(ro=Object(Z.a)(["\n  z-index: ",";\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"])),(function(e){return e.index})),ic=re.c.div(ao||(ao=Object(Z.a)(["\n  position: relative;\n  width: 100%;\n  padding: "," 0;\n  background: linear-gradient(180deg, #bbbcbf 0%, #626770 11.69%, #626770 100%);\n  box-shadow: 0 0px 4px black;\n"])),se.XS),rc=re.c.h3(oo||(oo=Object(Z.a)(["\n  margin: 0;\n  padding: "," ",";\n  font-size: 16px;\n  background: linear-gradient(180deg, #ffffff 0%, #cbccce 48.44%, #dfdfdf 100%);\n  border: 3px solid #3e4249;\n  border-radius: 12px;\n  text-shadow: 0px 0px 1px #505050;\n"])),se.XS,se.XXS),ac=re.c.div(co||(co=Object(Z.a)(["\n  padding: "," ",";\n  text-align: center;\n  border: 3px solid transparent;\n\n  ",";\n\n  :last-of-type {\n    margin-top: ",";\n\n    "," {\n      background: linear-gradient(\n        180deg,\n        #707379 0%,\n        #3b3f46 48.44%,\n        #363c44 100%\n      );\n      color: white;\n    }\n  }\n"])),se.XXS,se.MD,(function(e){return e.highlighted&&Object(re.b)(so||(so=Object(Z.a)(["\n      "," {\n        background: linear-gradient(\n          rgb(60, 184, 255) 0%,\n          rgb(52, 122, 181) 100%\n        ) !important;\n        color: white !important;\n        border: 3px solid #ececec;\n      }\n    "])),rc)}),se.XXS,rc),oc=function(e){var t=e.windowStack,n=e.index,i=e.isHidden,r=lr().hideWindow,a=t[n];qe(a.id);var o=Object(J.useMemo)((function(){var e=a.type===Nn.ACTION_SHEET?a.listOptions:[];return[].concat(Object(ee.a)(e),[{type:"Action",label:"Cancel",onSelect:function(){}}])}),[a]),c=Object(J.useMemo)((function(){return o.find((function(e){return!0===e.isSelected}))}),[o]);Qe("centerclick",(function(){r()}));var s=or(a.id,o,c),l=Object(te.a)(s,1)[0];return Object(ne.jsx)(nc,Object(ge.a)(Object(ge.a)({"data-window-id":a.id,index:n},Rt),{},{children:Object(ne.jsx)(ic,{isHidden:i,children:o.map((function(e,t){return Object(ne.jsx)(ac,{highlighted:l===t,children:Object(ne.jsx)(rc,{children:e.label})},"popup-option-".concat(e.label))}))})}))},cc=re.c.div(lo||(lo=Object(Z.a)(["\n  z-index: 4;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: ",";\n  transition: all 0.25s ease;\n"])),(function(e){return e.isHidden?"transparent":"rgba(0, 0, 0, 0.5)"})),sc=function(e){var t=e.windowStack,n=0===t.length;return Object(ne.jsx)(cc,{"data-stack-type":"action-sheet",isHidden:n,children:Object(ne.jsx)(fe.a,{children:t.map((function(e,n){return Object(ne.jsx)(oc,{windowStack:t,index:n,isHidden:n<t.length-1},"window-".concat(e.id))}))})})},lc=Object(re.c)(pe.a.div)(uo||(uo=Object(Z.a)(["\n  z-index: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),uc=function(e){var t=e.window,n=(null===t||void 0===t?void 0:t.type)===Nn.COVER_FLOW?t.component:null;return Object(ne.jsx)(fe.a,{children:!!n&&Object(ne.jsxs)(lc,Object(ge.a)(Object(ge.a)({},Xt),{},{"data-stack-type":"coverflow",children:[Object(ne.jsx)(Ma,{}),Object(ne.jsx)(n,{})]}))})},dc=Object(re.c)(pe.a.div)(bo||(bo=Object(Z.a)(["\n  z-index: ",";\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.index})),bc=re.c.div(po||(po=Object(Z.a)(["\n  position: relative;\n  background: linear-gradient(\n    180deg,\n    #a2a8b7 0%,\n    rgba(38, 52, 88, 0.92) 20.6%,\n    #28365a 100%\n  );\n  width: 80%;\n  padding: ",";\n  box-shadow: 0px 6px 5px rgba(0, 0, 0, 0.39);\n  border: 2.5px solid white;\n  border-radius: 12px;\n  color: white;\n  font-weight: 500;\n  text-align: center;\n"])),se.XXS),pc=re.c.h3(fo||(fo=Object(Z.a)(["\n  margin: "," 0 ",";\n  font-size: 16px;\n"])),se.XS,se.XS),fc=Object(re.c)(pc)(vo||(vo=Object(Z.a)(["\n  margin: "," 0 ",";\n  font-size: 14px;\n  font-weight: 400;\n"])),se.XS,se.XS),vc=re.c.div(ho||(ho=Object(Z.a)(["\n  display: flex;\n"]))),hc=re.c.h3(jo||(jo=Object(Z.a)(["\n  margin: 0;\n  padding: "," ",";\n  font-size: 16px;\n  background: linear-gradient(180deg, #8c94a8 0%, #334164 44.97%, #445070 100%);\n  border: 2px solid #242e47;\n  border-radius: 8px;\n\n  text-shadow: 0px 0px 1px #505050;\n"])),se.XS,se.XXS),jc=re.c.div(go||(go=Object(Z.a)(["\n  flex: 1;\n  text-align: center;\n  border: 2px solid transparent;\n  margin-top: 8px;\n\n  ",";\n"])),(function(e){return e.highlighted&&Object(re.b)(xo||(xo=Object(Z.a)(["\n      "," {\n        border: 2px solid #ececec;\n        filter: brightness(120%);\n      }\n    "])),hc)})),gc=function(e){var t=e.windowStack,n=e.index,i=e.isHidden,r=t[n];qe(r.id);var a=lr().hideWindow;if(r.type!==Nn.POPUP)throw new Error("Popup option not supplied");var o=Object(J.useMemo)((function(){var e=r.type===Nn.POPUP?r.listOptions:[];return e.length?e:[{type:"Action",label:"Done",onSelect:function(){}}]}),[r.listOptions,r.type]),c=or(r.id,o),s=Object(te.a)(c,1)[0];return Qe("centerclick",(function(){a()})),Object(ne.jsx)(dc,Object(ge.a)(Object(ge.a)({"data-window-id":r.id,index:n},_t),{},{children:Object(ne.jsxs)(bc,{isHidden:i,children:[Object(ne.jsx)(pc,{children:r.title}),Object(ne.jsx)(fc,{children:r.description}),Object(ne.jsx)(vc,{children:o.map((function(e,t){return Object(ne.jsx)(jc,{highlighted:s===t,children:Object(ne.jsx)(hc,{children:e.label})},"popup-option-".concat(e.label))}))})]})}))},xc=Object(re.c)(pe.a.div)(mo||(mo=Object(Z.a)(["\n  z-index: ",";\n  position: absolute;\n  bottom: 12px;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.index})),mc=re.c.div(Oo||(Oo=Object(Z.a)(["\n  position: relative;\n  width: 95%;\n  padding: 12px 8px;\n  background: linear-gradient(\n    180deg,\n    #ffffff 0%,\n    #a9a9a9 9.7%,\n    #232323 50.24%,\n    #181d1b 89.58%\n  );\n  box-shadow: 0px 4px 5px rgba(0, 0, 0, 0.39);\n  border-radius: 8px;\n  color: white;\n"]))),Oc=re.c.div(yo||(yo=Object(Z.a)(["\n  display: flex;\n  background: linear-gradient(180deg, #000000 0%, rgba(102, 102, 102, 0) 100%);\n  border: 1px solid #454545;\n  box-sizing: border-box;\n  box-shadow: inset 0px 0px 3px #000000;\n  border-radius: 4px;\n  overflow: hidden;\n"]))),yc=re.c.h3(wo||(wo=Object(Z.a)(["\n  margin: 0;\n  line-height: 0.6;\n  padding: "," ",";\n  font-size: 16px;\n  border-radius: 8px;\n  width: 20px;\n"])),se.XS,se.XXS),wc=re.c.div(ko||(ko=Object(Z.a)(["\n  text-align: center;\n\n  ",";\n"])),(function(e){return e.highlighted&&Object(re.b)(So||(So=Object(Z.a)(["\n      background: linear-gradient(180deg, #8aebf7 0%, #258af9 100%);\n      border-radius: 4px;\n    "])))})),kc=[{key:"Enter",label:"\u2713"},{key:"delete",label:"\u232b"},{key:" ",label:"\u2423"},{key:"a",label:"A"},{key:"b",label:"B"},{key:"c",label:"C"},{key:"d",label:"D"},{key:"e",label:"E"},{key:"f",label:"F"},{key:"g",label:"G"},{key:"h",label:"H"},{key:"i",label:"I"},{key:"j",label:"J"},{key:"k",label:"K"},{key:"l",label:"L"},{key:"m",label:"M"},{key:"n",label:"N"},{key:"o",label:"O"},{key:"p",label:"P"},{key:"q",label:"Q"},{key:"r",label:"R"},{key:"s",label:"S"},{key:"t",label:"T"},{key:"u",label:"U"},{key:"v",label:"V"},{key:"w",label:"W"},{key:"x",label:"X"},{key:"y",label:"Y"},{key:"z",label:"Z"},{key:"1",label:"1"},{key:"2",label:"2"},{key:"3",label:"3"},{key:"4",label:"4"},{key:"5",label:"5"},{key:"6",label:"6"},{key:"7",label:"7"},{key:"8",label:"8"},{key:"9",label:"9"},{key:"0",label:"0"}],Sc=function(e){var t=e.windowStack,n=e.index,i=e.isHidden,r=t[n];qe(r.id);var a=Object(J.useRef)(null);if(r.type!==Nn.KEYBOARD)throw new Error("Keyboard option not supplied");vt({initialValue:r.initialValue,readOnly:!1});var o=Object(J.useCallback)((function(e){var t=new CustomEvent("input",{detail:{id:r.id,key:e}});window.dispatchEvent(t)}),[r.id]),c=Object(J.useMemo)((function(){return kc.map((function(e){return{type:"Action",label:e.label,onSelect:function(){return o(e.key)}}}))}),[o]),s=or(r.id,c),l=Object(te.a)(s,1)[0];return Object(J.useEffect)((function(){var e;a.current&&(null===(e=a.current.children[l])||void 0===e||e.scrollIntoView({block:"nearest"}))}),[l]),Object(ne.jsx)(xc,Object(ge.a)(Object(ge.a)({"data-window-id":r.id,index:n},_t),{},{children:Object(ne.jsx)(mc,{isHidden:i,children:Object(ne.jsx)(Oc,{ref:a,children:c.map((function(e,t){return Object(ne.jsx)(wc,{highlighted:l===t,children:Object(ne.jsx)(yc,{children:e.label})},"keyboard-option-".concat(e.label))}))})})}))},Pc=Object(re.c)(pe.a.div)(Po||(Po=Object(Z.a)(["\n  z-index: ",";\n  position: absolute;\n  top: ",";\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: white;\n"])),(function(e){return e.index}),(function(e){return e.showHeader?"20px":0})),Cc=re.c.div(Co||(Co=Object(Z.a)(["\n  height: 100%;\n  transition: transform 0.3s;\n  transform: ",";\n  overflow: auto;\n"])),(function(e){return e.isHidden&&"translateX(-100%)"})),Mc=function(e){var t=e.windowStack,n=e.index,i=e.isHidden,r=lr().headerTitle,a=t[n],o=0===n,c=Object(J.useMemo)((function(){switch(a.type){case Nn.FULL:case Nn.SPLIT:case Nn.COVER_FLOW:return a.component;default:return null}}),[a]);return Object(ne.jsx)(Pc,Object(ge.a)(Object(ge.a)({"data-window-id":a.id,index:n,showHeader:!!r},o?Gt:Bt),{},{children:Object(ne.jsx)(Cc,{isHidden:i,children:Object(ne.jsx)(c,{})})}))},Ic=re.c.div(Mo||(Mo=Object(Z.a)(["\n  z-index: 3;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: white;\n  transition: all 0.35s;\n  transform: ",";\n"])),(function(e){return e.isHidden&&"translateX(100%)"})),Lc=function(e){var t=e.windowStack,n=0===t.length;return Object(ne.jsxs)(Ic,{"data-stack-type":"fullscreen",isHidden:n,children:[Object(ne.jsx)(Ma,{}),Object(ne.jsx)(fe.a,{children:t.map((function(e,n){return Object(ne.jsx)(Mc,{windowStack:t,index:n,isHidden:n<t.length-1},"window-".concat(e.id))}))})]})},Tc=re.c.div(Io||(Io=Object(Z.a)(["\n  z-index: 4;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n"]))),Ac=function(e){var t=e.windowStack,n=0===t.length;return Object(ne.jsx)(Tc,{"data-stack-type":"keyboard",isHidden:n,children:Object(ne.jsx)(fe.a,{children:t.map((function(e,n){return Object(ne.jsx)(Sc,{windowStack:t,index:n,isHidden:n<t.length-1},"keyboard-".concat(e.id))}))})})},Ec=re.c.div(Lo||(Lo=Object(Z.a)(["\n  z-index: 4;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: ",";\n  transition: all 0.25s ease;\n"])),(function(e){return e.isHidden?"transparent":"rgba(0, 0, 0, 0.3)"})),zc=function(e){var t=e.windowStack,n=0===t.length;return Object(ne.jsx)(Ec,{"data-stack-type":"popup",isHidden:n,children:Object(ne.jsx)(fe.a,{children:t.map((function(e,n){return Object(ne.jsx)(gc,{windowStack:t,index:n,isHidden:n<t.length-1},"window-".concat(e.id))}))})})},Nc=re.c.div(To||(To=Object(Z.a)(["\n  z-index: 0;\n  position: relative;\n  flex: 0 0 50%;\n  background: white;\n  transition: all 0.35s;\n\n  ",";\n"])),(function(e){return e.isHidden&&Object(re.b)(Ao||(Ao=Object(Z.a)(["\n      transform: translateX(100%);\n      opacity: 0;\n      overflow: hidden;\n    "])))})),Hc=function(e){var t=e.isHidden,n=lr().preview,i=Hn[n];return Object(ne.jsxs)(Nc,{isHidden:t,children:[Object(ne.jsx)(fe.a,{children:n===Y.MUSIC&&Object(ne.jsx)(i,{})}),n!==Y.MUSIC&&Object(ne.jsx)(i,{})]})},Fc=re.c.div(Eo||(Eo=Object(Z.a)(["\n  z-index: 2;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n"]))),Uc=re.c.div(zo||(zo=Object(Z.a)(["\n  z-index: 1;\n  position: relative;\n  flex: 0 0 50%;\n  box-shadow: 0 0 24px black;\n  transition: all 0.35s;\n  overflow: hidden;\n\n  ",";\n"])),(function(e){return e.isHidden&&Object(re.b)(No||(No=Object(Z.a)(["\n      transition-delay: 0.05s;\n      transform: translateX(-100%);\n      box-shadow: none;\n    "])))})),Vc=function(e){var t=e.windowStack,n=e.menuHidden,i=e.allHidden;return Object(ne.jsxs)(Fc,{"data-stack-type":"splitscreen",children:[Object(ne.jsxs)(Uc,{isHidden:n||i,children:[Object(ne.jsx)(Ma,{}),Object(ne.jsx)(fe.a,{children:t.map((function(e,n){return Object(ne.jsx)(Mc,{windowStack:t,index:n,isHidden:n<t.length-1},"window-".concat(e.id))}))})]}),Object(ne.jsx)(Hc,{isHidden:i})]})},Bc=re.c.div(Ho||(Ho=Object(Z.a)(["\n  z-index: 100;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]))),Rc=function(){var e=lr(),t=e.windowStack,n=e.resetWindows,i=t.filter((function(e){return e.type===Nn.SPLIT})),r=t.filter((function(e){return e.type===Nn.FULL})),a=t.find((function(e){return e.type===Nn.COVER_FLOW})),o=t.filter((function(e){return e.type===Nn.ACTION_SHEET})),c=t.filter((function(e){return e.type===Nn.POPUP})),s=t.filter((function(e){return e.type===Nn.KEYBOARD}));return Qe("menulongpress",n),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(uc,{window:a}),Object(ne.jsx)(Vc,{windowStack:i,menuHidden:r.length>0,allHidden:!!a}),Object(ne.jsx)(Lc,{windowStack:r}),Object(ne.jsx)(sc,{windowStack:o}),Object(ne.jsx)(zc,{windowStack:c}),Object(ne.jsx)(Ac,{windowStack:s}),Object(ne.jsx)(Bc,{})]})},_c=Object(re.a)(Fo||(Fo=Object(Z.a)(["\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,\n      Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',\n      'Segoe UI Symbol';\n    font-size: 16px;\n    user-select: none;\n    -webkit-touch-callout: none;\n\n    @media (prefers-color-scheme: dark) {\n      background: black;\n    }\n  }\n"]))),Xc=re.c.div(Uo||(Uo=Object(Z.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Dc=re.c.div(Vo||(Vo=Object(Z.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 370px;\n  max-height: 37em;\n  margin: auto;\n  border-radius: 30px;\n  box-shadow: inset 0 0 2.4em #555;\n  background: ",";\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(50%, transparent), to(rgba(250, 250, 250, 0.3)));\n  animation: descend 1.5s ease;\n  overflow: hidden;\n\n  @media (prefers-color-scheme: dark) {\n    box-shadow: inset 0 0 2.4em black;\n  }\n\n  "," {\n    animation: none;\n    width: 100vw;\n    max-height: unset;\n    border-radius: 0;\n    -webkit-box-reflect: unset;\n  }\n\n  @keyframes descend {\n    0% {\n      transform: scale(0.3);\n      opacity: 0;\n    }\n\n    100% {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n"])),(function(e){var t=e.deviceTheme;return nt(t).body.background}),oe.SM.MediaQuery),Wc=re.c.div(Bo||(Bo=Object(Z.a)(["\n  position: absolute;\n  background: ",";\n  ",";\n"])),(function(e){var t,n=e.deviceTheme;return null===(t=nt(n).body.sticker1)||void 0===t?void 0:t.background}),(function(e){var t,n,i=e.deviceTheme;return null!==(t=null===(n=nt(i).body.sticker1)||void 0===n?void 0:n.styles)&&void 0!==t?t:{}})),Gc=re.c.div(Ro||(Ro=Object(Z.a)(["\n  position: absolute;\n  background: ",";\n  ",";\n"])),(function(e){var t,n=e.deviceTheme;return null===(t=nt(n).body.sticker2)||void 0===t?void 0:t.background}),(function(e){var t,n,i=e.deviceTheme;return null!==(t=null===(n=nt(i).body.sticker2)||void 0===n?void 0:n.styles)&&void 0!==t?t:{}})),Kc=re.c.div(_o||(_o=Object(Z.a)(["\n  position: absolute;\n  background: ",";\n  ",";\n"])),(function(e){var t,n=e.deviceTheme;return null===(t=nt(n).body.sticker3)||void 0===t?void 0:t.background}),(function(e){var t,n,i=e.deviceTheme;return null!==(t=null===(n=nt(i).body.sticker3)||void 0===n?void 0:n.styles)&&void 0!==t?t:{}})),Yc=re.c.div(Xo||(Xo=Object(Z.a)(["\n  position: relative;\n  height: 260px;\n  margin: "," "," 0;\n  border: 4px solid black;\n  border-radius: ",";\n  overflow: hidden;\n  background: white;\n  animation: fadeFromBlack 0.5s;\n\n  @keyframes fadeFromBlack {\n    0% {\n      filter: brightness(0);\n    }\n  }\n\n  "," {\n    margin: "," "," 0;\n  }\n"])),se.LG,se.LG,se.XS,oe.SM.MediaQuery,se.MD,se.MD),Qc=new $.QueryClient,qc=function(){var e=ct().deviceTheme;return Object(ne.jsxs)(Dc,{deviceTheme:e,children:[Object(ne.jsx)(Wc,{deviceTheme:e}),Object(ne.jsx)(Gc,{deviceTheme:e}),Object(ne.jsx)(Kc,{deviceTheme:e}),Object(ne.jsx)(Yc,{children:Object(ne.jsx)(sr,{children:Object(ne.jsx)(wr,{children:Object(ne.jsx)(Xe,{children:Object(ne.jsx)(Fe,{children:Object(ne.jsx)(Rc,{})})})})})}),Object(ne.jsx)(tc,{})]})},Zc=function(){return Object(ne.jsx)($.QueryClientProvider,{client:Qc,children:Object(ne.jsxs)(Xc,{children:[Object(ne.jsx)(_c,{}),Object(ne.jsx)(st,{children:Object(ne.jsx)(qc,{})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));q.a.render(Object(ne.jsx)(Zc,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[89,1,2]]]);
//# sourceMappingURL=main.59682ff5.chunk.js.map