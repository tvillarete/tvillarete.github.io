{"version":3,"sources":["components/constants/Screen.ts","components/constants/Unit.ts","hooks/useEventListener.ts","App/previews/GamesPreview.tsx","animation/index.tsx","queries/index.ts","App/previews/MusicPreview.tsx","utils/index.ts","services/audio.tsx","App/previews/NowPlayingPreview.tsx","App/previews/SettingsPreview.tsx","App/previews/index.tsx","App/views/AboutView/index.tsx","App/views/CoverFlowView/BacksideContent.tsx","App/views/CoverFlowView/AlbumCover.tsx","App/views/CoverFlowView/CoverFlow.tsx","App/views/CoverFlowView/index.tsx","App/views/HomeView/index.tsx","App/views/MusicView/index.tsx","App/views/ArtistsView/index.tsx","App/views/ArtistView/index.tsx","App/views/AlbumsView/index.tsx","App/views/AlbumView/index.tsx","App/views/NowPlayingView/index.tsx","App/views/GamesView/index.tsx","App/views/BrickGameView/Game.js","App/views/BrickGameView/index.tsx","App/views/index.ts","App/views/SettingsView/index.tsx","services/window.tsx","hooks/useMenuHideWindow.ts","hooks/useScrollHandler.ts","hooks/useInterval.ts","hooks/useTimeout.ts","hooks/useVolumeHandler.ts","components/SelectableList/SelectableListItem.tsx","components/SelectableList/index.tsx","components/Controls/ProgressBar.tsx","components/Controls/Scrubber.tsx","components/Controls/TrackProgress.tsx","components/Controls/VolumeBar.tsx","components/Controls/index.tsx","components/Header/index.tsx","components/KenBurns/index.tsx","components/NowPlaying/index.tsx","components/ScrollWheel/Knob.jsx","components/ScrollWheel/index.tsx","components/LoadingIndicator.tsx","App/Audio.tsx","App/Interface/CoverFlowInterface/index.tsx","App/Interface/Window.tsx","App/Interface/FullScreenInterface/index.tsx","App/Interface/SplitScreenInterface/PreviewPanel.tsx","App/Interface/SplitScreenInterface/index.tsx","App/Interface/index.tsx","App/index.tsx","serviceWorker.ts","index.tsx"],"names":["XS","MediaQuery","Size","Min","Max","ContainerMaxWidth","SM","MD","LG","XL","XXXL","XXL","XXS","useEventListener","eventName","handler","element","window","savedHandler","useRef","useEffect","current","addEventListener","eventListener","event","removeEventListener","Container","styled","motion","div","Image","img","Unit","Text","h3","GamesPreview","src","slideRightAnimation","variants","closed","x","open","transition","duration","type","closing","initial","animate","exit","fade","opacity","fadeScale","scale","previewSlideRight","noAnimation","ALBUMS","gql","ALBUM","ARTIST","MusicPreview","useState","artworkUrls","setArtworkUrls","useQuery","loading","error","data","albums","map","result","artwork","backgroundColor","urls","getUrlFromPath","path","encodeURI","formatTime","seconds","guide","s","Math","floor","m","h","gm","gh","isNaN","Infinity","setDocumentSongTitle","song","document","title","name","AudioContext","createContext","playing","playlist","source","undefined","songIndex","useAudioService","useContext","audioState","setAudioState","play","useCallback","index","togglePause","prevState","nextSong","newIndex","endOfPlaylist","length","newSource","prevSong","setLoading","value","AudioProvider","children","Provider","Artwork","NowPlayingPreview","alt","PREVIEW","Subtext","SettingsPreview","Previews","MUSIC","GAMES","SETTINGS","NOW_PLAYING","TitleContainer","Title","Description","ListContainer","AboutView","useMenuHideWindow","ViewOptions","about","id","options","label","link","useScrollHandler","aria-label","role","activeIndex","InfoContainer","BacksideContent","album","setPlayingAlbum","variables","setOptions","coverFlow","artist","attrs","props","style","background","backgroundSize","abs","isHidden","isActive","css","midpoint","isSelected","isPlaying","offset","Backside","AlbumCover","playingAlbum","isVisible","getOffsetPx","AlbumsContainer","NowPlayingContainer","CoverFlow","setActiveIndex","y","setMidpoint","containerRef","selectedAlbum","setSelectedAlbum","hideWindow","useWindowService","selectAlbum","handleMenuClick","forwardScroll","backwardScroll","updateMidpoint","getBoundingClientRect","width","height","ref","key","hideArtwork","onHide","CoverFlowView","setAlbums","strings","HomeView","initialOptions","viewId","preview","music","games","settings","home","showNowPlaying","find","option","nowPlaying","hideNowPlaying","filter","MusicView","artists","ARTISTS","ArtistsView","ArtistView","image","AlbumsView","AlbumView","NowPlayingView","GamesView","BrickGameView","brickGame","app","init","this","canvas","querySelector","context","getContext","handleCenterClick","inStasis","initialized","player","moveRight","moveLeft","waiting","setupBricks","draw","drawBricks","ball","update","console","log","enterStasis","clearContext","requestAnimationFrame","clearRect","die","position","lives","reset","bricks","forEach","brick","i","Brick","size","health","push","timeout","score","physics","speed","fillStyle","fillRect","resetPosition","direction","centerX","centerY","beginPath","arc","PI","fill","lineWidth","strokeStyle","stroke","checkCollisionWithPlayer","checkCollisionWithBricks","splice","prototype","WINDOW_TYPE","Canvas","BrickGame","Game","SettingsView","SPLIT","FULL","COVER_FLOW","WindowContext","windowStack","headerTitle","windowState","setWindowState","showWindow","prevWindowState","newWindowStack","slice","isWindowActive","setHeaderTitle","setPreview","WindowProvider","Views","component","handleClick","setIndex","timeoutIdRef","checkForPreview","clearTimeout","setTimeout","centerClick","View","viewOptions","useInterval","callback","delay","savedCallback","setInterval","clearInterval","useTimeout","cancel","timeoutId","useVolumeHandler","active","setActive","volume","setVolume","enabled","setIsEnabled","audio","getElementById","setEnabled","val","setActiveState","increaseVolume","decreaseVolume","Icon","Label","SelectableListItem","SelectableList","isMounted","setIsMounted","scrollIntoView","block","ProgressContainer","Gloss","Progress","percent","transparent","Diamond","ProgressBar","isScrubber","LoadingContainer","textAlign","Scubber","isScrubbing","currentTime","setCurrentTime","maxTime","setMaxTime","round","scrubForward","newTime","scrubBackward","refresh","force","TrackProgress","VolumeBar","MainContainer","ScrubberContainer","Controls","setIsScrubbing","hidden","Scrubber","IconContainer","Header","zIndex","startedAnimation","KenBurns","stack","setStack","transitioning","setTransitioning","cycleImage","newStack","MetadataContainer","ArtworkContainer","ControlsContainer","NowPlaying","windowHidden","setWindowHidden","handleWindowHide","CanvasContainer","CenterButton","WheelButton","margin","top","bottom","left","right","Knob","getArcToValue","v","startAngle","endAngle","angle","pow","min","angleArc","max","clockwise","cursor","cursorExt","acw","getCanvasScale","ctx","devicePixelRatio","screen","deviceXDPI","logicalXDPI","webkitBackingStorePixelRatio","coerceToStep","step","eventToValue","e","bounds","canvasRef","clientX","clientY","a","atan2","w","angleOffset","handleMouseDown","onChange","handleMouseMove","handleMouseUpNoMove","handleTouchStart","handleTouchMove","passive","handleTouchEndNoMove","preventDefault","handleMouseUp","touchIndex","targetTouches","handleTouchEnd","onChangeEnd","findClickQuadrant","rectSize","rect","target","rectWidth","quadrant","onWheelClick","handleEsc","keyCode","handleTextInput","handleWheel","deltaX","deltaY","handleArrowKey","inputStyle","verticalAlign","marginTop","marginLeft","border","outline","font","fontWeight","digits","color","inputColor","fgColor","padding","WebkitAppearance","String","drawCanvas","nextProps","xy","thickness","radius","lineCap","bgColor","canvasClassName","onClick","className","onMouseDown","React","Component","defaultProps","stopper","disableTextInput","displayInput","WHEEL_QUADRANT","KEY_CODE","centerClickEvent","Event","forwardScrollEvent","backwardScrollEvent","wheelClickEvent","menuClickEvent","backClickEvent","ScrollWheel","count","setCount","dispatchEvent","handleClockwiseScroll","handleCounterClockwiseScroll","handleWheelClick","TOP","BOTTOM","LEFT","RIGHT","handleKeyPress","ARROW_UP","ARROW_LEFT","ARROW_DOWN","ARROW_RIGHT","ENTER","SPACE","ESC","handleScroll","LoadingIndicator","version","viewBox","strokeWidth","strokeLinecap","x1","y1","x2","y2","attributeName","attributeType","keyTimes","values","dur","begin","repeatCount","calcMode","Audio","audioRef","handlePlay","paused","handlePause","pause","handleBackClick","handleLoadStart","handleLoadEnd","onLoadStart","onCanPlay","onEnded","url","CoverFlowInterface","showHeader","ContentTransitionContainer","Window","firstInStack","FullScreenInterface","PreviewPanel","PreviewComponent","LeftPanel","SplitScreenInterface","menuHidden","allHidden","Screen","Mask","Interface","splitViewWindows","fullViewWindows","coverFlowWindow","GlobalStyles","createGlobalStyle","Shell","App","Boolean","location","hostname","match","client","ApolloClient","uri","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d4350428.chunk.js","sourcesContent":["export const XS = {\n  MediaQuery: '@media (min-width: 0)',\n  Size: {\n    Min: 0,\n    Max: 575,\n  },\n  ContainerMaxWidth: '100%',\n};\n\nexport const SM = {\n  MediaQuery: '@media (min-width: 576px)',\n  Size: {\n    Min: 576,\n    Max: 767,\n  },\n  ContainerMaxWidth: '540px',\n};\n\nexport const MD = {\n  MediaQuery: '@media (min-width: 768px)',\n  Size: {\n    Min: 768,\n    Max: 991,\n  },\n  ContainerMaxWidth: '720px',\n};\n\nexport const LG = {\n  MediaQuery: '@media (min-width: 992px)',\n  Size: {\n    Min: 992,\n    Max: 1199,\n  },\n  ContainerMaxWidth: '960px',\n};\n\nexport const XL = {\n  MediaQuery: '@media (min-width: 1200px)',\n  Size: {\n    Min: 1200,\n    Max: null,\n  },\n  ContainerMaxWidth: '1140px',\n};","export const XXXL = '8rem'; // 128px\nexport const XXL = '4rem'; // 64px\nexport const XL = '2rem'; // 32px\nexport const LG = '1.5rem'; // 24px\nexport const MD = '1rem'; // 16px\nexport const SM = '0.75rem'; // 12px\nexport const XS = '0.5rem'; // 8px\nexport const XXS = '0.25rem'; // 4px","import { useRef, useEffect } from \"react\";\n\n// Hook\nconst useEventListener = (\n  eventName: string,\n  handler: (...args: any) => void,\n  element = window\n) => {\n  // Create a ref that stores handler\n  const savedHandler = useRef<any>();\n\n  // Update ref.current value if handler changes.\n  // This allows our effect below to always get latest handler ...\n  // ... without us needing to pass it in effect deps array ...\n  // ... and potentially cause effect to re-run every render.\n  useEffect(() => {\n    savedHandler.current = handler;\n  }, [eventName, handler]);\n\n  useEffect(\n    () => {\n      // Make sure element supports addEventListener\n      // On\n      const isSupported = element && element.addEventListener;\n      if (!isSupported) return;\n\n      // Create event listener that calls handler function stored in ref\n      const eventListener = (event: any) =>\n        savedHandler && savedHandler.current && savedHandler.current(event);\n\n      // Add event listener\n      element.addEventListener(eventName, eventListener);\n\n      // Remove event listener on cleanup\n      return () => {\n        element.removeEventListener(eventName, eventListener);\n      };\n    },\n    [eventName, element] // Re-run if eventName or element changes\n  );\n};\n\nexport default useEventListener;\n","import React from 'react';\n\nimport { Unit } from 'components';\nimport { motion } from 'framer-motion';\nimport styled from 'styled-components';\n\nconst Container = styled(motion.div)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: white;\n  background: linear-gradient(180deg, #b1b5c0 0%, #686e7a 100%);\n`;\n\nconst Image = styled.img`\n  height: 6em;\n  width: 6em;\n  margin: ${Unit.XS};\n`;\n\nconst Text = styled.h3`\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n`;\n\nconst GamesPreview = () => {\n  return (\n    <Container>\n      <Image src=\"dice.svg\" />\n      <Text>Games</Text>\n    </Container>\n  );\n};\n\nexport default GamesPreview;\n","export const slideRightAnimation = {\n  variants: {\n    closed: { x: \"100%\" },\n    open: {\n      x: 0,\n      transition: { duration: 0.3, type: \"tween\" }\n    },\n    closing: {\n      x: \"100%\",\n      transition: { duration: 0.3, type: \"tween\" }\n    }\n  },\n  initial: \"closed\",\n  animate: \"open\",\n  exit: \"closing\"\n};\n\nexport const slideLeftAnimation = {\n  variants: {\n    closed: { x: \"-110%\" },\n    open: {\n      x: 0,\n      transition: { duration: 0.3, type: \"tween\" }\n    },\n    closing: {\n      x: \"-110%\",\n      transition: { duration: 0.3, type: \"tween\" }\n    }\n  },\n  initial: \"closed\",\n  animate: \"open\",\n  exit: \"closing\"\n};\n\nexport const fade = {\n  variants: {\n    closed: { opacity: 0 },\n    open: { opacity: 1 },\n    closing: {\n      opacity: 0,\n      transition: { duration: 0.3, type: \"tween\" }\n    }\n  },\n  initial: \"closed\",\n  animate: \"open\",\n  exit: \"closing\"\n};\n\nexport const fadeScale = {\n  variants: {\n    closed: { opacity: 0, scale: 0.3 },\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: { duration: 0.5, type: \"tween\" }\n    },\n    closing: {\n      opacity: 0,\n      scale: 0.3,\n      transition: { duration: 0.3, type: \"tween\" }\n    }\n  },\n  initial: \"closed\",\n  animate: \"open\",\n  exit: \"closing\"\n};\n\nexport const previewSlideRight = {\n  variants: {\n    closed: { x: \"130%\", opacity: 0 },\n    open: {\n      x: 0,\n      opacity: 1,\n      transition: { duration: 0.4, type: \"tween\" }\n    },\n    closing: {\n      x: \"130%\",\n      opacity: 0,\n      transition: { duration: 0.4, type: \"tween\" }\n    }\n  },\n  initial: \"closed\",\n  animate: \"open\",\n  exit: \"closing\"\n};\n\nexport const noAnimation = {\n  variants: {\n    closed: {},\n    open: {},\n    closing: {\n      opacity: 0,\n      transition: { duration: 0.3, type: \"tween\" }\n    }\n  },\n  initial: \"closed\",\n  animate: \"open\",\n  exit: \"closing\"\n};\n","import { gql } from 'apollo-boost';\nimport { Song } from 'services/audio';\n\nexport type Album = {\n  artist: string;\n  album: string;\n  artwork: string;\n};\n\nexport type AlbumsQuery = {\n  albums: Album[];\n};\n\nexport type AlbumQuery = {\n  album: Song[];\n};\n\nexport type ArtistQuery = {\n  artist: [\n    {\n      album: string;\n      artwork: string;\n    }\n  ];\n};\n\nexport const ALBUMS = gql`\n  {\n    albums {\n      artist\n      album\n      artwork\n    }\n  }\n`;\n\nexport const ALBUM = gql`\n  query Album($name: String!) {\n    album(name: $name) {\n      id\n      name\n      artist\n      album\n      artwork\n      track\n      url\n    }\n  }\n`;\n\nexport const ARTIST = gql`\n  query Artist($name: String!) {\n    artist(name: $name) {\n      album\n      artwork\n    }\n  }\n`;\n","import React, { useEffect, useState } from 'react';\n\nimport { useQuery } from '@apollo/react-hooks';\nimport { previewSlideRight } from 'animation';\nimport { KenBurns, LoadingIndicator } from 'components';\nimport { motion } from 'framer-motion';\nimport { ALBUMS, AlbumsQuery } from 'queries';\nimport styled from 'styled-components';\n\nconst Container = styled(motion.div)`\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst MusicPreview = () => {\n  const [artworkUrls, setArtworkUrls] = useState<string[]>([]);\n  const { loading, error, data } = useQuery<AlbumsQuery>(ALBUMS);\n\n  useEffect(() => {\n    if (data && data.albums && !error) {\n      setArtworkUrls(data.albums.map(result => result.artwork));\n    }\n  }, [data, error]);\n\n  return (\n    <Container {...previewSlideRight}>\n      {loading ? (\n        <LoadingIndicator backgroundColor=\"linear-gradient(180deg, #B1B5C0 0%, #686E7A 100%)\" />\n      ) : (\n        <KenBurns urls={artworkUrls} />\n      )}\n    </Container>\n  );\n};\n\nexport default MusicPreview;\n","import { Song } from 'services/audio';\n\nexport const getUrlFromPath = (path: string) =>\n  `https://tannerv.ddns.net/SpotiFree/${encodeURI(path)}`;\n\nexport const formatTime = (seconds = 0, guide = seconds) => {\n  let s: number | string = Math.floor(seconds % 60);\n  let m: number | string = Math.floor((seconds / 60) % 60);\n  let h: number | string = Math.floor(seconds / 3600);\n  const gm = Math.floor((guide / 60) % 60);\n  const gh = Math.floor(guide / 3600);\n\n  if (isNaN(seconds) || seconds === Infinity) {\n    h = m = s = \"-\";\n  }\n\n  h = h > 0 || gh > 0 ? `${h}:` : \"\";\n  m = `${(h || gm >= 10) && m < 10 ? `0${m}` : m}:`;\n  s = s < 10 ? `0${s}` : s;\n\n  return h + m + s;\n};\n\nexport const setDocumentSongTitle = (song?: Song) => {\n  document.title = song ? `${song.name} iPod.js` : \"iPod.js\";\n};\n","import React, { createContext, useCallback, useContext, useState } from 'react';\n\nimport { setDocumentSongTitle } from 'utils';\n\nexport type Song = {\n  id: string;\n  name: string;\n  artist: string;\n  album: string;\n  artwork: string;\n  track: number;\n  url: string;\n};\n\ninterface AudioState {\n  playing: boolean;\n  loading: boolean;\n  playlist: Song[];\n  source?: Song;\n  songIndex: number;\n}\n\ntype AudioContextType = [\n  AudioState,\n  React.Dispatch<React.SetStateAction<AudioState>>\n];\n\nconst AudioContext = createContext<AudioContextType>([\n  {\n    playing: false,\n    loading: false,\n    playlist: [],\n    source: undefined,\n    songIndex: 0\n  },\n  () => {}\n]);\n\nexport interface AudioServiceHook {\n  source?: Song;\n  songIndex: number;\n  playing: boolean;\n  loading: boolean;\n  playlist: Song[];\n  play: (playlist: Song[], index?: number) => void;\n  togglePause: () => void;\n  nextSong: () => void;\n  prevSong: () => void;\n  setLoading: (value: boolean) => void;\n}\n\nexport const useAudioService = (): AudioServiceHook => {\n  const [audioState, setAudioState] = useContext(AudioContext);\n\n  const play = useCallback(\n    (playlist: Song[], index = 0) => {\n      setAudioState({\n        ...audioState,\n        playing: true,\n        playlist,\n        songIndex: index,\n        source: playlist[index]\n      });\n      setDocumentSongTitle(playlist[index]);\n    },\n    [audioState, setAudioState]\n  );\n\n  const togglePause = useCallback(() => {\n    if (audioState.source) {\n      setAudioState(prevState => ({\n        ...prevState,\n        playing: !prevState.playing\n      }));\n    }\n  }, [audioState.source, setAudioState]);\n\n  const nextSong = useCallback(() => {\n    if (audioState.source) {\n      setAudioState(prevState => {\n        const newIndex = prevState.songIndex + 1;\n        const endOfPlaylist = newIndex >= prevState.playlist.length;\n        const newSource = endOfPlaylist\n          ? undefined\n          : prevState.playlist[newIndex];\n        setDocumentSongTitle(newSource);\n\n        return {\n          ...prevState,\n          playing: !endOfPlaylist,\n          songIndex: endOfPlaylist ? prevState.songIndex : newIndex,\n          source: newSource\n        };\n      });\n    }\n  }, [audioState.source, setAudioState]);\n\n  const prevSong = useCallback(() => {\n    if (audioState.source && audioState.songIndex > 0) {\n      setAudioState(prevState => {\n        const newIndex = prevState.songIndex - 1;\n        const newSource = prevState.playlist[newIndex];\n        setDocumentSongTitle(newSource);\n\n        return {\n          ...prevState,\n          playing: true,\n          songIndex: newIndex,\n          source: newSource\n        };\n      });\n    }\n  }, [audioState.songIndex, audioState.source, setAudioState]);\n\n  const setLoading = useCallback(\n    (value: boolean) => setAudioState({ ...audioState, loading: value }),\n    [audioState, setAudioState]\n  );\n\n  return {\n    source: audioState.source,\n    songIndex: audioState.songIndex,\n    playlist: audioState.playlist,\n    playing: audioState.playing,\n    loading: audioState.loading,\n    play,\n    togglePause,\n    nextSong,\n    prevSong,\n    setLoading\n  };\n};\n\ninterface Props {\n  children: React.ReactChild;\n}\n\nconst AudioProvider = ({ children }: Props) => {\n  const [audioState, setAudioState] = useState<AudioState>({\n    playing: false,\n    loading: false,\n    playlist: [],\n    source: undefined,\n    songIndex: 0\n  });\n\n  return (\n    <AudioContext.Provider value={[audioState, setAudioState]}>\n      {children}\n    </AudioContext.Provider>\n  );\n};\n\nexport default AudioProvider;\n","import React from 'react';\n\nimport { motion } from 'framer-motion';\nimport { useAudioService } from 'services/audio';\nimport styled from 'styled-components';\nimport { getUrlFromPath } from 'utils';\n\nconst Container = styled(motion.div)`\n  height: 100%;\n`;\n\nconst Artwork = styled.img`\n  height: 100%;\n  width: auto;\n`;\n\nconst NowPlayingPreview = () => {\n  const { source } = useAudioService();\n\n  return source ? (\n    <Container>\n      <Artwork src={getUrlFromPath(source.artwork)} alt=\"now playing artwork\" />\n    </Container>\n  ) : null;\n};\n\nexport default NowPlayingPreview;\n","import React from 'react';\n\nimport { Unit } from 'components';\nimport { motion } from 'framer-motion';\nimport styled from 'styled-components';\n\nconst Container = styled(motion.div)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: white;\n  background: linear-gradient(180deg, #b1b5c0 0%, #686e7a 100%);\n`;\n\nconst Image = styled.img`\n  height: 4em;\n  width: 4em;\n  margin: ${Unit.XS};\n`;\n\nconst Text = styled.h3`\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n`;\n\nconst Subtext = styled(Text)`\n  font-size: 14px;\n`;\n\nconst SettingsPreview = () => {\n  return (\n    <Container>\n      <Image src=\"react_logo.svg\" />\n      <Text>iPod.js</Text>\n      <Subtext>by Tanner V</Subtext>\n    </Container>\n  );\n};\n\nexport default SettingsPreview;\n","import React from 'react';\n\nimport GamesPreview from './GamesPreview';\nimport MusicPreview from './MusicPreview';\nimport NowPlayingPreview from './NowPlayingPreview';\nimport SettingsPreview from './SettingsPreview';\n\nexport enum PREVIEW {\n  MUSIC = \"music\",\n  GAMES = \"games\",\n  SETTINGS = \"settings\",\n  NOW_PLAYING = \"nowPlaying\"\n}\n\nexport const Previews = {\n  [PREVIEW.MUSIC]: () => <MusicPreview />,\n  [PREVIEW.GAMES]: () => <GamesPreview />,\n  [PREVIEW.SETTINGS]: () => <SettingsPreview />,\n  [PREVIEW.NOW_PLAYING]: () => <NowPlayingPreview />\n};\n","import React from 'react';\n\nimport ViewOptions from 'App/views';\nimport { SelectableList, SelectableListOption, Unit } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Image = styled.img`\n  height: ${Unit.XL};\n  width: auto;\n  margin: ${Unit.XS};\n`;\n\nconst TitleContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: ${Unit.MD} ${Unit.MD} 0;\n`;\n\nconst Title = styled.h3`\n  margin: 0;\n  font-size: 16px;\n  font-weight: 900;\n`;\n\nconst Description = styled.h3`\n  margin: 0 0 ${Unit.MD};\n  font-size: 14px;\n  font-weight: normal;\n  text-align: center;\n`;\n\nconst ListContainer = styled.div`\n  flex: 1;\n`;\n\nconst AboutView = () => {\n  useMenuHideWindow(ViewOptions.about.id);\n  const options: SelectableListOption[] = [\n    {\n      label: \"My Website\",\n      value: \"Website\",\n      link: \"http://tannerv.com\"\n    },\n    {\n      label: \"LinkedIn\",\n      value: \"LinkedIn\",\n      link: \"https://linkedin.com/in/tvillarete\"\n    }\n  ];\n\n  const [index] = useScrollHandler(ViewOptions.about.id, options);\n\n  return (\n    <Container>\n      <ListContainer>\n        <TitleContainer>\n          <Image alt=\"iPod\" src=\"ipod_logo.svg\" />\n          <Title>iPod.js</Title>\n        </TitleContainer>\n        <Description>\n          Made with{\" \"}\n          <span aria-label=\"heart\" role=\"img\">\n            \n          </span>{\" \"}\n          by Tanner Villarete\n        </Description>\n        <SelectableList options={options} activeIndex={index} />\n      </ListContainer>\n    </Container>\n  );\n};\n\nexport default AboutView;\n","import React, { useEffect, useState } from 'react';\n\nimport { useQuery } from '@apollo/react-hooks';\nimport {\n  LoadingIndicator,\n  SelectableList,\n  SelectableListOption,\n} from 'components';\nimport { useEventListener, useScrollHandler } from 'hooks';\nimport { Album, ALBUM, AlbumQuery } from 'queries';\nimport styled from 'styled-components';\n\nimport ViewOptions from '../';\n\nconst Container = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  top: -28%;\n  bottom: -50%;\n  left: -50%;\n  right: -50%;\n  border: 1px solid lightgray;\n  background: white;\n  transform: rotateY(180deg);\n`;\n\nconst InfoContainer = styled.div`\n  padding: 4px 8px;\n  background: linear-gradient(180deg, #6585ad 0%, #789ab3 100%);\n  border-bottom: 1px solid #6d87a3;\n`;\n\nconst Text = styled.h3`\n  font-size: 16px;\n  margin: 0;\n  color: white;\n`;\n\nconst Subtext = styled(Text)`\n  font-size: 14px;\n`;\n\nconst ListContainer = styled.div`\n  position: relative;\n  flex: 1;\n  overflow: auto;\n`;\n\ninterface Props {\n  album: Album;\n  setPlayingAlbum: (val: boolean) => void;\n}\n\nconst BacksideContent = ({ album, setPlayingAlbum }: Props) => {\n  const { loading, error, data } = useQuery<AlbumQuery>(ALBUM, {\n    variables: { name: album.album }\n  });\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n  const [index] = useScrollHandler(ViewOptions.coverFlow.id, options);\n\n  useEventListener(\"centerclick\", () => setPlayingAlbum(true));\n\n  useEffect(() => {\n    if (data && data.album && !error) {\n      setOptions(\n        data.album.map((song, index) => ({\n          label: song.name,\n          value: song,\n          songIndex: index,\n          playlist: data.album\n        }))\n      );\n    }\n  }, [data, error]);\n\n  return (\n    <Container>\n      {loading ? (\n        <LoadingIndicator />\n      ) : (\n        <>\n          <InfoContainer>\n            <Text>{album.album}</Text>\n            <Subtext>{album.artist}</Subtext>\n          </InfoContainer>\n          <ListContainer>\n            <SelectableList activeIndex={index} options={options} />\n          </ListContainer>\n        </>\n      )}\n    </Container>\n  );\n};\n\nexport default BacksideContent;\n","import React from 'react';\n\nimport { fadeScale } from 'animation';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { Album } from 'queries';\nimport styled, { css } from 'styled-components';\nimport { getUrlFromPath } from 'utils';\n\nimport BacksideContent from './BacksideContent';\nimport { Point } from './CoverFlow';\n\nconst getOffsetPx = (offset: number, midpoint: number) => {\n  if (offset === 0) return 0;\n  const val = midpoint - 46 + offset * 48;\n\n  return val + (offset < 0 ? -48 : 24);\n};\n\ninterface ContainerProps {\n  isActive: boolean;\n  isSelected: boolean;\n  isPlaying: boolean;\n  isHidden: boolean;\n  midpoint: Point;\n  offset: number;\n  index: number;\n  activeIndex: number;\n}\n\nconst Container = styled.div.attrs((props: ContainerProps) => ({\n  style: {\n    background: \"transparent\",\n    backgroundSize: \"cover\"\n  }\n}))<ContainerProps>`\n  z-index: ${props => 1 - Math.abs(props.index - props.activeIndex)};\n  position: absolute;\n  height: 8em;\n  width: 8em;\n  transition: transform 0.25s, opacity 0.35s, background 0.35s;\n  transform-style: preserve-3d;\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(70%, transparent), to(rgba(240, 240, 240, 0.2)));\n  opacity: ${props => props.isHidden && 0};\n\n  ${props =>\n    props.isActive &&\n    css`\n      transition: transform 0.3s, opacity 0.35s, background 0.35s;\n      transform: translate3d(${props.midpoint.x - 60}px, 4px, 20px)\n        ${props.isSelected && \"rotateY(-180deg) translateY(10%) scale(1)\"};\n\n      ${props.isSelected &&\n        css`\n          transition: transform 0.5s, opacity 0.35s, background 0.35s;\n          -webkit-box-reflect: none;\n\n          ${Artwork} {\n            opacity: 0;\n          }\n        `};\n\n      ${props.isPlaying &&\n        css`\n          transform: translate(${props.midpoint.x - 135}px, -10px)\n            rotateY(18deg);\n\n          ${Artwork} {\n            opacity: 1;\n          }\n        `};\n    `};\n\n  ${props =>\n    !props.isActive &&\n    css`\n      transform: translateX(${props.offset}px) scale(1.1) translateZ(-65px)\n        rotateY(${props.index < props.activeIndex ? \"70deg\" : \"-70deg\"});\n    `};\n`;\n\nconst Artwork = styled.img`\n  z-index: 0;\n  position: absolute;\n  height: 8em;\n  width: 8em;\n  transition: opacity 0.5s;\n`;\n\nconst Backside = styled(motion.div)`\n  position: relative;\n  height: 100%;\n  width: 100%;\n`;\n\ninterface Props {\n  index: number;\n  activeIndex: number;\n  midpoint: Point;\n  album: Album;\n  isSelected: boolean;\n  playingAlbum: boolean;\n  setPlayingAlbum: (val: boolean) => void;\n}\n\nconst AlbumCover = ({\n  album,\n  midpoint,\n  index,\n  activeIndex,\n  isSelected,\n  playingAlbum,\n  setPlayingAlbum\n}: Props) => {\n  const isVisible = index > activeIndex - 15 && index < activeIndex + 15;\n  const isActive = index === activeIndex;\n  const offset = getOffsetPx(index - activeIndex, midpoint.x);\n  const isHidden = !isActive && playingAlbum;\n\n  return isVisible ? (\n    <Container\n      isActive={isActive}\n      isSelected={isSelected}\n      isHidden={isHidden}\n      midpoint={midpoint}\n      offset={offset}\n      index={index}\n      activeIndex={activeIndex}\n      isPlaying={isSelected && playingAlbum}\n    >\n      <Artwork src={getUrlFromPath(album.artwork)} />\n      <AnimatePresence>\n        {isSelected && !playingAlbum && (\n          <Backside {...fadeScale}>\n            <BacksideContent album={album} setPlayingAlbum={setPlayingAlbum} />\n          </Backside>\n        )}\n      </AnimatePresence>\n    </Container>\n  ) : null;\n};\n\nexport default AlbumCover;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { fade } from 'animation';\nimport { NowPlaying } from 'components';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { useEventListener } from 'hooks';\nimport { Album } from 'queries';\nimport { useWindowService } from 'services/window';\nimport styled from 'styled-components';\n\nimport AlbumCover from './AlbumCover';\n\nexport type Point = {\n  x: number;\n  y: number;\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\nconst AlbumsContainer = styled.div`\n  z-index: 2;\n  position: relative;\n  display: flex;\n  flex-wrap: nowrap;\n  flex: 1;\n  padding-top: 8%;\n  -webkit-overflow-scrolling: touch; /* [3] */\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  perspective: 500px;\n`;\n\nconst InfoContainer = styled(motion.div)`\n  z-index: 0;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 30%;\n`;\n\nconst NowPlayingContainer = styled(motion.div)`\n  z-index: 1;\n  position: absolute;\n  top: 20px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst Text = styled.h3`\n  margin: 0;\n  font-size: 16px;\n  text-align: center;\n\n  :first-of-type {\n    margin-top: 24px;\n  }\n`;\n\ninterface Props {\n  albums: Album[];\n}\n\nconst CoverFlow = ({ albums }: Props) => {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [midpoint, setMidpoint] = useState<Point>({ x: 0, y: 0 });\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [selectedAlbum, setSelectedAlbum] = useState<Album>();\n  const [playingAlbum, setPlayingAlbum] = useState(false);\n  const { hideWindow } = useWindowService();\n\n  const selectAlbum = useCallback(() => {\n    if (!selectedAlbum) {\n      const album = albums[activeIndex];\n      setSelectedAlbum(album);\n    }\n  }, [activeIndex, albums, selectedAlbum]);\n\n  const handleMenuClick = useCallback(() => {\n    if (selectedAlbum && playingAlbum) {\n      setPlayingAlbum(false);\n    } else if (selectedAlbum) {\n      setSelectedAlbum(undefined);\n    } else {\n      hideWindow();\n    }\n  }, [hideWindow, playingAlbum, selectedAlbum]);\n\n  const forwardScroll = useCallback(() => {\n    if (activeIndex < albums.length - 1 && !selectedAlbum && !playingAlbum) {\n      setActiveIndex(activeIndex + 1);\n    }\n  }, [activeIndex, albums.length, playingAlbum, selectedAlbum]);\n\n  const backwardScroll = useCallback(() => {\n    if (activeIndex > 0 && !selectedAlbum && !playingAlbum) {\n      setActiveIndex(activeIndex - 1);\n    }\n  }, [activeIndex, playingAlbum, selectedAlbum]);\n\n  const updateMidpoint = useCallback(() => {\n    if (containerRef.current) {\n      const { width, height } = containerRef.current.getBoundingClientRect();\n      setMidpoint({ x: width / 2, y: height / 2 });\n    }\n  }, []);\n\n  useEffect(updateMidpoint, []);\n\n  useEventListener(\"centerclick\", selectAlbum);\n  useEventListener(\"menuclick\", handleMenuClick);\n  useEventListener(\"forwardscroll\", forwardScroll);\n  useEventListener(\"backwardscroll\", backwardScroll);\n\n  return (\n    <Container>\n      <AlbumsContainer ref={containerRef}>\n        {albums.map((album, index) => (\n          <AlbumCover\n            key={`cf-artwork-${album.artwork}`}\n            index={index}\n            activeIndex={activeIndex}\n            midpoint={midpoint}\n            album={album}\n            playingAlbum={playingAlbum}\n            isSelected={!!selectedAlbum && album.album === selectedAlbum.album}\n            setPlayingAlbum={setPlayingAlbum}\n          />\n        ))}\n      </AlbumsContainer>\n\n      <AnimatePresence>\n        {albums.length && !playingAlbum && (\n          <InfoContainer {...fade}>\n            <Text>{albums[activeIndex].album}</Text>\n            <Text>{albums[activeIndex].artist}</Text>\n          </InfoContainer>\n        )}\n        {playingAlbum && (\n          <NowPlayingContainer {...fade}>\n            <NowPlaying hideArtwork onHide={handleMenuClick} />\n          </NowPlayingContainer>\n        )}\n      </AnimatePresence>\n    </Container>\n  );\n};\n\nexport default CoverFlow;\n","import React, { useEffect, useState } from 'react';\n\nimport { useQuery } from '@apollo/react-hooks';\nimport { LoadingIndicator } from 'components';\nimport { Album, ALBUMS, AlbumsQuery } from 'queries';\nimport styled from 'styled-components';\n\nimport CoverFlow from './CoverFlow';\n\nconst Container = styled.div`\n  flex: 1;\n`;\n\nconst CoverFlowView = () => {\n  const { loading, error, data } = useQuery<AlbumsQuery>(ALBUMS);\n  const [albums, setAlbums] = useState<Album[]>([]);\n\n  useEffect(() => {\n    if (data && data.albums && !error) {\n      setAlbums(data.albums);\n    }\n  }, [data, error]);\n\n  return (\n    <Container>\n      {loading ? (\n        <LoadingIndicator backgroundColor=\"white\" />\n      ) : (\n        <CoverFlow albums={albums} />\n      )}\n    </Container>\n  );\n};\n\nexport default CoverFlowView;\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport { PREVIEW } from 'App/previews';\nimport ViewOptions, {\n  CoverFlowView,\n  GamesView,\n  MusicView,\n  NowPlayingView,\n  SettingsView,\n} from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useScrollHandler } from 'hooks';\nimport { useAudioService } from 'services/audio';\n\nconst strings = {\n  nowPlaying: \"Now Playing\"\n};\n\nconst HomeView = () => {\n  const initialOptions: SelectableListOption[] = [\n    {\n      label: \"Cover Flow\",\n      value: () => <CoverFlowView />,\n      viewId: ViewOptions.coverFlow.id,\n      preview: PREVIEW.MUSIC\n    },\n    {\n      label: \"Music\",\n      value: () => <MusicView />,\n      viewId: ViewOptions.music.id,\n      preview: PREVIEW.MUSIC\n    },\n    {\n      label: \"Games\",\n      value: () => <GamesView />,\n      viewId: ViewOptions.games.id,\n      preview: PREVIEW.GAMES\n    },\n    {\n      label: \"Settings\",\n      value: () => <SettingsView />,\n      viewId: ViewOptions.settings.id,\n      preview: PREVIEW.SETTINGS\n    }\n  ];\n\n  const [options, setOptions] = useState(initialOptions);\n  const { source } = useAudioService();\n  const [index] = useScrollHandler(ViewOptions.home.id, options);\n\n  /** Append the \"Now Playing\" button to the list of options. */\n  const showNowPlaying = useCallback(() => {\n    if (\n      source &&\n      !options.find(option => option.label === strings.nowPlaying)\n    ) {\n      setOptions([\n        ...options,\n        {\n          label: strings.nowPlaying,\n          value: () => <NowPlayingView />,\n          viewId: ViewOptions.nowPlaying.id,\n          preview: PREVIEW.NOW_PLAYING\n        }\n      ]);\n    }\n  }, [options, source]);\n\n  /** Remove the \"Now Playing\" button from the list of options. */\n  const hideNowPlaying = useCallback(() => {\n    if (options.find(option => option.label === strings.nowPlaying)) {\n      setOptions(options.filter(option => option.label !== strings.nowPlaying));\n    }\n  }, [options]);\n\n  /** Conditionally show \"Now Playing\" button if music is queued/playing. */\n  useEffect(() => {\n    if (source) {\n      showNowPlaying();\n    } else {\n      hideNowPlaying();\n    }\n  }, [hideNowPlaying, showNowPlaying, source]);\n\n  return <SelectableList options={options} activeIndex={index} />;\n};\n\nexport default HomeView;\n","import React from 'react';\n\nimport { PREVIEW } from 'App/previews';\nimport { AlbumsView, ArtistsView } from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\n\nimport ViewOptions from '../';\n\nconst MusicView = () => {\n  useMenuHideWindow(ViewOptions.music.id);\n  const options: SelectableListOption[] = [\n    {\n      label: \"Artists\",\n      value: () => <ArtistsView />,\n      viewId: ViewOptions.artists.id,\n      preview: PREVIEW.MUSIC\n    },\n    {\n      label: \"Albums\",\n      value: () => <AlbumsView />,\n      viewId: ViewOptions.albums.id,\n      preview: PREVIEW.MUSIC\n    }\n  ];\n  const [index] = useScrollHandler(ViewOptions.music.id, options);\n\n  return <SelectableList options={options} activeIndex={index} />;\n};\n\nexport default MusicView;\n","import React, { useEffect, useState } from 'react';\n\nimport { useQuery } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\n\nimport ViewOptions, { ArtistView } from '../';\n\ntype ArtistsQuery = {\n  artists: [\n    {\n      artist: string;\n    }\n  ];\n};\n\nconst ARTISTS = gql`\n  {\n    artists {\n      artist\n    }\n  }\n`;\n\nconst ArtistsView = () => {\n  useMenuHideWindow(ViewOptions.artists.id);\n  const { loading, error, data } = useQuery<ArtistsQuery>(ARTISTS);\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n\n  useEffect(() => {\n    if (data && data.artists && !error) {\n      setOptions(\n        data.artists.map(result => ({\n          label: result.artist,\n          viewId: ViewOptions.artist.id,\n          value: () => <ArtistView name={result.artist} />\n        }))\n      );\n    }\n  }, [data, error]);\n\n  const [index] = useScrollHandler(ViewOptions.artists.id, options);\n\n  return (\n    <SelectableList loading={loading} options={options} activeIndex={index} />\n  );\n};\n\nexport default ArtistsView;\n","import React, { useEffect, useState } from 'react';\n\nimport { useQuery } from '@apollo/react-hooks';\nimport ViewOptions, { AlbumView } from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\nimport { ARTIST, ArtistQuery } from 'queries';\nimport { getUrlFromPath } from 'utils';\n\ninterface Props {\n  name: string;\n}\n\nconst ArtistView = ({ name }: Props) => {\n  useMenuHideWindow(ViewOptions.artist.id);\n  const { loading, error, data } = useQuery<ArtistQuery>(ARTIST, {\n    variables: { name }\n  });\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n  const [index] = useScrollHandler(ViewOptions.artist.id, options);\n\n  useEffect(() => {\n    if (data && data.artist && !error) {\n      setOptions(\n        data.artist.map(result => ({\n          label: result.album,\n          value: () => <AlbumView name={result.album} />,\n          image: getUrlFromPath(result.artwork),\n          viewId: ViewOptions.album.id\n        }))\n      );\n    }\n  }, [data, error]);\n\n  return (\n    <SelectableList loading={loading} options={options} activeIndex={index} />\n  );\n};\n\nexport default ArtistView;\n","import React, { useEffect, useState } from 'react';\n\nimport { useQuery } from '@apollo/react-hooks';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\nimport { ALBUMS, AlbumsQuery } from 'queries';\nimport { getUrlFromPath } from 'utils';\n\nimport ViewOptions, { AlbumView } from '../';\n\nconst AlbumsView = () => {\n  useMenuHideWindow(ViewOptions.albums.id);\n  const { loading, error, data } = useQuery<AlbumsQuery>(ALBUMS);\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n  const [index] = useScrollHandler(ViewOptions.albums.id, options);\n\n  useEffect(() => {\n    if (data && data.albums && !error) {\n      setOptions(\n        data.albums.map(result => ({\n          label: result.album,\n          value: () => <AlbumView name={result.album} />,\n          image: getUrlFromPath(result.artwork),\n          viewId: ViewOptions.album.id\n        }))\n      );\n    }\n  }, [data, error]);\n\n  return (\n    <SelectableList loading={loading} options={options} activeIndex={index} />\n  );\n};\n\nexport default AlbumsView;\n","import React, { useEffect, useState } from 'react';\n\nimport { useQuery } from '@apollo/react-hooks';\nimport ViewOptions, { NowPlayingView } from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\nimport { ALBUM, AlbumQuery } from 'queries';\n\ninterface Props {\n  name: string;\n}\n\nconst AlbumView = ({ name }: Props) => {\n  useMenuHideWindow(ViewOptions.album.id);\n  const { loading, error, data } = useQuery<AlbumQuery>(ALBUM, {\n    variables: { name }\n  });\n  const [options, setOptions] = useState<SelectableListOption[]>([]);\n  const [index] = useScrollHandler(ViewOptions.album.id, options);\n\n  useEffect(() => {\n    if (data && data.album && !error) {\n      setOptions(\n        data.album.map((song, index) => ({\n          label: song.name,\n          value: () => <NowPlayingView />,\n          viewId: ViewOptions.nowPlaying.id,\n          songIndex: index,\n          playlist: data.album\n        }))\n      );\n    }\n  }, [data, error]);\n\n  return (\n    <SelectableList loading={loading} options={options} activeIndex={index} />\n  );\n};\n\nexport default AlbumView;\n","import React from 'react';\n\nimport ViewOptions from 'App/views';\nimport { NowPlaying } from 'components';\nimport { useMenuHideWindow } from 'hooks';\nimport { useWindowService } from 'services/window';\n\nconst NowPlayingView = () => {\n  useMenuHideWindow(ViewOptions.nowPlaying.id);\n  const { hideWindow } = useWindowService();\n\n  return <NowPlaying onHide={hideWindow} />;\n};\n\nexport default NowPlayingView;\n","import React from 'react';\n\nimport { PREVIEW } from 'App/previews';\nimport ViewOptions, { BrickGameView } from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\n\nconst GamesView = () => {\n  useMenuHideWindow(ViewOptions.games.id);\n  const options: SelectableListOption[] = [\n    {\n      label: \"Brick\",\n      value: () => <BrickGameView />,\n      viewId: ViewOptions.brickGame.id,\n      preview: PREVIEW.GAMES\n    }\n  ];\n\n  const [index] = useScrollHandler(ViewOptions.games.id, options);\n\n  return <SelectableList options={options} activeIndex={index} />;\n};\n\nexport default GamesView;\n","const app = {\n  init: function() {\n    this.canvas = document.querySelector(\"#brickBreakerCanvas\");\n    this.context = this.canvas ? this.canvas.getContext(\"2d\") : null;\n\n    if (!this.context) {\n      console.log(\"Error getting application context\");\n      return; //TODO: notify user\n    }\n\n    window.addEventListener(\"centerclick\", this.handleCenterClick);\n    this.inStasis = false;\n\n    if (!this.initialized) {\n      window.addEventListener(\"forwardscroll\", () => player.moveRight(), true);\n      window.addEventListener(\"backwardscroll\", () => player.moveLeft(), true);\n      window.addEventListener(\"menuclick\", () => (this.inStasis = true));\n\n      this.waiting = true;\n      this.setupBricks();\n      player.draw();\n      this.drawBricks();\n      ball.update();\n      this.update();\n\n      this.initialized = true;\n    }\n\n    return;\n  },\n\n  handleCenterClick: function() {\n    if (app.waiting && !app.inStasis) {\n      app.waiting = false;\n    }\n  },\n\n  enterStasis: function() {},\n\n  update: function() {\n    app.clearContext();\n    player.draw();\n    app.drawBricks();\n\n    ball.update();\n\n    requestAnimationFrame(app.update);\n  },\n\n  clearContext: function() {\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    return;\n  },\n\n  die: function() {\n    //TODO: better death!\n    player.position.x = 200;\n    player.lives -= 1;\n\n    if (player.lives < 1) this.reset();\n\n    ball.reset();\n    app.waiting = true;\n  },\n\n  drawBricks: function() {\n    this.bricks.forEach(function(brick) {\n      brick.draw();\n    });\n  },\n\n  //TODO: this will change per level\n  setupBricks: function() {\n    this.bricks = [];\n\n    var i = 0;\n    var brickTop = 50;\n\n    //Setup back row:\n    for (i = 0; i < 10; i++) {\n      const brick = new Brick();\n      brick.position.x = 100 + i * brick.size.width + i;\n      brick.position.y = brickTop;\n      brick.health = 1;\n      this.bricks.push(brick);\n    }\n\n    //Setup middle row:\n    for (i = 0; i < 8; i++) {\n      const brick = new Brick();\n      brick.position.x = 150 + i * brick.size.width + i;\n      brick.position.y = brickTop + brick.size.height + 1;\n      brick.health = 2;\n      this.bricks.push(brick);\n    }\n\n    //Setup front row:\n    for (i = 0; i < 6; i++) {\n      var brick = new Brick();\n      brick.position.x = 200 + i * brick.size.width + i;\n      brick.position.y = brickTop + 2 * brick.size.height + 1;\n      brick.health = 3;\n      this.bricks.push(brick);\n    }\n  },\n\n  reset: function() {\n    player.reset();\n    ball.reset();\n    this.setupBricks();\n  },\n\n  bricks: [],\n\n  canvas: null,\n  context: null,\n  timeout: 33\n};\n\nvar player = {\n  // Defines initial position\n  position: {\n    x: 200,\n    y: 480\n  },\n\n  score: 0,\n\n  lives: 3,\n\n  physics: {\n    speed: 10\n  },\n\n  size: {\n    height: 20,\n    width: 150\n  },\n\n  draw: function() {\n    app.context.fillStyle = \"black\";\n    app.context.fillRect(\n      this.position.x,\n      this.position.y,\n      this.size.width,\n      this.size.height\n    );\n\n    // app.context.textAlign = \"center\";\n    // app.context.fillStyle = \"rgba(0, 0, 0, .2)\";\n\n    // app.context.font = \"18px sans-serif\";\n    // app.context.fillText(\"Lives\", 40, 20);\n    // app.context.fillText(\"Score\", 40, 120);\n\n    // app.context.font = \"48px sans-serif\";\n    // app.context.fillText(this.lives, 40, 75);\n    // app.context.fillText(this.score, 40, 175);\n  },\n\n  moveLeft: function() {\n    if (this.position.x > 0) this.position.x -= this.physics.speed * 1.5;\n  },\n\n  moveRight: function() {\n    if (this.position.x < app.canvas.width - this.size.width)\n      this.position.x += this.physics.speed * 1.5;\n  },\n\n  reset: function() {\n    this.lives = 3;\n    this.score = 0;\n    this.resetPosition();\n  },\n\n  resetPosition: function() {\n    this.position.x = 200;\n  }\n};\n\nvar ball = {\n  position: {\n    x: 0,\n    y: 250\n  },\n\n  size: {\n    height: 10,\n    width: 10\n  },\n\n  physics: {\n    speed: 5\n  },\n\n  direction: {\n    x: 1, //Moving right\n    y: 1 //Moving down\n  },\n\n  draw: function() {\n    app.context.fillStyle = \"transparent\";\n    const context = app.context;\n    const centerX = this.position.x;\n    const centerY = this.position.y;\n    const radius = 10;\n\n    context.beginPath();\n    context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);\n    context.fillStyle = \"black\";\n    context.fill();\n    context.lineWidth = 5;\n    context.strokeStyle = \"black\";\n    context.stroke();\n  },\n\n  reset: function() {\n    this.position.x = 0;\n    this.position.y = 250;\n    this.direction.x = 1;\n    this.direction.y = 1;\n  },\n\n  update: function() {\n    if (this.position.x <= 0)\n      //Left Bounds\n      this.direction.x = 1;\n    if (this.position.x >= app.canvas.width)\n      //Right Bounds\n      this.direction.x = -1;\n    if (this.position.y <= 0)\n      //Top Bounds\n      this.direction.y = 1;\n    if (this.position.y >= app.canvas.height)\n      //Bottom Bounds\n      app.die(); //TODO: die\n\n    if (!app.waiting && !app.inStasis) {\n      this.checkCollisionWithPlayer();\n      this.checkCollisionWithBricks();\n\n      this.position.x += this.physics.speed * this.direction.x;\n      this.position.y += this.physics.speed * this.direction.y;\n    }\n\n    this.draw();\n  },\n\n  checkCollisionWithPlayer: function() {\n    if (this.position.y + this.size.height < player.position.y) return;\n    if (this.position.y > player.position.y + player.size.height) return;\n    if (this.position.x > player.position.x + player.size.width) return;\n    if (this.position.x + this.size.width < player.position.x) return;\n\n    this.direction.y = -1; //Moving up now\n  },\n\n  checkCollisionWithBricks: function() {\n    var i = 0;\n    for (i = 0; i < app.bricks.length; i++) {\n      var brick = app.bricks[i];\n\n      if (this.position.y + this.size.height < brick.position.y) continue;\n      if (this.position.y > brick.position.y + brick.size.height) continue;\n      if (this.position.x > brick.position.x + brick.size.width) continue;\n      if (this.position.x + this.size.width < brick.position.x) continue;\n\n      /* If the loop makes it this far, we have a collision */\n      brick.health -= 1;\n\n      player.score += 20;\n\n      if (brick.health < 1) app.bricks.splice(i, 1);\n\n      //Update direction based on where we hit the brick\n\n      //Moving towards lower right\n      if (this.direction.x === 1 && this.direction.y === 1) {\n        if (this.position.y > brick.position.y) this.direction.x = -1;\n        else this.direction.y = -1;\n      }\n      //Moving towards lower left\n      else if (this.direction.x === -1 && this.direction.y === 1) {\n        if (this.position.y > brick.position.y) this.direction.x = 1;\n        else this.direction.y = -1;\n      }\n      //Moving towards upper right\n      else if (this.direction.x === 1 && this.direction.y === -1) {\n        if (this.position.y > brick.position.y) this.direction.x = -1;\n        else this.direction.y = -1;\n      }\n      //Moving towards upper-left\n      else if (this.direction.x === -1 && this.direction.y === -1) {\n        if (this.position.y > brick.position.y) this.direction.x = 1;\n        else this.direction.y = -1;\n      }\n    }\n  }\n};\n\nvar Brick = function() {\n  this.health = 3;\n\n  this.size = {\n    height: 20,\n    width: 60\n  };\n\n  //Will be determined on setup\n  this.position = {\n    x: 0,\n    y: 0\n  };\n};\n\nBrick.prototype.draw = function() {\n  // eslint-disable-next-line default-case\n  switch (this.health) {\n    case 3:\n      app.context.fillStyle = \"rgb(0, 240, 0)\"; //Green\n      break;\n    case 2:\n      app.context.fillStyle = \"rgb(255,140,0\"; //Orange?\n      break;\n    case 1:\n      app.context.fillStyle = \"rgb(200, 0, 0)\"; //Red\n      break;\n  }\n\n  if (this.health > 0)\n    app.context.fillRect(\n      this.position.x,\n      this.position.y,\n      this.size.width - 5,\n      this.size.height - 5\n    );\n};\n\nexport default app;\n","import React, { useEffect } from 'react';\n\nimport { useMenuHideWindow } from 'hooks';\nimport styled from 'styled-components';\n\nimport ViewOptions from '../';\nimport Game from './Game';\n\nconst Canvas = styled.canvas`\n  height: 100%;\n  width: 100%;\n  background: rgb(2, 0, 36);\n  background: linear-gradient(\n    90deg,\n    rgba(2, 0, 36, 1) 0%,\n    rgba(107, 173, 255, 1) 0%,\n    rgba(0, 212, 255, 1) 100%\n  );\n`;\n\nconst BrickGame = () => {\n  useMenuHideWindow(ViewOptions.brickGame.id);\n  useEffect(() => {\n    Game.init();\n  }, []);\n\n  return (\n    <Canvas width=\"800\" height=\"500\" id=\"brickBreakerCanvas\">\n      <p>Your browser does not support this feature</p>\n    </Canvas>\n  );\n};\n\nexport default BrickGame;\n","export { default as AboutView } from \"./AboutView\";\nexport { default as CoverFlowView } from \"./CoverFlowView\";\nexport { default as HomeView } from \"./HomeView\";\nexport { default as MusicView } from \"./MusicView\";\nexport { default as ArtistsView } from \"./ArtistsView\";\nexport { default as ArtistView } from \"./ArtistView\";\nexport { default as AlbumsView } from \"./AlbumsView\";\nexport { default as AlbumView } from \"./AlbumView\";\nexport { default as NowPlayingView } from \"./NowPlayingView\";\nexport { default as GamesView } from \"./GamesView\";\nexport { default as BrickGameView } from \"./BrickGameView\";\nexport { default as SettingsView } from \"./SettingsView\";\n\nexport enum WINDOW_TYPE {\n  SPLIT = \"SPLIT\",\n  FULL = \"FULL\",\n  COVER_FLOW = \"COVER_FLOW\"\n}\n\ntype ViewOption = {\n  id: string;\n  title: string;\n  type: WINDOW_TYPE;\n};\n\nexport const ViewOptions: Record<string, ViewOption> = {\n  // Split Screen Views\n  home: { id: \"home\", title: \"iPod.js\", type: WINDOW_TYPE.SPLIT },\n  music: { id: \"music\", title: \"Music\", type: WINDOW_TYPE.SPLIT },\n  games: { id: \"games\", title: \"Games\", type: WINDOW_TYPE.SPLIT },\n  settings: { id: \"settings\", title: \"Settings\", type: WINDOW_TYPE.SPLIT },\n\n  // Fullscreen Views\n  about: { id: \"about\", title: \"About\", type: WINDOW_TYPE.FULL },\n  artists: { id: \"artists\", title: \"Artists\", type: WINDOW_TYPE.FULL },\n  artist: { id: \"artist\", title: \"Artist\", type: WINDOW_TYPE.FULL },\n  albums: { id: \"albums\", title: \"Albums\", type: WINDOW_TYPE.FULL },\n  album: { id: \"album\", title: \"Album\", type: WINDOW_TYPE.FULL },\n  nowPlaying: {\n    id: \"nowPlaying\",\n    title: \"Now Playing\",\n    type: WINDOW_TYPE.FULL\n  },\n  brickGame: { id: \"brickGame\", title: \"Brick\", type: WINDOW_TYPE.FULL },\n\n  // CoverFlow view\n  coverFlow: {\n    id: \"coverFlow\",\n    title: \"Cover Flow\",\n    type: WINDOW_TYPE.COVER_FLOW\n  }\n};\n\nexport default ViewOptions;\n","import React from 'react';\n\nimport { PREVIEW } from 'App/previews';\nimport ViewOptions, { AboutView } from 'App/views';\nimport { SelectableList, SelectableListOption } from 'components';\nimport { useMenuHideWindow, useScrollHandler } from 'hooks';\n\nconst SettingsView = () => {\n  useMenuHideWindow(ViewOptions.settings.id);\n  const options: SelectableListOption[] = [\n    {\n      label: \"About\",\n      value: () => <AboutView />,\n      viewId: ViewOptions.about.id,\n      preview: PREVIEW.SETTINGS\n    }\n  ];\n\n  const [index] = useScrollHandler(ViewOptions.settings.id, options);\n\n  return <SelectableList options={options} activeIndex={index} />;\n};\n\nexport default SettingsView;\n","import React, { createContext, useCallback, useContext, useState } from 'react';\n\nimport { PREVIEW } from 'App/previews';\nimport ViewOptions, * as Views from 'App/views';\n\nexport type WindowOptions<TComponent extends React.ComponentType<any> = any> = {\n  /** A unique ID for each window. */\n  id: string;\n  /** The style of window that should be opened. */\n  type: Views.WINDOW_TYPE;\n  /** The React component that will be rendered in the window. */\n  component: TComponent;\n  /** Props that will be passed to the component. */\n  props?: Omit<React.ComponentProps<TComponent>, \"id\">;\n  /** Any extra styles you want to pass to the window. */\n  windowStyles?: Record<string, any>;\n  /** Fire an event when the window closes. */\n  onClose?: (...args: any[]) => void;\n};\n\ninterface WindowState {\n  windowStack: WindowOptions[];\n  headerTitle?: string;\n  preview: PREVIEW;\n}\n\ntype WindowContextType = [\n  WindowState,\n  React.Dispatch<React.SetStateAction<WindowState>>\n];\n\nconst WindowContext = createContext<WindowContextType>([\n  {\n    windowStack: [],\n    headerTitle: \"iPod.js\",\n    preview: PREVIEW.MUSIC\n  },\n  () => {}\n]);\n\nexport interface WindowServiceHook {\n  /** Push an instance of WindowOptions to the windowStack. */\n  showWindow: (window: WindowOptions) => void;\n  /** Given an id, remove the window from the stack (otherwise, pop the top window). */\n  hideWindow: (id?: string) => void;\n  /** Returns an array of WindowOptions. */\n  windowStack: WindowOptions[];\n  /** Checks if the current window's id matches the given id.\n   * Useful for enabling/disabling scrolling if a window is hidden.\n   */\n  headerTitle?: string;\n  preview: PREVIEW;\n  isWindowActive: (id: string) => boolean;\n  setHeaderTitle: (title?: string) => void;\n  setPreview: (preview: PREVIEW) => void;\n}\n\n/**\n * This hook allows any component to access three parameters:\n *   1. showWindow\n *   2. hideWindow\n *   3. windowStack\n *\n *   Use it whenever you want to open a new window (@type WindowOptions).\n *\n *    @example\n *    `const {showWindow, hideWindow, windowStack} = useWindowService();`\n */\nexport const useWindowService = (): WindowServiceHook => {\n  const [windowState, setWindowState] = useContext(WindowContext);\n\n  const showWindow = useCallback(\n    (window: WindowOptions) => {\n      setWindowState(prevWindowState => ({\n        ...prevWindowState,\n        windowStack: [...prevWindowState.windowStack, window],\n        headerTitle: ViewOptions[window.id].title\n      }));\n    },\n    [setWindowState]\n  );\n\n  const hideWindow = useCallback(\n    (id?: string) => {\n      if (windowState.windowStack.length === 1) return;\n      setWindowState(prevWindowState => {\n        const newWindowStack = id\n          ? prevWindowState.windowStack.filter(\n              (window: WindowOptions) => window.id !== id\n            )\n          : prevWindowState.windowStack.slice(0, -1);\n\n        return {\n          ...prevWindowState,\n          windowStack: newWindowStack,\n          headerTitle:\n            ViewOptions[newWindowStack[newWindowStack.length - 1].id].title\n        };\n      });\n    },\n    [setWindowState, windowState.windowStack.length]\n  );\n\n  const isWindowActive = useCallback(\n    (id: string) => {\n      const { windowStack } = windowState;\n      const curWindow = windowStack[windowStack.length - 1];\n      return curWindow.id === id;\n    },\n    [windowState]\n  );\n\n  const setHeaderTitle = useCallback(\n    (title?: string) => {\n      setWindowState({\n        ...windowState,\n        headerTitle: title\n      });\n    },\n    [setWindowState, windowState]\n  );\n\n  const setPreview = useCallback(\n    (preview: PREVIEW) => {\n      setWindowState({\n        ...windowState,\n        preview\n      });\n    },\n    [setWindowState, windowState]\n  );\n\n  return {\n    showWindow,\n    hideWindow,\n    isWindowActive,\n    windowStack: windowState.windowStack,\n    headerTitle: windowState.headerTitle,\n    preview: windowState.preview,\n    setHeaderTitle,\n    setPreview\n  };\n};\n\ninterface Props {\n  children: React.ReactChild;\n}\n\nconst WindowProvider = ({ children }: Props) => {\n  const windowStack: WindowOptions[] = [\n    {\n      id: ViewOptions.home.id,\n      type: Views.WINDOW_TYPE.SPLIT,\n      component: Views.HomeView\n    }\n  ];\n  const [windowState, setWindowState] = useState<WindowState>({\n    windowStack,\n    headerTitle: ViewOptions.home.title,\n    preview: PREVIEW.MUSIC\n  });\n\n  return (\n    <WindowContext.Provider value={[windowState, setWindowState]}>\n      {children}\n    </WindowContext.Provider>\n  );\n};\n\nexport default WindowProvider;\n","import { useCallback } from 'react';\n\nimport { useWindowService } from 'services/window';\n\nimport useEventListener from './useEventListener';\n\n/** A quick way to use the menu button as a back button. */\nconst useMenuHideWindow = (id: string) => {\n  const { windowStack, hideWindow } = useWindowService();\n\n  const handleClick = useCallback(() => {\n    if (windowStack[windowStack.length - 1].id === id) {\n      hideWindow();\n    }\n  }, [hideWindow, id, windowStack]);\n\n  useEventListener(\"menuclick\", handleClick);\n};\n\nexport default useMenuHideWindow;\n","import { useCallback, useEffect, useRef, useState } from 'react';\n\nimport ViewOptions from 'App/views';\nimport { SelectableListOption } from 'components';\nimport { useAudioService } from 'services/audio';\nimport { useWindowService } from 'services/window';\n\nimport useEventListener from './useEventListener';\n\n/** Accepts a list of options and will maintain a scroll index capped at the list's length. */\nconst useScrollHandler = (\n  /** This should match the view's viewId (to enable/disable events for hidden views). */\n  id: string,\n  /** A list of all scrollable items. Used to cap the scrolling to the last element. */\n  options: SelectableListOption[]\n): [number] => {\n  const { showWindow, windowStack, setPreview } = useWindowService();\n  const { play } = useAudioService();\n  const [index, setIndex] = useState(0);\n  const timeoutIdRef = useRef<any>();\n  /** Only fire events on the top-most view. */\n  const isActive = windowStack[windowStack.length - 1].id === id;\n\n  /** Wait until the user stops scrolling to check for a new preview to display. */\n  const checkForPreview = useCallback(\n    (i: number) => {\n      if (timeoutIdRef.current) {\n        clearTimeout(timeoutIdRef.current);\n      }\n      if (!isActive || !options[i]) return;\n      timeoutIdRef.current = setTimeout(() => {\n        const preview = options[i].preview;\n        if (preview) {\n          setPreview(preview);\n        }\n      }, 750);\n\n      return () => {\n        if (timeoutIdRef.current) {\n          clearTimeout(timeoutIdRef.current);\n        }\n      };\n    },\n    [isActive, options, setPreview]\n  );\n\n  const forwardScroll = useCallback(() => {\n    if (index < options.length - 1 && isActive) {\n      setIndex(index + 1);\n      checkForPreview(index + 1);\n    }\n  }, [checkForPreview, index, isActive, options.length]);\n\n  const backwardScroll = useCallback(() => {\n    if (index > 0 && isActive) {\n      setIndex(index - 1);\n      checkForPreview(index - 1);\n    }\n  }, [checkForPreview, index, isActive]);\n\n  /** Parses the selected option for a new view to show or song to play. */\n  const centerClick = useCallback(() => {\n    const option = options[index];\n    if (!isActive || !option) return;\n\n    if (timeoutIdRef.current) {\n      clearTimeout(timeoutIdRef.current);\n    }\n\n    /** If a viewId is found, that means there's a new view to show. */\n    if (option.viewId) {\n      const View = option.value;\n      const viewOptions = ViewOptions[option.viewId];\n\n      showWindow({\n        type: viewOptions.type,\n        id: option.viewId,\n        component: View\n      });\n    }\n\n    /** If a song is found, play the song. */\n    if (option.playlist) {\n      play(option.playlist, option.songIndex);\n    }\n\n    if (option.link) {\n      window.open(option.link, \"_blank\");\n    }\n  }, [index, isActive, options, play, showWindow]);\n\n  useEffect(() => {\n    if (!options || !options[0]) return;\n\n    const preview = options[0].preview;\n    if (preview) {\n      setPreview(preview);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEventListener(\"centerclick\", centerClick);\n  useEventListener(\"forwardscroll\", forwardScroll);\n  useEventListener(\"backwardscroll\", backwardScroll);\n\n  return [index];\n};\n\nexport default useScrollHandler;\n","import { useEffect, useRef } from \"react\";\n\nconst useInterval = (callback: (...args: any) => any, delay: number) => {\n  const savedCallback = useRef<any>();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    const tick = () => {\n      savedCallback.current();\n    };\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n\nexport default useInterval;\n","import { useCallback, useEffect, useRef } from 'react';\n\n// React hook for delaying calls with time\n// returns callback to use for cancelling\n\nconst useTimeout = (\n  callback: () => void, // function to call. No args passed.\n  // if you create a new callback each render, then previous callback will be cancelled on render.\n  timeout: number = 0 // delay, ms (default: immediately put into JS Event Queue)\n): (() => void) => {\n  const timeoutIdRef = useRef<any>();\n\n  const cancel = useCallback(() => {\n    const timeoutId = timeoutIdRef.current;\n    if (timeoutId) {\n      timeoutIdRef.current = undefined;\n      clearTimeout(timeoutId);\n    }\n  }, [timeoutIdRef]);\n\n  useEffect(() => {\n    timeoutIdRef.current = setTimeout(callback, timeout);\n    return cancel;\n  }, [callback, timeout, cancel]);\n\n  return cancel;\n};\n\nexport default useTimeout;\n","import { useCallback, useEffect, useRef, useState } from 'react';\n\nimport useEventListener from './useEventListener';\n\ninterface VolumeHandlerHook {\n  volume: number;\n  active: boolean;\n  setEnabled: (val: boolean) => void;\n}\n\nconst useVolumeHandler = (): VolumeHandlerHook => {\n  const [active, setActive] = useState(false);\n  const [volume, setVolume] = useState(100);\n  const [enabled, setIsEnabled] = useState(true);\n  const timeoutIdRef = useRef<any>();\n\n  useEffect(() => {\n    const audio = document.getElementById(\"ipodAudio\") as HTMLAudioElement;\n\n    setVolume(audio.volume * 100);\n\n    /** clear the timeout to prevent memory leaks. */\n    return () => {\n      if (timeoutIdRef.current) {\n        clearTimeout(timeoutIdRef.current);\n      }\n    };\n  }, []);\n\n  /** This is used to disable and reset the \"active\" timeout. */\n  const setEnabled = useCallback((val: boolean) => {\n    if (!val && timeoutIdRef.current) {\n      setActive(false);\n      setIsEnabled(false);\n      clearTimeout(timeoutIdRef.current);\n    } else {\n      setActive(false);\n      setIsEnabled(true);\n      clearTimeout(timeoutIdRef.current);\n    }\n  }, []);\n\n  /** The volume bar is \"active\" for 3 seconds after the last volume update. */\n  const setActiveState = useCallback(() => {\n    if (!enabled) return;\n\n    setActive(true);\n    if (timeoutIdRef.current) {\n      clearTimeout(timeoutIdRef.current);\n    }\n    timeoutIdRef.current = setTimeout(() => {\n      setActive(false);\n    }, 3000);\n  }, [enabled]);\n\n  const increaseVolume = useCallback(() => {\n    setActiveState();\n    if (volume === 100 || !enabled) return;\n    const audio = document.getElementById(\"ipodAudio\") as HTMLAudioElement;\n\n    audio.volume = (volume + 4) / 100;\n    setVolume(volume + 4);\n  }, [volume, enabled, setActiveState]);\n\n  const decreaseVolume = useCallback(() => {\n    setActiveState();\n    if (volume === 0 || !enabled) return;\n    const audio = document.getElementById(\"ipodAudio\") as HTMLAudioElement;\n\n    audio.volume = (volume - 4) / 100;\n    setVolume(volume - 4);\n  }, [volume, enabled, setActiveState]);\n\n  useEventListener(\"forwardscroll\", increaseVolume);\n  useEventListener(\"backwardscroll\", decreaseVolume);\n  /** Don't mistake a scroll for a click. */\n  useEventListener(\"wheelclick\", () => setActive(false));\n\n  return {\n    setEnabled,\n    volume,\n    active\n  };\n};\n\nexport default useVolumeHandler;\n","import React from 'react';\n\nimport { Unit } from 'components';\nimport styled, { css } from 'styled-components';\n\nimport { SelectableListOption } from './';\n\ninterface ContainerProps {\n  isActive: boolean;\n}\n\nconst Container = styled.div<ContainerProps>`\n  display: flex;\n  align-items: center;\n  overflow: auto;\n\n  ${props =>\n    props.isActive &&\n    css`\n      color: white;\n      background: linear-gradient(rgb(60, 184, 255) 0%, rgb(52, 122, 181) 100%);\n    `};\n`;\n\nconst Image = styled.img`\n  height: 3rem;\n  width: 3rem;\n`;\n\nconst Icon = styled.img`\n  margin-left: auto;\n`;\n\nconst Label = styled.h3`\n  margin: 0;\n  padding: ${Unit.XXS};\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\ninterface Props {\n  option: SelectableListOption;\n  isActive: boolean;\n}\n\nconst SelectableListItem = ({ option, isActive }: Props) => {\n  return (\n    <Container isActive={isActive}>\n      {option.image && <Image src={option.image} />}\n      <Label>{option.label}</Label>\n      {isActive && <Icon src=\"arrow_right.svg\" />}\n    </Container>\n  );\n};\n\nexport default SelectableListItem;\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport { PREVIEW } from 'App/previews';\nimport { LoadingIndicator } from 'components';\nimport { AnimatePresence } from 'framer-motion';\nimport { useTimeout } from 'hooks';\nimport { Song } from 'services/audio';\nimport styled from 'styled-components';\n\nimport SelectableListItem from './SelectableListItem';\n\nexport interface SelectableListOption {\n  label: string;\n  value: any;\n  viewId?: string;\n  preview?: PREVIEW;\n  link?: string;\n  image?: string;\n  songIndex?: number;\n  playlist?: Song[];\n}\n\nconst Container = styled.div`\n  width: 100%;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n`;\n\ninterface Props {\n  options: SelectableListOption[];\n  activeIndex: number;\n  loading?: boolean;\n}\n\nconst SelectableList = ({ options, activeIndex, loading }: Props) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [isMounted, setIsMounted] = useState(false);\n\n  useTimeout(() => setIsMounted(true), 350);\n\n  /** Always make sure the selected item is within the screen's view. */\n  useEffect(() => {\n    // Delay \"isMounted\" so that the enter animation doesn't get interrupted.\n    // I was stuck on this for like 12 hours and was wondering why\n    // the animation wasn't finishing...\n    if (isMounted && containerRef.current && options.length) {\n      const { children } = containerRef.current;\n      children[activeIndex].scrollIntoView({\n        block: \"nearest\"\n      });\n    }\n  }, [activeIndex, isMounted, options.length]);\n\n  return (\n    <AnimatePresence>\n      {loading ? (\n        <LoadingIndicator backgroundColor=\"white\" />\n      ) : (\n        <Container ref={containerRef}>\n          {options.map((option, index) => (\n            <SelectableListItem\n              key={`option-${option.label}-${index}`}\n              option={option}\n              isActive={index === activeIndex}\n            />\n          ))}\n        </Container>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default SelectableList;\n","import React from 'react';\n\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n`;\n\nconst ProgressContainer = styled.div`\n  position: relative;\n  flex: 1;\n  margin: 0 8px;\n`;\n\nconst Gloss = styled.div`\n  position: absolute;\n  width: 100%;\n  background: url(\"gloss-overlay.svg\") repeat-x;\n  background-size: contain;\n  height: 100%;\n`;\n\ninterface ProgressProps {\n  percent: number;\n  transparent?: boolean;\n}\n\nconst Progress = styled.div.attrs((props: ProgressProps) => ({\n  // This is the recommended syntax for when things change often.\n  style: {\n    width: `${props.percent}%`\n  }\n}))<ProgressProps>`\n  position: relative;\n  height: 100%;\n  background: ${props =>\n    !props.transparent && 'url(\"gloss-blue.svg\") repeat-x'};\n  transition: width 0.1s;\n`;\n\n/** The icon that is displayed when scrubbing. */\nconst Diamond = styled.img`\n  position: absolute;\n  height: 100%;\n  right: -8px;\n  filter: brightness(0.85);\n`;\n\ninterface Props {\n  percent: number;\n  isScrubber?: boolean;\n}\n\nconst ProgressBar = ({ percent, isScrubber }: Props) => {\n  return (\n    <Container>\n      <ProgressContainer>\n        <Gloss />\n        <Progress percent={percent} transparent={isScrubber}>\n          {isScrubber && <Diamond src=\"scrubber.svg\" />}\n        </Progress>\n      </ProgressContainer>\n    </Container>\n  );\n};\n\nexport default ProgressBar;\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport { LoadingIndicator, Unit } from 'components';\nimport { useEventListener, useInterval } from 'hooks';\nimport { useAudioService } from 'services/audio';\nimport styled from 'styled-components';\nimport { formatTime } from 'utils';\n\nimport ProgressBar from './ProgressBar';\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  padding: 0 ${Unit.SM};\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n`;\n\nconst LoadingContainer = styled.div`\n  position: relative;\n  width: 24px;\n`;\n\ninterface LabelProps {\n  textAlign: \"left\" | \"right\";\n}\n\nconst Label = styled.h3<LabelProps>`\n  font-size: 12px;\n  margin: auto 0;\n  width: 30px;\n  text-align: ${props => props.textAlign};\n`;\n\ninterface Props {\n  isScrubbing: boolean;\n}\n\nconst Scubber = ({ isScrubbing }: Props) => {\n  const [currentTime, setCurrentTime] = useState(0);\n  const [maxTime, setMaxTime] = useState(0);\n  const { playing, loading } = useAudioService();\n  const percent = Math.round((currentTime / maxTime) * 100);\n\n  const scrubForward = useCallback(() => {\n    if (currentTime === maxTime || !isScrubbing) return;\n    const audio = document.getElementById(\"ipodAudio\") as HTMLAudioElement;\n    const newTime = currentTime + 1;\n\n    if (newTime < maxTime) {\n      audio.currentTime = newTime;\n      setCurrentTime(newTime);\n    }\n  }, [currentTime, isScrubbing, maxTime]);\n\n  const scrubBackward = useCallback(() => {\n    if (currentTime === 0 || !isScrubbing) return;\n    const audio = document.getElementById(\"ipodAudio\") as HTMLAudioElement;\n    const newTime = currentTime - 1;\n\n    if (newTime >= 0) {\n      audio.currentTime = newTime;\n      setCurrentTime(newTime);\n    }\n  }, [currentTime, isScrubbing]);\n\n  const refresh = useCallback(\n    (force?: boolean) => {\n      if (playing || force) {\n        const audio = document.getElementById(\"ipodAudio\") as HTMLAudioElement;\n        setCurrentTime(audio.currentTime);\n        setMaxTime(audio.duration);\n      }\n    },\n    [playing]\n  );\n\n  useEventListener(\"forwardscroll\", scrubForward);\n  useEventListener(\"backwardscroll\", scrubBackward);\n\n  /** Update the progress bar every second. */\n  useInterval(refresh, 1000);\n\n  useEffect(() => refresh(true), [refresh]);\n\n  return (\n    <Container>\n      {loading ? (\n        <LoadingContainer>\n          <LoadingIndicator size={14} />\n        </LoadingContainer>\n      ) : (\n        <Label textAlign=\"left\">{formatTime(currentTime)}</Label>\n      )}\n      <ProgressBar percent={loading ? 0 : percent} isScrubber />\n      <Label textAlign=\"right\">-{formatTime(maxTime - currentTime)}</Label>\n    </Container>\n  );\n};\n\nexport default Scubber;\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport { LoadingIndicator, Unit } from 'components';\nimport { useInterval } from 'hooks';\nimport { useAudioService } from 'services/audio';\nimport styled from 'styled-components';\nimport { formatTime } from 'utils';\n\nimport ProgressBar from './ProgressBar';\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  padding: 0 ${Unit.SM};\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n`;\n\nconst LoadingContainer = styled.div`\n  position: relative;\n  width: 24px;\n`;\n\ninterface LabelProps {\n  textAlign: \"left\" | \"right\";\n}\n\nconst Label = styled.h3<LabelProps>`\n  font-size: 12px;\n  margin: auto 0;\n  width: 30px;\n  text-align: ${props => props.textAlign};\n`;\n\nconst TrackProgress = () => {\n  const [currentTime, setCurrentTime] = useState(0);\n  const [maxTime, setMaxTime] = useState(0);\n  const { playing, loading } = useAudioService();\n  const percent = Math.round((currentTime / maxTime) * 100);\n\n  const refresh = useCallback(\n    (force?: boolean) => {\n      if (playing || force) {\n        const audio = document.getElementById(\"ipodAudio\") as HTMLAudioElement;\n        setCurrentTime(audio.currentTime);\n        setMaxTime(audio.duration);\n      }\n    },\n    [playing]\n  );\n\n  /** Update the progress bar every second. */\n  useInterval(refresh, 1000);\n\n  useEffect(() => refresh(true), [refresh]);\n\n  return (\n    <Container>\n      {loading ? (\n        <LoadingContainer>\n          <LoadingIndicator size={14} />\n        </LoadingContainer>\n      ) : (\n        <Label textAlign=\"left\">{formatTime(currentTime)}</Label>\n      )}\n      <ProgressBar percent={loading ? 0 : percent} />\n      <Label textAlign=\"right\">-{formatTime(maxTime - currentTime)}</Label>\n    </Container>\n  );\n};\n\nexport default TrackProgress;\n","import React from 'react';\n\nimport { Unit } from 'components';\nimport styled from 'styled-components';\n\nimport ProgressBar from './ProgressBar';\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1;\n  height: 1em;\n  padding: 0 ${Unit.SM};\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(60%, transparent), to(rgba(250, 250, 250, 0.1)));\n`;\n\nconst Icon = styled.img`\n  font-size: 12px;\n  margin: auto 0;\n  width: 30px;\n  height: 16px;\n`;\n\ninterface Props {\n  percent: number;\n}\n\nconst VolumeBar = ({ percent }: Props) => {\n  return (\n    <Container>\n      <Icon src=\"volume_mute.svg\" />\n      <ProgressBar percent={percent} />\n      <Icon src=\"volume_full.svg\" />\n    </Container>\n  );\n};\n\nexport default VolumeBar;\n","import React, { useCallback, useState } from 'react';\n\nimport { Unit } from 'components';\nimport { useEventListener, useVolumeHandler } from 'hooks';\nimport styled from 'styled-components';\n\nimport Scrubber from './Scrubber';\nimport TrackProgress from './TrackProgress';\nimport VolumeBar from './VolumeBar';\n\nconst Container = styled.div`\n  position: relative;\n  width: 100%;\n  padding: 0 ${Unit.MD} ${Unit.MD};\n`;\n\ninterface ContainerProps {\n  isHidden: boolean;\n}\n\nconst MainContainer = styled.div<ContainerProps>`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: ${Unit.XS};\n  right: ${Unit.XS};\n  transition: transform 0.3s;\n\n  transform: ${props => props.isHidden && \"translateX(-110%)\"};\n`;\n\nconst ScrubberContainer = styled.div<ContainerProps>`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: ${Unit.XS};\n  right: ${Unit.XS};\n  transition: transform 0.3s;\n\n  transform: ${props => props.isHidden && \"translateX(110%)\"};\n`;\n\nconst Controls = () => {\n  const { volume, active, setEnabled } = useVolumeHandler();\n  const [isScrubbing, setIsScrubbing] = useState(false);\n\n  const handleCenterClick = useCallback(() => {\n    if (isScrubbing) {\n      // Enable the volume controls.\n      setEnabled(true);\n      setIsScrubbing(false);\n    } else {\n      // Disable the volume controls.\n      setEnabled(false);\n      setIsScrubbing(true);\n    }\n  }, [isScrubbing, setEnabled]);\n\n  useEventListener(\"centerclick\", handleCenterClick);\n\n  return (\n    <Container>\n      <MainContainer isHidden={isScrubbing}>\n        {active && !isScrubbing && <VolumeBar percent={volume} />}\n      </MainContainer>\n      <MainContainer hidden={active && !isScrubbing} isHidden={isScrubbing}>\n        <TrackProgress />\n      </MainContainer>\n      <ScrubberContainer isHidden={!isScrubbing}>\n        <Scrubber isScrubbing={isScrubbing} />\n      </ScrubberContainer>\n    </Container>\n  );\n};\n\nexport default Controls;\n","import React from 'react';\n\nimport { useAudioService } from 'services/audio';\nimport { useWindowService } from 'services/window';\nimport styled from 'styled-components';\n\nconst Container = styled.div` \n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 6px;\n  height: 20px;\n  background: linear-gradient(180deg, #feffff 0%, #b1b6b9 100%);\n  border-bottom: 1px solid #7995a3;\n  box-sizing: border-box;\n`;\n\nconst Text = styled.h3`\n  margin: 0;\n  font-size: 13px;\n`;\n\nconst IconContainer = styled.div`\n  display: flex;\n`;\n\nconst Icon = styled.img`\n  max-height: 12px;\n  margin-left: 8px;\n`;\n\nconst Header = () => {\n  const { headerTitle } = useWindowService();\n  const { playing, source } = useAudioService();\n\n  return headerTitle ? (\n    <Container>\n      <Text>{headerTitle}</Text>\n      <IconContainer>\n        {playing && <Icon src=\"play.svg\" />}\n        {source && !playing && <Icon src=\"pause.svg\" />}\n        <Icon src=\"battery.svg\" />\n      </IconContainer>\n    </Container>\n  ) : null;\n};\n\nexport default Header;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { useInterval } from 'hooks';\nimport styled from 'styled-components';\nimport { getUrlFromPath } from 'utils';\n\nconst Container = styled.div``;\n\ninterface ImageProps {\n  zIndex: number;\n  startedAnimation: boolean;\n  isHidden: boolean;\n}\n\nconst Image = styled.img<ImageProps>`\n  z-index: ${props => props.zIndex};\n  position: absolute;\n  height: 100%;\n  right: 0;\n  animation: ${props => props.startedAnimation && \"kenBurns\"} 20s;\n  opacity: ${props => props.isHidden && 0};\n  transition: opacity 2s;\n\n  @keyframes kenBurns {\n    0% {\n      transform: translateX(0%);\n    }\n\n    100% {\n      transform: translateX(10%);\n    }\n  }\n`;\n\ninterface Props {\n  urls: string[];\n}\n\nconst KenBurns = ({ urls }: Props) => {\n  const [stack, setStack] = useState<string[]>([]);\n  const [transitioning, setTransitioning] = useState(false);\n  const timeoutIdRef = useRef<any>();\n\n  useEffect(() => {\n    setStack(urls);\n  }, [urls]);\n\n  /** Move the currently displayed image to the bottom of the stack. */\n  const cycleImage = useCallback(() => {\n    setTransitioning(true);\n\n    timeoutIdRef.current = setTimeout(() => {\n      const newStack = stack.slice(1);\n\n      setStack([...newStack, stack[0]]);\n      setTransitioning(false);\n    }, 2000);\n\n    return () => {\n      if (timeoutIdRef.current) {\n        clearTimeout(timeoutIdRef.current);\n      }\n    };\n  }, [stack]);\n\n  /** Cycle through an image every 5 seconds. */\n  useInterval(cycleImage, 5000);\n\n  return (\n    <Container>\n      {stack.slice(0, 2).map((path, index) => (\n        <Image\n          key={`ken-burns-${path}`}\n          zIndex={3 - index}\n          src={getUrlFromPath(path)}\n          startedAnimation={index === 0 || transitioning}\n          isHidden={transitioning && index === 0}\n        />\n      ))}\n    </Container>\n  );\n};\n\nexport default KenBurns;\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport { Controls, Unit } from 'components';\nimport { useAudioService } from 'services/audio';\nimport { useWindowService } from 'services/window';\nimport styled from 'styled-components';\nimport { getUrlFromPath } from 'utils';\n\nconst Container = styled.div`\n  height: 100%;\n`;\n\nconst MetadataContainer = styled.div`\n  display: flex;\n  height: 70%;\n  padding: 0 ${Unit.XS};\n`;\n\ninterface ArtworkContainerProps {\n  isHidden?: boolean;\n}\n\nconst ArtworkContainer = styled.div<ArtworkContainerProps>`\n  height: 8em;\n  width: 8em;\n  margin: auto ${Unit.SM};\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(70%, transparent), to(rgba(250, 250, 250, 0.1)));\n  transform-style: preserve-3d;\n  perspective: 500px;\n  opacity: ${props => props.isHidden && 0};\n`;\n\nconst Artwork = styled.img`\n  height: 100%;\n  width: 100%;\n  transform: rotateY(18deg);\n  border: 1px solid #f3f3f3;\n`;\n\nconst InfoContainer = styled.div`\n  flex: 1;\n  margin: auto 0 auto ${Unit.XS};\n`;\n\nconst Text = styled.h3`\n  margin: 0;\n  font-size: 0.92rem;\n`;\n\nconst Subtext = styled(Text)`\n  color: rgb(99, 101, 103);\n  font-size: 0.75rem;\n`;\n\nconst ControlsContainer = styled.div`\n  display: flex;\n  align-items: center;\n  height: 30%;\n`;\n\ninterface Props {\n  hideArtwork?: boolean;\n  onHide: () => void;\n}\n\nconst NowPlaying = ({ hideArtwork, onHide }: Props) => {\n  const { hideWindow } = useWindowService();\n  const { source, songIndex, playlist } = useAudioService();\n  const [windowHidden, setWindowHidden] = useState(false);\n\n  const handleWindowHide = useCallback(() => {\n    if (!windowHidden) {\n      onHide();\n      setWindowHidden(true);\n    }\n  }, [onHide, windowHidden]);\n\n  useEffect(() => {\n    if (!source) {\n      handleWindowHide();\n    }\n  }, [handleWindowHide, hideWindow, source]);\n\n  return source ? (\n    <Container>\n      <MetadataContainer>\n        <ArtworkContainer isHidden={hideArtwork}>\n          <Artwork src={getUrlFromPath(source.artwork)}></Artwork>\n        </ArtworkContainer>\n        <InfoContainer>\n          <Text>{source.name}</Text>\n          <Subtext>{source.artist}</Subtext>\n          <Subtext>{source.album}</Subtext>\n          <Subtext>{`${songIndex + 1} of ${playlist.length}`}</Subtext>\n        </InfoContainer>\n      </MetadataContainer>\n      <ControlsContainer>\n        <Controls />\n      </ControlsContainer>\n    </Container>\n  ) : null;\n};\n\nexport default NowPlaying;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\n\n// NOTE: This is a legacy file that I pulled from an\n//       older version of this same project.\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  margin: auto 0;\n  touch-action: none;\n  transform: translate3d(0, 0, 0);\n`;\n\nconst CanvasContainer = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ${props => props.width}px;\n  height: ${props => props.height}px;\n`;\n\nconst Canvas = styled.canvas`\n  border-radius: 50%;\n  border: 1px solid #b9b9b9;\n  background: white;\n`;\n\nconst CenterButton = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  width: ${props => props.size / 2.5}px;\n  height: ${props => props.size / 2.5}px;\n  border-radius: 50%;\n  box-shadow: rgb(191, 191, 191) 0px 1em 3em inset;\n  background: rgb(225, 225, 225);\n  border: 1px solid #b9b9b9;\n  \n  :active {\n    filter: brightness(0.9);\n  }\n`;\n\nconst WheelButton = styled.img`\n  position: absolute;\n  margin: ${props => props.margin};\n  top: ${props => props.top};\n  bottom: ${props => props.bottom};\n  left: ${props => props.left};\n  right: ${props => props.right};\n  user-select: none;\n  pointer-events: none;\n  max-height: 13px;\n`;\n\nclass Knob extends React.Component {\n  static propTypes = {\n    value: PropTypes.number.isRequired,\n    onChange: PropTypes.func.isRequired,\n    onClick: PropTypes.func,\n    onWheelClick: PropTypes.func,\n    onChangeEnd: PropTypes.func,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    log: PropTypes.bool,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    thickness: PropTypes.number,\n    lineCap: PropTypes.oneOf([\"butt\", \"round\"]),\n    bgColor: PropTypes.string,\n    fgColor: PropTypes.string,\n    inputColor: PropTypes.string,\n    font: PropTypes.string,\n    fontWeight: PropTypes.string,\n    clockwise: PropTypes.bool,\n    cursor: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]),\n    stopper: PropTypes.bool,\n    disableTextInput: PropTypes.bool,\n    displayInput: PropTypes.bool,\n    displayCustom: PropTypes.func,\n    angleArc: PropTypes.number,\n    angleOffset: PropTypes.number,\n    className: PropTypes.string,\n    canvasClassName: PropTypes.string\n  };\n\n  static defaultProps = {\n    onChangeEnd: () => {},\n    onWheelClick: () => {},\n    onClick: () => {},\n    min: 0,\n    max: 100,\n    step: 1,\n    log: false,\n    width: 200,\n    height: 200,\n    thickness: 0.35,\n    lineCap: \"butt\",\n    bgColor: \"#EEE\",\n    fgColor: \"#EA2\",\n    inputColor: \"\",\n    font: \"Arial\",\n    fontWeight: \"bold\",\n    clockwise: true,\n    cursor: false,\n    stopper: true,\n    disableTextInput: false,\n    displayInput: true,\n    angleArc: 360,\n    angleOffset: 0,\n    className: null,\n    canvasClassName: null\n  };\n\n  constructor(props) {\n    super(props);\n    this.w = this.props.width || 200;\n    this.h = this.props.height || this.w;\n    this.cursorExt = this.props.cursor === true ? 0.3 : this.props.cursor / 100;\n    this.angleArc = (this.props.angleArc * Math.PI) / 180;\n    this.angleOffset = (this.props.angleOffset * Math.PI) / 180;\n    this.startAngle = 1.5 * Math.PI + this.angleOffset;\n    this.endAngle = 1.5 * Math.PI + this.angleOffset + this.angleArc;\n    this.digits =\n      Math.max(\n        String(Math.abs(this.props.min)).length,\n        String(Math.abs(this.props.max)).length,\n        2\n      ) + 2;\n  }\n\n  componentDidMount() {\n    this.drawCanvas();\n    this.canvasRef.addEventListener(\"touchstart\", this.handleTouchStart, {\n      passive: false\n    });\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.width && this.w !== nextProps.width) {\n      this.w = nextProps.width;\n    }\n    if (nextProps.height && this.h !== nextProps.height) {\n      this.h = nextProps.height;\n    }\n  }\n\n  componentDidUpdate() {\n    this.drawCanvas();\n  }\n\n  componentWillUnmount() {\n    this.canvasRef.removeEventListener(\"touchstart\", this.handleTouchStart);\n  }\n\n  getArcToValue = v => {\n    let startAngle;\n    let endAngle;\n    const angle = !this.props.log\n      ? ((v - this.props.min) * this.angleArc) /\n        (this.props.max - this.props.min)\n      : Math.log(Math.pow(v / this.props.min, this.angleArc)) /\n        Math.log(this.props.max / this.props.min);\n    if (!this.props.clockwise) {\n      startAngle = this.endAngle + 0.00001;\n      endAngle = startAngle - angle - 0.00001;\n    } else {\n      startAngle = this.startAngle - 0.00001;\n      endAngle = startAngle + angle + 0.00001;\n    }\n    if (this.props.cursor) {\n      startAngle = endAngle - this.cursorExt;\n      endAngle += this.cursorExt;\n    }\n    return {\n      startAngle,\n      endAngle,\n      acw: !this.props.clockwise && !this.props.cursor\n    };\n  };\n\n  // Calculate ratio to scale canvas to avoid blurriness on HiDPI devices\n  getCanvasScale = ctx => {\n    const devicePixelRatio =\n      window.devicePixelRatio ||\n      window.screen.deviceXDPI / window.screen.logicalXDPI || // IE10\n      1;\n    const backingStoreRatio = ctx.webkitBackingStorePixelRatio || 1;\n    return devicePixelRatio / backingStoreRatio;\n  };\n\n  coerceToStep = v => {\n    let val = !this.props.log\n      ? ~~((v < 0 ? -0.5 : 0.5) + v / this.props.step) * this.props.step\n      : Math.pow(\n          this.props.step,\n          ~~(\n            (Math.abs(v) < 1 ? -0.5 : 0.5) +\n            Math.log(v) / Math.log(this.props.step)\n          )\n        );\n    val = Math.max(Math.min(val, this.props.max), this.props.min);\n    if (isNaN(val)) {\n      val = 0;\n    }\n    return Math.round(val * 1000) / 1000;\n  };\n\n  eventToValue = e => {\n    const bounds = this.canvasRef.getBoundingClientRect();\n    const x = e.clientX - bounds.left;\n    const y = e.clientY - bounds.top;\n    let a = Math.atan2(x - this.w / 2, this.w / 2 - y) - this.angleOffset;\n    if (!this.props.clockwise) {\n      a = this.angleArc - a - 2 * Math.PI;\n    }\n    if (this.angleArc !== Math.PI * 2 && a < 0 && a > -0.5) {\n      a = 0;\n    } else if (a < 0) {\n      a += Math.PI * 2;\n    }\n    const val = !this.props.log\n      ? (a * (this.props.max - this.props.min)) / this.angleArc + this.props.min\n      : Math.pow(this.props.max / this.props.min, a / this.angleArc) *\n        this.props.min;\n    return this.coerceToStep(val);\n  };\n\n  handleMouseDown = e => {\n    this.props.onChange(this.eventToValue(e));\n    document.addEventListener(\"mousemove\", this.handleMouseMove);\n    document.addEventListener(\"mouseup\", this.handleMouseUpNoMove);\n  };\n\n  handleTouchStart = e => {\n    this.props.onChange(this.eventToValue(e));\n    document.addEventListener(\"touchmove\", this.handleTouchMove, {\n      passive: false\n    });\n    document.addEventListener(\"touchend\", this.handleTouchEndNoMove);\n  };\n\n  handleMouseMove = e => {\n    e.preventDefault();\n    const val = this.eventToValue(e);\n\n    if (val !== this.props.value) {\n      this.props.onChange(this.eventToValue(e));\n    }\n\n    document.removeEventListener(\"mouseup\", this.handleMouseUpNoMove);\n    document.addEventListener(\"mouseup\", this.handleMouseUp);\n  };\n\n  handleTouchMove = e => {\n    e.preventDefault();\n    const touchIndex = e.targetTouches.length - 1;\n    const val = this.eventToValue(e.targetTouches[touchIndex]);\n\n    if (val !== this.props.value) {\n      this.props.onChange(val);\n    }\n\n    document.removeEventListener(\"touchend\", this.handleTouchEndNoMove);\n    document.addEventListener(\"touchend\", this.handleTouchEnd);\n  };\n\n  handleMouseUp = e => {\n    this.props.onChangeEnd(this.eventToValue(e));\n    document.removeEventListener(\"mousemove\", this.handleMouseMove);\n    document.removeEventListener(\"mouseup\", this.handleMouseUp);\n  };\n\n  handleTouchEnd = e => {\n    const touchIndex = e.targetTouches.length - 1;\n    this.props.onChangeEnd(e.targetTouches[touchIndex]);\n    document.removeEventListener(\"touchmove\", this.handleTouchMove);\n    document.removeEventListener(\"touchend\", this.handleTouchEnd);\n  };\n\n  findClickQuadrant = (rectSize, x, y) => {\n    if (y < rectSize / 4) {\n      return 1;\n    } else if (y > rectSize * 0.75) {\n      return 2;\n    } else if (x < rectSize / 4) {\n      return 3;\n    } else if (x > rectSize * 0.75) {\n      return 4;\n    }\n    return -1;\n  };\n\n  handleMouseUpNoMove = e => {\n    const rect = e.target.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const rectWidth = rect.width;\n    const quadrant = this.findClickQuadrant(rectWidth, x, y);\n    if (quadrant > 0 && quadrant <= 4) {\n      this.props.onWheelClick(quadrant);\n    }\n\n    document.removeEventListener(\"mousemove\", this.handleMouseMove);\n    document.removeEventListener(\"mouseup\", this.handleMouseUp);\n    document.removeEventListener(\"mouseup\", this.handleMouseUpNoMove);\n  };\n\n  handleTouchEndNoMove = e => {\n    const rect = e.target.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const rectWidth = rect.width;\n    const quadrant = this.findClickQuadrant(rectWidth, x, y);\n    if (quadrant > 0 && quadrant <= 4) {\n      this.props.onWheelClick(quadrant);\n    }\n\n    document.removeEventListener(\"touchmove\", this.handleTouchMove);\n    document.removeEventListener(\"touchend\", this.handleTouchEnd);\n    document.removeEventListener(\"touchend\", this.handleTouchEndNoMove);\n  };\n\n  handleEsc = e => {\n    if (e.keyCode === 27) {\n      e.preventDefault();\n      this.handleMouseUp();\n    }\n  };\n\n  handleTextInput = e => {\n    const val =\n      Math.max(Math.min(+e.target.value, this.props.max), this.props.min) ||\n      this.props.min;\n    this.props.onChange(val);\n  };\n\n  handleWheel = e => {\n    e.preventDefault();\n    if (e.deltaX > 0 || e.deltaY > 0) {\n      this.props.onChange(\n        this.coerceToStep(\n          !this.props.log\n            ? this.props.value + this.props.step\n            : this.props.value * this.props.step\n        )\n      );\n    } else if (e.deltaX < 0 || e.deltaY < 0) {\n      this.props.onChange(\n        this.coerceToStep(\n          !this.props.log\n            ? this.props.value - this.props.step\n            : this.props.value / this.props.step\n        )\n      );\n    }\n  };\n\n  handleArrowKey = e => {\n    if (e.keyCode === 37 || e.keyCode === 40) {\n      e.preventDefault();\n      this.props.onChange(\n        this.coerceToStep(\n          !this.props.log\n            ? this.props.value - this.props.step\n            : this.props.value / this.props.step\n        )\n      );\n    } else if (e.keyCode === 38 || e.keyCode === 39) {\n      e.preventDefault();\n      this.props.onChange(\n        this.coerceToStep(\n          !this.props.log\n            ? this.props.value + this.props.step\n            : this.props.value * this.props.step\n        )\n      );\n    }\n  };\n\n  inputStyle = () => ({\n    width: `${(this.w / 2 + 4) >> 0}px`,\n    height: `${(this.w / 3) >> 0}px`,\n    position: \"absolute\",\n    verticalAlign: \"middle\",\n    marginTop: `${(this.w / 3) >> 0}px`,\n    marginLeft: `-${((this.w * 3) / 4 + 2) >> 0}px`,\n    border: 0,\n    outline: \"none\",\n    background: \"none\",\n    font: `${this.props.fontWeight} ${(this.w / this.digits) >> 0}px ${\n      this.props.font\n    }`,\n    textAlign: \"center\",\n    color: this.props.inputColor || this.props.fgColor,\n    padding: \"0px\",\n    WebkitAppearance: \"none\",\n    cursor: \"pointer\"\n  });\n\n  drawCanvas() {\n    const ctx = this.canvasRef.getContext(\"2d\");\n    const scale = this.getCanvasScale(ctx);\n    this.canvasRef.width = this.w * scale; // clears the canvas\n    this.canvasRef.height = this.h * scale;\n    ctx.scale(scale, scale);\n    this.xy = this.w / 2; // coordinates of canvas center\n    this.lineWidth = this.xy * this.props.thickness;\n    this.radius = this.xy - this.lineWidth / 2;\n    ctx.lineWidth = this.lineWidth;\n    ctx.lineCap = this.props.lineCap;\n    // background arc\n    ctx.beginPath();\n    ctx.strokeStyle = this.props.bgColor;\n    ctx.arc(\n      this.xy,\n      this.xy,\n      this.radius,\n      this.endAngle - 0.00001,\n      this.startAngle + 0.00001,\n      true\n    );\n    ctx.stroke();\n    // foreground arc\n    const a = this.getArcToValue(this.props.value);\n    ctx.beginPath();\n    ctx.strokeStyle = this.props.fgColor;\n    ctx.arc(this.xy, this.xy, this.radius, a.startAngle, a.endAngle, a.acw);\n    ctx.stroke();\n  }\n\n  render() {\n    const { canvasClassName, onClick } = this.props;\n\n    return (\n      <Container>\n        <CanvasContainer width={this.w} height={this.h}>\n          <Canvas\n            ref={ref => {\n              this.canvasRef = ref;\n            }}\n            className={canvasClassName}\n            style={{ width: \"100%\", height: \"100%\" }}\n            onMouseDown={this.handleMouseDown}\n          />\n          <CenterButton onClick={onClick} size={this.w} />\n          <WheelButton top=\"8%\" margin=\"0 auto\" src=\"menu.svg\" />\n          <WheelButton right=\"8%\" margin=\"auto 0\" src=\"fast_forward.svg\" />\n          <WheelButton left=\"8%\" margin=\"auto 0\" src=\"rewind.svg\" />\n          <WheelButton bottom=\"8%\" margin=\"0 auto\" src=\"play_pause.svg\" />\n        </CanvasContainer>\n      </Container>\n    );\n  }\n}\n\nexport default Knob;\n","import React, { useCallback, useState } from 'react';\n\nimport { useEventListener } from 'hooks';\nimport { useAudioService } from 'services/audio';\n\nimport Knob from './Knob';\n\nenum WHEEL_QUADRANT {\n  TOP = 1,\n  BOTTOM = 2,\n  LEFT = 3,\n  RIGHT = 4\n}\n\nenum KEY_CODE {\n  ARROW_UP = 38,\n  ARROW_DOWN = 40,\n  ARROW_LEFT = 37,\n  ARROW_RIGHT = 39,\n  ESC = 27,\n  ENTER = 13,\n  SPACE = 32\n}\n\nconst centerClickEvent = new Event(\"centerclick\");\nconst forwardScrollEvent = new Event(\"forwardscroll\");\nconst backwardScrollEvent = new Event(\"backwardscroll\");\nconst wheelClickEvent = new Event(\"wheelclick\");\nconst menuClickEvent = new Event(\"menuclick\");\nconst backClickEvent = new Event(\"backclick\");\n\nconst ScrollWheel = () => {\n  const [count, setCount] = useState(0);\n  const { togglePause, nextSong } = useAudioService();\n\n  const handleCenterClick = useCallback(\n    () => window.dispatchEvent(centerClickEvent),\n    []\n  );\n\n  const handleClockwiseScroll = useCallback(\n    () => window.dispatchEvent(forwardScrollEvent),\n    []\n  );\n\n  const handleCounterClockwiseScroll = useCallback(() => {\n    window.dispatchEvent(backwardScrollEvent);\n  }, []);\n\n  const handleWheelClick = useCallback(\n    (quadrant: number) => {\n      window.dispatchEvent(wheelClickEvent);\n\n      switch (quadrant) {\n        case WHEEL_QUADRANT.TOP:\n          window.dispatchEvent(menuClickEvent);\n          break;\n        case WHEEL_QUADRANT.BOTTOM:\n          togglePause();\n          break;\n        case WHEEL_QUADRANT.LEFT:\n          window.dispatchEvent(backClickEvent);\n          break;\n        case WHEEL_QUADRANT.RIGHT:\n          nextSong();\n          break;\n      }\n    },\n    [nextSong, togglePause]\n  );\n\n  /** Allows for keyboard navigation. */\n  const handleKeyPress = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      switch (event.keyCode) {\n        case KEY_CODE.ARROW_UP:\n        case KEY_CODE.ARROW_LEFT:\n          handleCounterClockwiseScroll();\n          break;\n        case KEY_CODE.ARROW_DOWN:\n        case KEY_CODE.ARROW_RIGHT:\n          handleClockwiseScroll();\n          break;\n        case KEY_CODE.ENTER:\n          handleCenterClick();\n          break;\n        case KEY_CODE.SPACE:\n          togglePause();\n          break;\n        case KEY_CODE.ESC:\n          handleWheelClick(WHEEL_QUADRANT.TOP);\n          break;\n      }\n    },\n    [\n      handleCounterClockwiseScroll,\n      handleClockwiseScroll,\n      handleCenterClick,\n      togglePause,\n      handleWheelClick\n    ]\n  );\n\n  /** Determine if clockwise/counter-clockwise based on the Knob onChange value. */\n  const handleScroll = useCallback(\n    (val: number) => {\n      if (val === 0 && count === 100) {\n        handleClockwiseScroll();\n      } else if (val === 100 && count === 0) {\n        handleCounterClockwiseScroll();\n      } else if (val > count) {\n        handleClockwiseScroll();\n      } else if (val < count) {\n        handleCounterClockwiseScroll();\n      }\n      setCount(val);\n    },\n    [count, handleClockwiseScroll, handleCounterClockwiseScroll]\n  );\n\n  useEventListener(\"keydown\", handleKeyPress);\n\n  return (\n    <Knob\n      value={count}\n      min={0}\n      max={100}\n      width={220}\n      height={220}\n      step={5}\n      fgColor=\"transparent\"\n      bgColor={\"white\"}\n      thickness={0.6}\n      onClick={handleCenterClick}\n      onWheelClick={handleWheelClick}\n      onChange={handleScroll}\n    />\n  );\n};\n\nexport default ScrollWheel;\n","import React from 'react';\n\nimport { fade } from 'animation';\nimport { motion } from 'framer-motion';\nimport styled from 'styled-components';\n\ninterface ContainerProps {\n  backgroundColor?: string;\n}\n\nconst Container = styled(motion.div)<ContainerProps>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  background: ${props => props.backgroundColor};\n`;\n\ninterface Props {\n  size?: number;\n  backgroundColor?: string;\n}\n\nconst LoadingIndicator = ({ size, backgroundColor }: Props) => {\n  return (\n    <Container {...fade} backgroundColor={backgroundColor}>\n      <svg\n        version=\"1.1\"\n        x=\"0px\"\n        y=\"0px\"\n        viewBox=\"0 0 2400 2400\"\n        width={size || 24}\n        height={size || 24}\n      >\n        <g\n          strokeWidth=\"200\"\n          strokeLinecap=\"round\"\n          stroke=\"#000000\"\n          fill=\"none\"\n          id=\"spinner\"\n        >\n          <line x1=\"1200\" y1=\"600\" x2=\"1200\" y2=\"100\" />\n          <line opacity=\"0.5\" x1=\"1200\" y1=\"2300\" x2=\"1200\" y2=\"1800\" />\n          <line opacity=\"0.917\" x1=\"900\" y1=\"680.4\" x2=\"650\" y2=\"247.4\" />\n          <line opacity=\"0.417\" x1=\"1750\" y1=\"2152.6\" x2=\"1500\" y2=\"1719.6\" />\n          <line opacity=\"0.833\" x1=\"680.4\" y1=\"900\" x2=\"247.4\" y2=\"650\" />\n          <line opacity=\"0.333\" x1=\"2152.6\" y1=\"1750\" x2=\"1719.6\" y2=\"1500\" />\n          <line opacity=\"0.75\" x1=\"600\" y1=\"1200\" x2=\"100\" y2=\"1200\" />\n          <line opacity=\"0.25\" x1=\"2300\" y1=\"1200\" x2=\"1800\" y2=\"1200\" />\n          <line opacity=\"0.667\" x1=\"680.4\" y1=\"1500\" x2=\"247.4\" y2=\"1750\" />\n          <line opacity=\"0.167\" x1=\"2152.6\" y1=\"650\" x2=\"1719.6\" y2=\"900\" />\n          <line opacity=\"0.583\" x1=\"900\" y1=\"1719.6\" x2=\"650\" y2=\"2152.6\" />\n          <line opacity=\"0.083\" x1=\"1750\" y1=\"247.4\" x2=\"1500\" y2=\"680.4\" />\n          <animateTransform\n            attributeName=\"transform\"\n            attributeType=\"XML\"\n            type=\"rotate\"\n            keyTimes=\"0;0.08333;0.16667;0.25;0.33333;0.41667;0.5;0.58333;0.66667;0.75;0.83333;0.91667\"\n            values=\"0 1199 1199;30 1199 1199;60 1199 1199;90 1199 1199;120 1199 1199;150 1199 1199;180 1199 1199;210 1199 1199;240 1199 1199;270 1199 1199;300 1199 1199;330 1199 1199\"\n            dur=\"0.83333s\"\n            begin=\"0s\"\n            repeatCount=\"indefinite\"\n            calcMode=\"discrete\"\n          />\n        </g>\n      </svg>\n    </Container>\n  );\n};\n\nexport default LoadingIndicator;\n","import React, { useCallback, useEffect, useRef } from 'react';\n\nimport { useEventListener } from 'hooks';\nimport { useAudioService } from 'services/audio';\n\nconst Audio = () => {\n  const {\n    source,\n    playing,\n    nextSong,\n    prevSong,\n    loading,\n    setLoading\n  } = useAudioService();\n  const audioRef = useRef<HTMLAudioElement>(null);\n\n  const handlePlay = useCallback(async () => {\n    if (audioRef.current && audioRef.current.paused) {\n      await audioRef.current.play();\n    }\n  }, []);\n\n  const handlePause = useCallback(async () => {\n    if (audioRef.current && !audioRef.current.paused) {\n      audioRef.current.pause();\n    }\n  }, []);\n\n  const handleBackClick = useCallback(() => {\n    if (source && audioRef.current) {\n      if (audioRef.current.currentTime < 3) {\n        prevSong();\n      } else {\n        audioRef.current.currentTime = 0;\n      }\n    }\n  }, [prevSong, source]);\n\n  const handleLoadStart = useCallback(() => {\n    setLoading(true);\n  }, [setLoading]);\n\n  const handleLoadEnd = useCallback(() => {\n    setLoading(false);\n  }, [setLoading]);\n\n  useEffect(() => {\n    if (playing && audioRef.current && !loading) {\n      handlePlay();\n    } else if (!playing && audioRef.current && audioRef.current.src) {\n      handlePause();\n    }\n  }, [handlePause, handlePlay, loading, playing]);\n\n  useEventListener(\"backclick\", handleBackClick);\n\n  return source ? (\n    <audio\n      ref={audioRef}\n      id=\"ipodAudio\"\n      onLoadStart={handleLoadStart}\n      onCanPlay={handleLoadEnd}\n      onEnded={nextSong}\n      src={`https://tannerv.ddns.net/SpotiFree/${encodeURI(source.url)}`}\n    />\n  ) : null;\n};\n\nexport default Audio;\n","import React from 'react';\n\nimport { fade } from 'animation';\nimport { Header } from 'components';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { WindowOptions } from 'services/window';\nimport styled from 'styled-components';\n\nconst Container = styled(motion.div)`\n  z-index: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\ninterface Props {\n  window?: WindowOptions;\n}\n\nconst CoverFlowInterface = ({ window }: Props) => {\n  return (\n    <AnimatePresence>\n      {window && (\n        <Container {...fade}>\n          <Header />\n          <window.component />\n        </Container>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default CoverFlowInterface;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { WindowOptions, useWindowService } from \"services/window\";\nimport { slideRightAnimation, noAnimation } from \"animation\";\nimport { motion } from \"framer-motion\";\n\ninterface ContainerProps {\n  index: number;\n  showHeader: boolean;\n}\n\n/** Responsible for putting the window at the proper z-index. */\nexport const Container = styled(motion.div)<ContainerProps>`\n  z-index: ${props => props.index};\n  position: absolute;\n  top: ${props => (props.showHeader ? \"20px\" : 0)};\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: white;\n`;\n\ninterface ContentTransitionContainerProps {\n  isHidden: boolean;\n}\n\n/** Slides the view to the left if it isn't at the top of the stack. */\nconst ContentTransitionContainer = styled.div<ContentTransitionContainerProps>`\n  height: 100%;\n  transition: transform 0.3s;\n  transform: ${props => props.isHidden && \"translateX(-100%)\"};\n  overflow: auto;\n`;\n\ninterface Props {\n  windowStack: WindowOptions[];\n  index: number;\n  isHidden: boolean;\n}\n\nconst Window = ({ windowStack, index, isHidden }: Props) => {\n  const { headerTitle } = useWindowService();\n  const options = windowStack[index];\n  const firstInStack = index === 0;\n\n  return (\n    <Container\n      index={index}\n      showHeader={!!headerTitle}\n      {...(firstInStack ? noAnimation : slideRightAnimation)}\n    >\n      <ContentTransitionContainer isHidden={isHidden}>\n        <options.component />\n      </ContentTransitionContainer>\n    </Container>\n  );\n};\n\nexport default Window;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { WindowOptions } from \"services/window\";\nimport { AnimatePresence } from \"framer-motion\";\nimport Window from \"App/Interface/Window\";\nimport { Header } from \"components\";\n\ninterface ContainerProps {\n  isHidden: boolean;\n}\n\nconst Container = styled.div<ContainerProps>`\n  z-index: 3;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: white;\n  transition: all 0.35s;\n  transform: ${props => props.isHidden && \"translateX(100%)\"};\n`;\n\ninterface Props {\n  windowStack: WindowOptions[];\n}\n\nconst FullScreenInterface = ({ windowStack }: Props) => {\n  const isHidden = windowStack.length === 0;\n\n  return (\n    <Container isHidden={isHidden}>\n      <Header />\n      <AnimatePresence>\n        {windowStack.map((window, index) => (\n          <Window\n            key={`window-${window.id}`}\n            windowStack={windowStack}\n            index={index}\n            isHidden={index < windowStack.length - 1}\n          />\n        ))}\n      </AnimatePresence>\n    </Container>\n  );\n};\n\nexport default FullScreenInterface;\n","import React from 'react';\n\nimport { PREVIEW, Previews } from 'App/previews';\nimport { AnimatePresence } from 'framer-motion';\nimport { useWindowService } from 'services/window';\nimport styled, { css } from 'styled-components';\n\ninterface ContainerProps {\n  isHidden: boolean;\n}\n\nconst Container = styled.div<ContainerProps>`\n  z-index: 0;\n  position: relative;\n  flex: 0 0 50%;\n  background: white;\n  transition: all 0.35s;\n\n  ${props =>\n    props.isHidden &&\n    css`\n      transform: translateX(100%);\n      opacity: 0;\n      overflow: hidden;\n    `};\n`;\n\ninterface Props {\n  isHidden: boolean;\n}\n\nconst PreviewPanel = ({ isHidden }: Props) => {\n  const { preview } = useWindowService();\n  const PreviewComponent = Previews[preview];\n\n  return (\n    <Container isHidden={isHidden}>\n      <AnimatePresence>\n        {/* Music preview slides in, whereas the other previews simply appear. */}\n        {preview === PREVIEW.MUSIC && <PreviewComponent />}\n      </AnimatePresence>\n      {preview !== PREVIEW.MUSIC && <PreviewComponent />}\n    </Container>\n  );\n};\n\nexport default PreviewPanel;\n","import React from 'react';\n\nimport Window from 'App/Interface/Window';\nimport { Header } from 'components';\nimport { AnimatePresence } from 'framer-motion';\nimport { WindowOptions } from 'services/window';\nimport styled, { css } from 'styled-components';\n\nimport PreviewPanel from './PreviewPanel';\n\nconst Container = styled.div`\n  z-index: 2;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n`;\n\ninterface PanelProps {\n  isHidden: boolean;\n}\n\nconst LeftPanel = styled.div<PanelProps>`\n  z-index: 1;\n  position: relative;\n  flex: 0 0 50%;\n  box-shadow: 0 0 24px black;\n  transition: all 0.35s;\n  overflow: hidden;\n\n  ${props =>\n    props.isHidden &&\n    css`\n      transition-delay: 0.05s;\n      transform: translateX(-100%);\n      box-shadow: none;\n    `};\n`;\n\ninterface Props {\n  windowStack: WindowOptions[];\n  menuHidden: boolean;\n  allHidden: boolean;\n}\n\nconst SplitScreenInterface = ({\n  windowStack,\n  menuHidden,\n  allHidden\n}: Props) => {\n  return (\n    <Container>\n      <LeftPanel isHidden={menuHidden || allHidden}>\n        <Header />\n        <AnimatePresence>\n          {windowStack.map((window, index) => (\n            <Window\n              key={`window-${window.id}`}\n              windowStack={windowStack}\n              index={index}\n              isHidden={index < windowStack.length - 1}\n            />\n          ))}\n        </AnimatePresence>\n      </LeftPanel>\n      <PreviewPanel isHidden={allHidden} />\n    </Container>\n  );\n};\n\nexport default SplitScreenInterface;\n","import React from 'react';\n\nimport { WINDOW_TYPE } from 'App/views';\nimport { Screen, Unit } from 'components';\nimport { useWindowService } from 'services/window';\nimport styled from 'styled-components';\n\nimport CoverFlowInterface from './CoverFlowInterface';\nimport FullScreenInterface from './FullScreenInterface';\nimport SplitScreenInterface from './SplitScreenInterface';\n\nconst Container = styled.div`\n  position: relative;\n  height: 260px;\n  margin: ${Unit.LG} ${Unit.LG} ${Unit.XL};\n  border: 4px solid black;\n  border-radius: ${Unit.XS};\n  overflow: hidden;\n  background: white;\n  animation: fadeFromBlack 0.5s;\n\n  @keyframes fadeFromBlack {\n    0% {\n      filter: brightness(0);\n    }\n  }\n\n  ${Screen.SM} {\n    @media screen and (max-height: 750px) {\n      margin: ${Unit.SM} ${Unit.SM} ${Unit.XL};\n    }\n  }\n`;\n\n/** Prevents the user from scrolling the display with a mouse. */\nconst Mask = styled.div`\n  z-index: 100;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst Interface = () => {\n  const { windowStack } = useWindowService();\n  const splitViewWindows = windowStack.filter(\n    window => window.type === WINDOW_TYPE.SPLIT\n  );\n  const fullViewWindows = windowStack.filter(\n    window => window.type === WINDOW_TYPE.FULL\n  );\n  const coverFlowWindow = windowStack.find(\n    window => window.type === WINDOW_TYPE.COVER_FLOW\n  );\n\n  return (\n    <Container>\n      <Mask />\n      <CoverFlowInterface window={coverFlowWindow} />\n      <SplitScreenInterface\n        windowStack={splitViewWindows}\n        menuHidden={fullViewWindows.length > 0}\n        allHidden={!!coverFlowWindow}\n      />\n      <FullScreenInterface windowStack={fullViewWindows} />\n    </Container>\n  );\n};\n\nexport default Interface;\n","import React from 'react';\n\nimport { ScrollWheel } from 'components';\nimport AudioProvider from 'services/audio';\nimport WindowProvider from 'services/window';\nimport styled, { createGlobalStyle } from 'styled-components';\n\nimport Audio from './Audio';\nimport Interface from './Interface';\n\nconst GlobalStyles = createGlobalStyle`\n   body {\n      font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n      font-size: 16px;\n      box-sizing: border-box;\n\n      @media (prefers-color-scheme: dark) {\n        background: black;\n      }\n   }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  @media screen and (min-width: 750px) {\n    height: 100vh;\n    display: flex;\n  }\n`;\n\nconst Shell = styled.div`\n  position: relative;\n  height: 100vh;\n  margin: auto;\n  max-height: 36.5em;\n  width: 370px;\n  border-radius: 30px;\n  box-shadow: inset 0 0 2.4em #555;\n  background: linear-gradient(180deg, #e3e3e3 0%, #d6d6d6 100%);\n  -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(50%, transparent), to(rgba(250, 250, 250, 0.3)));\n  animation: descend 1.5s ease;\n\n  @media (prefers-color-scheme: dark) {\n    box-shadow: inset 0 0 2.4em black;\n  }\n\n  @media screen and (max-width: 400px) {\n    animation: none;\n    border-radius: 0;\n    -webkit-box-reflect: unset;\n  }\n\n  @keyframes descend {\n    0% {\n      transform: scale(0.3);\n      opacity: 0;\n    }\n\n    100% {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n`;\n\nconst App: React.FC = () => {\n  return (\n    <Container>\n      <GlobalStyles />\n      <AudioProvider>\n        <WindowProvider>\n          <Shell>\n            <Interface />\n            <ScrollWheel />\n            <Audio />\n          </Shell>\n        </WindowProvider>\n      </AudioProvider>\n    </Container>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport ApolloClient from 'apollo-boost';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst client = new ApolloClient({\n  uri: \"https://05aacd63.ngrok.io/graphql\"\n});\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}